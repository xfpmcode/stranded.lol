		local ReplicatedStorage = cloneref(game:GetService("ReplicatedStorage"));
	local Players, Workspace, RS, Camera, HttpService, GuiService, VirtualInputManager, TweenService, CoreGui, Lighting, Uis, SoundService, LogService = game:GetService("Players"), cloneref(game:GetService("Workspace")), cloneref(game:GetService("RunService")), cloneref(game:GetService("Workspace").CurrentCamera), cloneref(game:GetService("HttpService")), cloneref(game:GetService("GuiService")), cloneref(game:GetService("VirtualInputManager")), cloneref(game:GetService("TweenService")), cloneref(game:GetService("CoreGui")), cloneref(game:GetService("Lighting")), cloneref(game:GetService("UserInputService")), cloneref(game:GetService("SoundService")), cloneref(game:GetService("LogService"));
	local Client, Mouse, GuiOffset = Players.LocalPlayer, Players.LocalPlayer:GetMouse(), GuiService:GetGuiInset().Y;
	local Script = {Variables={InVoid=false,LastTickInVoid=0,RealPosition=nil,LastUserInput=0},Connections={},Desync={}};
	local Target = nil;
	do
		local Game_LogService_MessageOut = LogService.MessageOut;
		local Current_Connections = {};
		local Hooked_Connections = {};
		local XVNP_LASTUPDATE = 0;
		local XVNP_UPDATEINTERVAL = 5;
		local XVNP_CONNECTIONSNIFFER;
		local function XVNP_L(CONNECTION)
			local s, e = pcall(function()
				local OPENAC_TABLE = debug.getupvalues(CONNECTION.Function)[9];
				local OPENAC_FUNCTION = OPENAC_TABLE[1];
				debug.setupvalue(OPENAC_FUNCTION, 14, function(...)
					return function(...)
						local args = {...};
						if args and type(args[1]) == "table" and args[1] and args[1][1] then
							pcall(function()
								if type(args[1][1]) == "userdata" then
									if args[1][1] and args[1][1].Disconnect then args[1][1]:Disconnect() end
									if args[1][2] and args[1][2].Disconnect then args[1][2]:Disconnect() end
									if args[1][3] and args[1][3].Disconnect then args[1][3]:Disconnect() end
									if args[1][4] and args[1][4].Disconnect then args[1][4]:Disconnect() end
								end
							end);
						end
					end;
				end);
				debug.setupvalue(OPENAC_FUNCTION, 1, function(...)
					local args = {...}
					task.wait(200);
					return args
				end);
				hookfunction(OPENAC_FUNCTION, function(...)
					local args = {...}
					return args[1] or {};
				end);
			end);
		end
		XVNP_CONNECTIONSNIFFER = RS.RenderStepped:Connect(function()
			if (#getconnections(Game_LogService_MessageOut) >= 2) then
				XVNP_CONNECTIONSNIFFER:Disconnect();
			end
			if ((tick() - XVNP_LASTUPDATE) >= XVNP_UPDATEINTERVAL) then
				XVNP_LASTUPDATE = tick();
				local OpenAc_Connections = getconnections(Game_LogService_MessageOut);
				for _, CONNECTION in OpenAc_Connections do
					if not table.find(Current_Connections, CONNECTION) then
						table.insert(Current_Connections, CONNECTION);
						table.insert(Hooked_Connections, CONNECTION);
						XVNP_L(CONNECTION);
					end
				end
			end
		end);
	end
	if cloneref(game:GetService("ReplicatedStorage")):FindFirstChild("OpenAC Replicated Folder") then
		for _, v in ipairs(getconnections(cloneref(game:GetService("LogService")).MessageOut)) do
			v:Disable()
		end

		local openAC = cloneref(game:GetService("ReplicatedStorage")):FindFirstChild("OpenAC Replicated Folder")
		if openAC then
			openAC:Destroy()
		end
	end
	local uis = game:GetService("UserInputService")
	local players = game:GetService("Players")
	local ws = game:GetService("Workspace")
	local http_service = game:GetService("HttpService")
	local gui_service = game:GetService("GuiService")
	local lighting = game:GetService("Lighting")
	local run = game:GetService("RunService")
	local stats = game:GetService("Stats")
	local coregui = game:GetService("CoreGui")
	local debris = game:GetService("Debris")
	local tween_service = game:GetService("TweenService")
	local rs = game:GetService("ReplicatedStorage")

	local vec2 = Vector2.new
	local vec3 = Vector3.new
	local dim2 = UDim2.new
	local dim = UDim.new
	local rect = Rect.new
	local cfr = CFrame.new

	local color = Color3.new
	local rgb = Color3.fromRGB
	local hex = Color3.fromHex
	local hsv = Color3.fromHSV
	local rgbseq = ColorSequence.new
	local rgbkey = ColorSequenceKeypoint.new

		local fflags_original = {
		PhysicsSenderMaxBandwidthBps = "38760",
		S2PhysicsSenderRate = "15"
	}
	local fflags_active = false

	local camera = ws.CurrentCamera
	local lp = players.LocalPlayer
	local mouse = lp:GetMouse()
	local gui_offset = gui_service:GetGuiInset().Y

	local max = math.max
	local floor = math.floor
	local min = math.min
	local abs = math.abs

	if getgenv().library then
		getgenv().library:unload()
	end

		getgenv().library = {
		flags = {},
		config_flags = {},
		connections = {},
		notifications = {},
		instances = {},
		main_frame = {},
		config_holder,
		silent_aim = {
			enabled = false,
			active = false,
			hit_part = "Head",
			fov_visible = true,
			fov_radius = 150,
			fov_color = rgb(255, 0, 0),
			fov_thickness = 1,
			fov_transparency = 1,
			target_part = nil,
			target_tracer = false,
			tracer_color = rgb(255, 0, 0),
			tracer_from = "center",
						visible_check = false,
			knocked_check = true,
			crew_check = false,
			wall_check = false,
						sticky_mode = false,
			sticky_target = nil,
		},
		camera_lock = {
			enabled = false,
			active = false,
			target = nil,
			smoothness = 1,
			predict_movement = false,
			prediction_amount = 0.1,
			fov_visible = true,
			fov_radius = 200,
			fov_color = rgb(0, 255, 0),
			fov_thickness = 1,
			fov_transparency = 1
		},
		magic_bullet = {
			enabled = false,
			target = nil,
			fov_visible = true,
			fov_radius = 200,
			fov_color = rgb(0, 255, 0),
			fov_thickness = 2,
			hook = nil,
			target_head = nil,
			target_position = nil,
		},
		world_mods_enabled = false,
		default_lighting = {
			ambient = lighting.Ambient,
			outdoor_ambient = lighting.OutdoorAmbient,
			exposure = lighting.ExposureCompensation,
			fog_start = lighting.FogStart,
			fog_end = lighting.FogEnd,
			fog_color = lighting.FogColor,
			brightness = lighting.Brightness,
			clock_time = lighting.ClockTime,
		},
		world_settings = {
			ambient = rgb(0, 0, 0),
			outdoor_ambient = rgb(80, 120, 200),
			exposure = 0,
			fog_start = 0,
			fog_end = 1000,
			fog_color = rgb(80, 120, 200),
			brightness = 0,
			clock_time = 0,
			skybox_enabled = false,
			selected_skybox = "Sunset",
			color_correction_enabled = false,
			color_correction_brightness = 0,
			color_correction_contrast = 0,
			color_correction_saturation = 0,
			global_shadows = false,
			technology = "Legacy",
			snow_enabled = false,
		},
		skyboxes = {
			["Sunset"] = {
				SkyboxBk = "http://www.roblox.com/asset/?id=458016711",
				SkyboxDn = "http://www.roblox.com/asset/?id=458016826",
				SkyboxFt = "http://www.roblox.com/asset/?id=458016532",
				SkyboxLf = "http://www.roblox.com/asset/?id=458016655",
				SkyboxRt = "http://www.roblox.com/asset/?id=458016782",
				SkyboxUp = "http://www.roblox.com/asset/?id=458016792"
			},
			["Night Sky 1"] = {
				SkyboxBk = "rbxassetid://48020371",
				SkyboxDn = "rbxassetid://48020144",
				SkyboxFt = "rbxassetid://48020234",
				SkyboxLf = "rbxassetid://48020211",
				SkyboxRt = "rbxassetid://48020254",
				SkyboxUp = "rbxassetid://48020383"
			},
			["Evening"] = {
				SkyboxLf = "http://www.roblox.com/asset/?id=7950573918",
				SkyboxBk = "http://www.roblox.com/asset/?id=7950569153",
				SkyboxDn = "http://www.roblox.com/asset/?id=7950570785",
				SkyboxFt = "http://www.roblox.com/asset/?id=7950572449",
				SkyboxRt = "http://www.roblox.com/asset/?id=7950575055",
				SkyboxUp = "http://www.roblox.com/asset/?id=7950627627"
			},
			["Purple Nebula"] = {
				SkyboxBk = "rbxassetid://159454299",
				SkyboxDn = "rbxassetid://159454296",
				SkyboxFt = "rbxassetid://159454293",
				SkyboxLf = "rbxassetid://159454286",
				SkyboxRt = "rbxassetid://159454300",
				SkyboxUp = "rbxassetid://159454288"
			},
			["Night Sky 2"] = {
				SkyboxBk = "rbxassetid://12064107",
				SkyboxDn = "rbxassetid://12064152",
				SkyboxFt = "rbxassetid://12064121",
				SkyboxLf = "rbxassetid://12063984",
				SkyboxRt = "rbxassetid://12064115",
				SkyboxUp = "rbxassetid://12064131"
			},
			["Pink Daylight"] = {
				SkyboxBk = "rbxassetid://271042516",
				SkyboxDn = "rbxassetid://271077243",
				SkyboxFt = "rbxassetid://271042556",
				SkyboxLf = "rbxassetid://271042310",
				SkyboxRt = "rbxassetid://271042467",
				SkyboxUp = "rbxassetid://271077958"
			},
			["Morning Glow"] = {
				SkyboxBk = "rbxassetid://1417494030",
				SkyboxDn = "rbxassetid://1417494146",
				SkyboxFt = "rbxassetid://1417494253",
				SkyboxLf = "rbxassetid://1417494402",
				SkyboxRt = "rbxassetid://1417494499",
				SkyboxUp = "rbxassetid://1417494643"
			},
			["Chill"] = {
				SkyboxBk = "rbxassetid://5084575798",
				SkyboxDn = "rbxassetid://5084575916",
				SkyboxFt = "rbxassetid://5103949679",
				SkyboxLf = "rbxassetid://5103948542",
				SkyboxRt = "rbxassetid://5103948784",
				SkyboxUp = "rbxassetid://5084576400"
			},
			["Setting Sun"] = {
				SkyboxBk = "rbxassetid://626460377",
				SkyboxDn = "rbxassetid://626460216",
				SkyboxFt = "rbxassetid://626460513",
				SkyboxLf = "rbxassetid://626473032",
				SkyboxRt = "rbxassetid://626458639",
				SkyboxUp = "rbxassetid://626460625"
			},
			["Fade Blue"] = {
				SkyboxBk = "rbxassetid://153695414",
				SkyboxDn = "rbxassetid://153695352",
				SkyboxFt = "rbxassetid://153695452",
				SkyboxLf = "rbxassetid://153695320",
				SkyboxRt = "rbxassetid://153695383",
				SkyboxUp = "rbxassetid://153695471"
			},
			["Twilight"] = {
				SkyboxBk = "rbxassetid://264908339",
				SkyboxDn = "rbxassetid://264907909",
				SkyboxFt = "rbxassetid://264909420",
				SkyboxLf = "rbxassetid://264909758",
				SkyboxRt = "rbxassetid://264908886",
				SkyboxUp = "rbxassetid://264907379"
			},
			["Elegant Morning"] = {
				SkyboxBk = "rbxassetid://153767241",
				SkyboxDn = "rbxassetid://153767216",
				SkyboxFt = "rbxassetid://153767266",
				SkyboxLf = "rbxassetid://153767200",
				SkyboxRt = "rbxassetid://153767231",
				SkyboxUp = "rbxassetid://153767288"
			},
			["Neptune"] = {
				SkyboxBk = "rbxassetid://218955819",
				SkyboxDn = "rbxassetid://218953419",
				SkyboxFt = "rbxassetid://218954524",
				SkyboxLf = "rbxassetid://218958493",
				SkyboxRt = "rbxassetid://218957134",
				SkyboxUp = "rbxassetid://218950090"
			},
			["Redshift"] = {
				SkyboxBk = "rbxassetid://401664839",
				SkyboxDn = "rbxassetid://401664862",
				SkyboxFt = "rbxassetid://401664960",
				SkyboxLf = "rbxassetid://401664881",
				SkyboxRt = "rbxassetid://401664901",
				SkyboxUp = "rbxassetid://401664936"
			},
			["Aesthetic Night"] = {
				SkyboxBk = "rbxassetid://1045964490",
				SkyboxDn = "rbxassetid://1045964368",
				SkyboxFt = "rbxassetid://1045964655",
				SkyboxLf = "rbxassetid://1045964655",
				SkyboxRt = "rbxassetid://1045964655",
				SkyboxUp = "rbxassetid://1045962969"
			}
		},
		current_tab,
		current_element_open,
		dock_button_holder,
		gui,
		sin = 0,
		keybind_path,
		panel_open = false,
		fakepos = {
			enabled = false,
			active = false,
			keybind = Enum.KeyCode.H,
			offset_x = 0,
			offset_y = -6,
			offset_z = 0,
			rotation = 90,
			extreme_mode = false,
			anticlip = false,
		},
		spinbot = {
			enabled = false,
			speed = 50,
			mode = "Normal", 			x_enabled = true,
			y_enabled = true,
			z_enabled = true,
			server_only = false,
		},
		target_aim = {
			enabled = false,
			active = false,
			target = "None",
			auto_fire = false,
			strafe = false,
			csync = false,
			visualize_strafe = false,
			visualize_strafe_color = Color3.fromRGB(0, 0, 0),
			strafe_method = "Randomize",
			highlight = false,
			highlight_fill_color = Color3.fromRGB(0, 0, 0),
			highlight_outline_color = Color3.fromRGB(129, 105, 145),
			tracer = false,
			tracer_position = "Mouse",
			tracer_fill_color = Color3.fromRGB(0, 0, 0),
			tracer_outline_color = Color3.fromRGB(0, 0, 0),
			look_at = false,
			void_resolver = false,
			auto_stomp = false,
		},
		kill_aura = {
			enabled = false,
			range = 500,
		},
		rapid_fire = {
			enabled = false,
		},
		bullet_spread = {
			enabled = false,
			amount = 100,
		},
		protection = {
			admin_detection = false,
			anti_rpg = false,
			anti_fling = false,
			no_jump_cooldown = false,
		},
		autobuy = {
			selected_gun = "[Rifle]",
			buy_ammo = false,
			auto_loadout = false,
			auto_armor = false,
			buying_single = false,
		},
		screen = {
			fov_changer_enabled = false,
			fov_changer = 70,
			resolution_changer_enabled = false,
			resolution_x = 100,
			resolution_y = 100,
		},
		rotate_tool = {
			enabled = false,
			speed = 60,
		},
	hitpack = {
		hit_detection = false,
		hit_effect = false,
		hit_sounds = false,
		hit_indicator = false,
		hit_indicator_animation = "Bounce",
		hit_notifications_enabled = false,
		hit_notification_type = "Console Output",
		hit_notification_animation = "Bounce",
		selected_hit_sound = "Skeet",
		selected_hit_effect = "Nova",
	},		directory = "Skeet",
		folders = {
			"/fonts",
			"/configs",
		},
		font,
	}

	local flags = library.flags
	local config_flags = library.config_flags



	if not game:IsLoaded() then 
		game.Loaded:Wait()
	end

	local IsA = game.IsA
	local jump_cooldown_newindex = nil 

	jump_cooldown_newindex = hookmetamethod(game, "__newindex", newcclosure(function(self, Index, Value)
		if not checkcaller() and IsA(self, "Humanoid") and Index == "JumpPower" and library.protection.no_jump_cooldown then 
			return
		end

		return jump_cooldown_newindex(self, Index, Value)
	end))

	
	local themes = {
		preset = {
			["outline"] = rgb(32, 32, 38), 			["inline"] = rgb(60, 55, 75), 			["accent"] = rgb(100, 100, 255), 			["contrast"] = rgb(35, 35, 47),
			["text"] = rgb(170, 170, 170),
			["unselected_text"] = rgb(90, 90, 90),
			["text_outline"] = rgb(0, 0, 0),
			["glow"] = rgb(100, 100, 255),
		},

		utility = {
			["outline"] = {
				["BackgroundColor3"] = {},
				["Color"] = {},
			},
			["inline"] = {
				["BackgroundColor3"] = {},
			},
			["accent"] = {
				["BackgroundColor3"] = {},
				["TextColor3"] = {},
				["ImageColor3"] = {},
				["BorderColor3"] = {},
				["ScrollBarImageColor3"] = {},
			},
			["contrast"] = {
				["Color"] = {},
			},
			["text"] = {
				["TextColor3"] = {},
			},
			["text_outline"] = {
				["Color"] = {},
			},
			["glow"] = {
				["ImageColor3"] = {},
			},
		},
	}

	local keys = {
		[Enum.KeyCode.LeftShift] = "LS",
		[Enum.KeyCode.RightShift] = "RS",
		[Enum.KeyCode.LeftControl] = "LC",
		[Enum.KeyCode.RightControl] = "RC",
		[Enum.KeyCode.Insert] = "INS",
		[Enum.KeyCode.Backspace] = "BS",
		[Enum.KeyCode.Return] = "Ent",
		[Enum.KeyCode.LeftAlt] = "LA",
		[Enum.KeyCode.RightAlt] = "RA",
		[Enum.KeyCode.CapsLock] = "CAPS",
		[Enum.KeyCode.One] = "1",
		[Enum.KeyCode.Two] = "2",
		[Enum.KeyCode.Three] = "3",
		[Enum.KeyCode.Four] = "4",
		[Enum.KeyCode.Five] = "5",
		[Enum.KeyCode.Six] = "6",
		[Enum.KeyCode.Seven] = "7",
		[Enum.KeyCode.Eight] = "8",
		[Enum.KeyCode.Nine] = "9",
		[Enum.KeyCode.Zero] = "0",
		[Enum.KeyCode.KeypadOne] = "Num1",
		[Enum.KeyCode.KeypadTwo] = "Num2",
		[Enum.KeyCode.KeypadThree] = "Num3",
		[Enum.KeyCode.KeypadFour] = "Num4",
		[Enum.KeyCode.KeypadFive] = "Num5",
		[Enum.KeyCode.KeypadSix] = "Num6",
		[Enum.KeyCode.KeypadSeven] = "Num7",
		[Enum.KeyCode.KeypadEight] = "Num8",
		[Enum.KeyCode.KeypadNine] = "Num9",
		[Enum.KeyCode.KeypadZero] = "Num0",
		[Enum.KeyCode.Minus] = "-",
		[Enum.KeyCode.Equals] = "=",
		[Enum.KeyCode.Tilde] = "~",
		[Enum.KeyCode.LeftBracket] = "[",
		[Enum.KeyCode.RightBracket] = "]",
		[Enum.KeyCode.RightParenthesis] = ")",
		[Enum.KeyCode.LeftParenthesis] = "(",
		[Enum.KeyCode.Semicolon] = ",",
		[Enum.KeyCode.Quote] = "'",
		[Enum.KeyCode.BackSlash] = "\\",
		[Enum.KeyCode.Comma] = ",",
		[Enum.KeyCode.Period] = ".",
		[Enum.KeyCode.Slash] = "/",
		[Enum.KeyCode.Asterisk] = "*",
		[Enum.KeyCode.Plus] = "+",
		[Enum.KeyCode.Period] = ".",
		[Enum.KeyCode.Backquote] = "`",
		[Enum.UserInputType.MouseButton1] = "MB1",
		[Enum.UserInputType.MouseButton2] = "MB2",
		[Enum.UserInputType.MouseButton3] = "MB3",
		[Enum.KeyCode.Escape] = "ESC",
		[Enum.KeyCode.Space] = "SPC",
	}

	library.__index = library

	for _, path in next, library.folders do
		makefolder(library.directory .. path)
	end

	if not isfile(library.directory .. "/fonts/main.ttf") then
		writefile(
			library.directory .. "/fonts/main.ttf",
			game:HttpGet("https://github.com/i77lhm/storage/raw/refs/heads/main/fonts/fs-tahoma-8px.ttf")
		)
	end

	local tahoma = {
		name = "SmallestPixel7",
		faces = {
			{
				name = "Regular",
				weight = 400,
				style = "normal",
				assetId = getcustomasset(library.directory .. "/fonts/main.ttf"),
			},
		},
	}

	if not isfile(library.directory .. "/fonts/main_encoded.ttf") then
		writefile(library.directory .. "/fonts/main_encoded.ttf", http_service:JSONEncode(tahoma))
	end

	library.font = Font.new(getcustomasset(library.directory .. "/fonts/main_encoded.ttf"), Enum.FontWeight.Regular)
	
																		local esplib = {
		box = {
			enabled = false,
			type = "normal", 			padding = 1.15,
			fill = Color3.new(1,1,1),
			outline = Color3.new(0,0,0),
		},
		healthbar = {
			enabled = false,
			fill = Color3.new(0,1,0),
			outline = Color3.new(0,0,0),
		},
		armorbar = {
			enabled = false,
			fill = Color3.new(0,0.5,1),
			outline = Color3.new(0,0,0),
		},
		name = {
			enabled = false,
			fill = Color3.new(1,1,1),
			size = 13,
		},
		distance = {
			enabled = false,
			fill = Color3.new(1,1,1),
			size = 13,
		},
		tracer = {
			enabled = false,
			fill = Color3.new(1,1,1),
			outline = Color3.new(0,0,0),
			from = "bottom", 		},
		highlight = {
			enabled = false,
			fill_color = rgb(173, 216, 230),
			outline_color = rgb(255, 255, 255),
			fill_transparency = 0.5,
			outline_transparency = 0,
		},
	}

	local espinstances = {}
	local espfunctions = {}

		local positionCache = {}
	local distanceCache = {}
	local healthCache = {}
	local armorCache = {}
	local playerConnections = {}
	local lastVisibilityState = {}  
		local offsets = {
		Vector3.new(1, 1, 1),
		Vector3.new(-1, 1, 1),
		Vector3.new(1, -1, 1),
		Vector3.new(-1, -1, 1),
		Vector3.new(1, 1, -1),
		Vector3.new(-1, 1, -1),
		Vector3.new(1, -1, -1),
		Vector3.new(-1, -1, -1)
	}

		local players_service = players
	local workspace_service = workspace
	local camera_obj = camera

		local vec2_new = Vector2.new
	local vec3_new = Vector3.new
	local math_min = math.min
	local math_max = math.max
	local math_clamp = math.clamp
	local math_floor = math.floor

		local function isInCameraFrustum(position)
		local _, onScreen = camera_obj:WorldToViewportPoint(position)
		return onScreen
	end

	local function quickFrustumCheck(instance)
		if instance:IsA("Model") then
			local hrp = instance:FindFirstChild("HumanoidRootPart")
			if hrp then
				return isInCameraFrustum(hrp.Position)
			end
		elseif instance:IsA("BasePart") then
			return isInCameraFrustum(instance.Position)
		end
		return true
	end

	local function get_bounding_box(instance)
		local min, max = vec2_new(math.huge, math.huge), vec2_new(-math.huge, -math.huge)
		local onscreen = false
		local padding = esplib.box.padding

		if instance:IsA("Model") then
						local hrp = instance:FindFirstChild("HumanoidRootPart")
			if hrp then
				local size = hrp.Size * 0.5 * padding
				local cf = hrp.CFrame
				for i = 1, 8 do
					local offset = offsets[i]
					local pos, visible = camera_obj:WorldToViewportPoint(cf:PointToWorldSpace(vec3_new(size.X * offset.X, size.Y * offset.Y * 2.5, size.Z * offset.Z)))
					if visible then
						min = vec2_new(math_min(min.X, pos.X), math_min(min.Y, pos.Y))
						max = vec2_new(math_max(max.X, pos.X), math_max(max.Y, pos.Y))
						onscreen = true
					end
				end
			else
								for _, p in ipairs(instance:GetChildren()) do
					if p:IsA("BasePart") then
						local size = (p.Size / 2) * padding
						local cf = p.CFrame
						for i = 1, 8 do
							local offset = offsets[i]
							local pos, visible = camera_obj:WorldToViewportPoint(cf:PointToWorldSpace(vec3_new(size.X * offset.X, size.Y * offset.Y, size.Z * offset.Z)))
							if visible then
								min = vec2_new(math_min(min.X, pos.X), math_min(min.Y, pos.Y))
								max = vec2_new(math_max(max.X, pos.X), math_max(max.Y, pos.Y))
								onscreen = true
							end
						end
					elseif p:IsA("Accessory") then
						local handle = p:FindFirstChild("Handle")
						if handle and handle:IsA("BasePart") then
							local size = (handle.Size / 2) * padding
							local cf = handle.CFrame
							for i = 1, 8 do
								local offset = offsets[i]
								local pos, visible = camera_obj:WorldToViewportPoint(cf:PointToWorldSpace(vec3_new(size.X * offset.X, size.Y * offset.Y, size.Z * offset.Z)))
								if visible then
									min = vec2_new(math_min(min.X, pos.X), math_min(min.Y, pos.Y))
									max = vec2_new(math_max(max.X, pos.X), math_max(max.Y, pos.Y))
									onscreen = true
								end
							end
						end
					end
				end
			end
		elseif instance:IsA("BasePart") then
			local size = (instance.Size / 2)
			local cf = instance.CFrame
			for i = 1, 8 do
				local offset = offsets[i]
				local pos, visible = camera_obj:WorldToViewportPoint(cf:PointToWorldSpace(vec3_new(size.X * offset.X, size.Y * offset.Y, size.Z * offset.Z)))
				if visible then
					min = vec2_new(math_min(min.X, pos.X), math_min(min.Y, pos.Y))
					max = vec2_new(math_max(max.X, pos.X), math_max(max.Y, pos.Y))
					onscreen = true
				end
			end
		end

		return min, max, onscreen
	end

	function espfunctions.add_box(instance)
		if not instance or espinstances[instance] and espinstances[instance].box then return end

		local box = {}

		local outline = Drawing.new("Square")
		outline.Thickness = 3
		outline.Filled = false
		outline.Transparency = 1
		outline.Visible = false

		local fill = Drawing.new("Square")
		fill.Thickness = 1
		fill.Filled = false
		fill.Transparency = 1
		fill.Visible = false

		box.outline = outline
		box.fill = fill

		box.corner_fill = {}
		box.corner_outline = {}
		for i = 1, 8 do
			local outline = Drawing.new("Line")
			outline.Thickness = 3
			outline.Transparency = 1
			outline.Visible = false

			local fill = Drawing.new("Line")
			fill.Thickness = 1
			fill.Transparency = 1
			fill.Visible = false
			table.insert(box.corner_fill, fill)

			table.insert(box.corner_outline, outline)
		end

		espinstances[instance] = espinstances[instance] or {}
		espinstances[instance].box = box
	end

	function espfunctions.add_healthbar(instance)
		if not instance or espinstances[instance] and espinstances[instance].healthbar then return end
		local outline = Drawing.new("Square")
		outline.Thickness = 1
		outline.Filled = true
		outline.Transparency = 1

		local fill = Drawing.new("Square")
		fill.Filled = true
		fill.Transparency = 1

		espinstances[instance] = espinstances[instance] or {}
		espinstances[instance].healthbar = {
			outline = outline,
			fill = fill,
		}
	end

	function espfunctions.add_armorbar(instance)
		if not instance or espinstances[instance] and espinstances[instance].armorbar then return end
		local outline = Drawing.new("Square")
		outline.Thickness = 1
		outline.Filled = true
		outline.Transparency = 1

		local fill = Drawing.new("Square")
		fill.Filled = true
		fill.Transparency = 1

		espinstances[instance] = espinstances[instance] or {}
		espinstances[instance].armorbar = {
			outline = outline,
			fill = fill,
		}
	end

	function espfunctions.add_name(instance)
		if not instance or espinstances[instance] and espinstances[instance].name then return end
		local text = Drawing.new("Text")
		text.Center = true
		text.Outline = true
		text.Font = 1
		text.Transparency = 1

		espinstances[instance] = espinstances[instance] or {}
		espinstances[instance].name = text
	end

	function espfunctions.add_distance(instance)
		if not instance or espinstances[instance] and espinstances[instance].distance then return end
		local text = Drawing.new("Text")
		text.Center = true
		text.Outline = true
		text.Font = 1
		text.Transparency = 1

		espinstances[instance] = espinstances[instance] or {}
		espinstances[instance].distance = text
	end

	function espfunctions.add_tracer(instance)
		if not instance or espinstances[instance] and espinstances[instance].tracer then return end
		local outline = Drawing.new("Line")
		outline.Thickness = 3
		outline.Transparency = 1

		local fill = Drawing.new("Line")
		fill.Thickness = 1
		fill.Transparency = 1

		espinstances[instance] = espinstances[instance] or {}
		espinstances[instance].tracer = {
			outline = outline,
			fill = fill,
		}
	end

	function espfunctions.add_highlight(instance)
		if not instance or espinstances[instance] and espinstances[instance].highlight then return end
		
		local highlight = Instance.new("Highlight")
		highlight.Adornee = instance
		highlight.FillColor = esplib.highlight.fill_color
		highlight.OutlineColor = esplib.highlight.outline_color
		highlight.FillTransparency = esplib.highlight.fill_transparency
		highlight.OutlineTransparency = esplib.highlight.outline_transparency
		highlight.Enabled = false
		highlight.Parent = coregui
		
		espinstances[instance] = espinstances[instance] or {}
		espinstances[instance].highlight = highlight
	end

		local function hideAllESP(data)
		if data.box then
			data.box.outline.Visible = false
			data.box.fill.Visible = false
			for i = 1, 8 do
				data.box.corner_fill[i].Visible = false
				data.box.corner_outline[i].Visible = false
			end
		end
		if data.healthbar then
			data.healthbar.outline.Visible = false
			data.healthbar.fill.Visible = false
		end
		if data.armorbar then
			data.armorbar.outline.Visible = false
			data.armorbar.fill.Visible = false
		end
		if data.name then
			data.name.Visible = false
		end
		if data.distance then
			data.distance.Visible = false
		end
		if data.tracer then
			data.tracer.outline.Visible = false
			data.tracer.fill.Visible = false
		end
		if data.highlight then
			data.highlight.Enabled = false
		end
	end

		local function cleanupESP(instance, data)
		if data.box then
			data.box.outline:Remove()
			data.box.fill:Remove()
			for i = 1, 8 do
				data.box.corner_fill[i]:Remove()
				data.box.corner_outline[i]:Remove()
			end
		end
		if data.healthbar then
			data.healthbar.outline:Remove()
			data.healthbar.fill:Remove()
		end
		if data.armorbar then
			data.armorbar.outline:Remove()
			data.armorbar.fill:Remove()
		end
		if data.name then
			data.name:Remove()
		end
		if data.distance then
			data.distance:Remove()
		end
		if data.tracer then
			data.tracer.outline:Remove()
			data.tracer.fill:Remove()
		end
		if data.highlight then
			data.highlight:Destroy()
		end
		positionCache[instance] = nil
		distanceCache[instance] = nil
		healthCache[instance] = nil
		armorCache[instance] = nil
		lastVisibilityState[instance] = nil
	end

		local function apply_esp_rendering()
		local cam_pos = camera_obj.CFrame.Position
		local viewport_x = camera_obj.ViewportSize.X
		local viewport_y = camera_obj.ViewportSize.Y
		
				local box_enabled = esplib.box.enabled
		local healthbar_enabled = esplib.healthbar.enabled
		local armorbar_enabled = esplib.armorbar.enabled
		local name_enabled = esplib.name.enabled
		local distance_enabled = esplib.distance.enabled
		local tracer_enabled = esplib.tracer.enabled
		local highlight_enabled = esplib.highlight.enabled
		
				if not (box_enabled or healthbar_enabled or armorbar_enabled or name_enabled or distance_enabled or tracer_enabled or highlight_enabled) then
			for instance, data in pairs(espinstances) do
				hideAllESP(data)
			end
			return
		end
		
		for instance, data in pairs(espinstances) do
						if not instance or not instance.Parent then
				cleanupESP(instance, data)
				espinstances[instance] = nil
				continue
			end

			if instance:IsA("Model") and not instance.PrimaryPart then
				continue
			end

						if instance:IsA("Model") then
				local humanoid = instance:FindFirstChildOfClass("Humanoid")
				if humanoid and humanoid.Health <= 0 then
					hideAllESP(data)
					continue
				end
			end

						if not quickFrustumCheck(instance) then
				hideAllESP(data)
				continue
			end

			local min, max, onscreen = get_bounding_box(instance)
			
						if not positionCache[instance] then
				positionCache[instance] = {min = min, max = max, wasOnscreen = onscreen}
			end
			local cache = positionCache[instance]
			local lerpFactor = 0.55
			
			if cache.wasOnscreen ~= onscreen then
				cache.min = min
				cache.max = max
				cache.wasOnscreen = onscreen
			elseif onscreen and cache.min and cache.max then
								cache.min = cache.min:Lerp(min, lerpFactor)
				cache.max = cache.max:Lerp(max, lerpFactor)
				min = cache.min
				max = cache.max
			end
			
						local center_x = (min.X + max.X) * 0.5
			local center_y = (min.Y + max.Y) * 0.5
			local box_height = max.Y - min.Y
			local box_size = box_height 			local half_size = box_size * 0.5
			
						local square_min = vec2_new(center_x - half_size, center_y - half_size)
			local square_max = vec2_new(center_x + half_size, center_y + half_size)

			if data.box and box_enabled then
				if onscreen then
					local x, y = square_min.X, square_min.Y
					local w, h = box_size, box_size
					
					if esplib.box.type == "normal" then
						local box = data.box
						box.outline.Position = square_min
						box.outline.Size = vec2_new(box_size, box_size)
						box.outline.Color = esplib.box.outline
						box.outline.Visible = true

						box.fill.Position = square_min
						box.fill.Size = vec2_new(box_size, box_size)
						box.fill.Color = esplib.box.fill
						box.fill.Visible = true

						for i = 1, 8 do
							box.corner_fill[i].Visible = false
							box.corner_outline[i].Visible = false
						end

					else 						local box = data.box
						local len = box_size * 0.25
						local fill_color = esplib.box.fill
						local outline_color = esplib.box.outline

												local o, f = box.corner_outline[1], box.corner_fill[1]
						o.From, o.To = vec2_new(x - 1, y), vec2_new(x + len + 1, y)
						f.From, f.To = vec2_new(x, y), vec2_new(x + len, y)
						o.Color, f.Color = outline_color, fill_color
						o.Visible, f.Visible = true, true
						
						o, f = box.corner_outline[2], box.corner_fill[2]
						o.From, o.To = vec2_new(x, y - 1), vec2_new(x, y + len + 1)
						f.From, f.To = vec2_new(x, y), vec2_new(x, y + len)
						o.Color, f.Color = outline_color, fill_color
						o.Visible, f.Visible = true, true

												o, f = box.corner_outline[3], box.corner_fill[3]
						o.From, o.To = vec2_new(x + w - len - 1, y), vec2_new(x + w + 1, y)
						f.From, f.To = vec2_new(x + w - len, y), vec2_new(x + w, y)
						o.Color, f.Color = outline_color, fill_color
						o.Visible, f.Visible = true, true
						
						o, f = box.corner_outline[4], box.corner_fill[4]
						o.From, o.To = vec2_new(x + w, y - 1), vec2_new(x + w, y + len + 1)
						f.From, f.To = vec2_new(x + w, y), vec2_new(x + w, y + len)
						o.Color, f.Color = outline_color, fill_color
						o.Visible, f.Visible = true, true

												o, f = box.corner_outline[5], box.corner_fill[5]
						o.From, o.To = vec2_new(x - 1, y + h), vec2_new(x + len + 1, y + h)
						f.From, f.To = vec2_new(x, y + h), vec2_new(x + len, y + h)
						o.Color, f.Color = outline_color, fill_color
						o.Visible, f.Visible = true, true
						
						o, f = box.corner_outline[6], box.corner_fill[6]
						o.From, o.To = vec2_new(x, y + h - len - 1), vec2_new(x, y + h + 1)
						f.From, f.To = vec2_new(x, y + h - len), vec2_new(x, y + h)
						o.Color, f.Color = outline_color, fill_color
						o.Visible, f.Visible = true, true

												o, f = box.corner_outline[7], box.corner_fill[7]
						o.From, o.To = vec2_new(x + w - len - 1, y + h), vec2_new(x + w + 1, y + h)
						f.From, f.To = vec2_new(x + w - len, y + h), vec2_new(x + w, y + h)
						o.Color, f.Color = outline_color, fill_color
						o.Visible, f.Visible = true, true
						
						o, f = box.corner_outline[8], box.corner_fill[8]
						o.From, o.To = vec2_new(x + w, y + h - len - 1), vec2_new(x + w, y + h + 1)
						f.From, f.To = vec2_new(x + w, y + h - len), vec2_new(x + w, y + h)
						o.Color, f.Color = outline_color, fill_color
						o.Visible, f.Visible = true, true

						box.outline.Visible = false
						box.fill.Visible = false
					end
				else
					local box = data.box
					box.outline.Visible = false
					box.fill.Visible = false
					for i = 1, 8 do
						box.corner_fill[i].Visible = false
						box.corner_outline[i].Visible = false
					end
				end
			elseif data.box then
				local box = data.box
				box.outline.Visible = false
				box.fill.Visible = false
				for i = 1, 8 do
					box.corner_fill[i].Visible = false
					box.corner_outline[i].Visible = false
				end
			end

			if data.healthbar and healthbar_enabled then
				if onscreen then
					local humanoid = instance:FindFirstChildOfClass("Humanoid")
					if humanoid then
						local outline, fill = data.healthbar.outline, data.healthbar.fill
						local height = box_size
						local x = square_min.X - 5
						local y = square_min.Y - 1
						local health = math.clamp(humanoid.Health / humanoid.MaxHealth, 0, 1)
						
												if not healthCache[instance] then
							healthCache[instance] = health
						end
						local cachedHealth = healthCache[instance]
						local smoothHealth = cachedHealth + ((health - cachedHealth) * 0.4)
						healthCache[instance] = smoothHealth
						
						local fillheight = height * smoothHealth

						outline.Color = esplib.healthbar.outline
						outline.Position = vec2_new(x, y)
						outline.Size = vec2_new(3, height + 2)
						outline.Visible = true

						fill.Color = esplib.healthbar.fill
						fill.Position = vec2_new(x + 1, y + (height + 1) - fillheight)
						fill.Size = vec2_new(1, fillheight)
						fill.Visible = true
					else
						data.healthbar.outline.Visible = false
						data.healthbar.fill.Visible = false
					end
				else
					data.healthbar.outline.Visible = false
					data.healthbar.fill.Visible = false
				end
			elseif data.healthbar then
				data.healthbar.outline.Visible = false
				data.healthbar.fill.Visible = false
			end

			if data.armorbar and armorbar_enabled then
				if onscreen then
					local bodyEffects = instance:FindFirstChild("BodyEffects")
					local armorValue = bodyEffects and bodyEffects:FindFirstChild("Armor")
					if armorValue then
						local outline, fill = data.armorbar.outline, data.armorbar.fill
						local height = box_size
						local padding = 1
						local bar_width = 3
						local x = ((square_min.X - ((bar_width * 2) + 4)) - 1) - padding
						local y = square_min.Y - padding
						local armor = math.clamp(armorValue.Value / 130, 0, 1)
						
												if not armorCache[instance] then
							armorCache[instance] = armor
						end
						local cachedArmor = armorCache[instance]
						local smoothArmor = cachedArmor + ((armor - cachedArmor) * 0.4)
						armorCache[instance] = smoothArmor
						
						local fillheight = height * smoothArmor

						outline.Color = esplib.armorbar.outline
						outline.Position = vec2_new(x, y)
						outline.Size = vec2_new(1 + (2 * padding), height + (2 * padding))
						outline.Visible = true

						fill.Color = esplib.armorbar.fill
						fill.Position = vec2_new(x + padding, (y + height + padding) - fillheight)
						fill.Size = vec2_new(1, fillheight)
						fill.Visible = true
					else
						data.armorbar.outline.Visible = false
						data.armorbar.fill.Visible = false
					end
				else
					data.armorbar.outline.Visible = false
					data.armorbar.fill.Visible = false
				end
			elseif data.armorbar then
				data.armorbar.outline.Visible = false
				data.armorbar.fill.Visible = false
			end

			if data.name and name_enabled then
				if onscreen then
					local text = data.name
					local y = square_min.Y - 15

					local name_str = instance.Name or "Unknown"
					local humanoid = instance:FindFirstChildOfClass("Humanoid")
					if humanoid then
						local player = players:GetPlayerFromCharacter(instance)
						if player then
							name_str = player.Name
						end
					end

					text.Text = name_str
					text.Size = esplib.name.size
					text.Color = esplib.name.fill
					text.Position = vec2_new(center_x, y)
					text.Visible = true
				else
					data.name.Visible = false
				end
			elseif data.name then
				data.name.Visible = false
			end

			if data.distance and distance_enabled then
				if onscreen then
					local text = data.distance
					local y = square_max.Y + 5
					local dist
					
					if instance:IsA("Model") then
						local part = instance.PrimaryPart or instance:FindFirstChildWhichIsA("BasePart")
						dist = part and (cam_pos - part.Position).Magnitude or 999
					else
						dist = (cam_pos - instance.Position).Magnitude
					end
					
										if not distanceCache[instance] then
						distanceCache[instance] = {value = dist, lastText = ""}
					end
					local cache = distanceCache[instance]
					local cachedDist = cache.value
					local smoothDist = cachedDist + ((dist - cachedDist) * 0.3)
					cache.value = smoothDist
					
										local flooredDist = math_floor(smoothDist)
					local newText = tostring(flooredDist) .. "m"
					if cache.lastText ~= newText then
						text.Text = newText
						cache.lastText = newText
					end
					
					text.Size = esplib.distance.size
					text.Color = esplib.distance.fill
					text.Position = vec2_new(center_x, y)
					text.Visible = true
				else
					data.distance.Visible = false
				end
			elseif data.distance then
				data.distance.Visible = false
			end

			if data.tracer and tracer_enabled then
				if onscreen then
					local outline, fill = data.tracer.outline, data.tracer.fill
					local from_pos
					
					local tracer_type = esplib.tracer.from
					if tracer_type == "mouse" then
						local mouse_location = uis:GetMouseLocation()
						from_pos = Vector2.new(mouse_location.X, mouse_location.Y)
					elseif tracer_type == "top" then
						from_pos = Vector2.new(viewport_x * 0.5, 0)
					elseif tracer_type == "center" then
						from_pos = Vector2.new(viewport_x * 0.5, viewport_y * 0.5)
					else 						from_pos = Vector2.new(viewport_x * 0.5, viewport_y)
					end

					local to_pos = Vector2.new(center_x, center_y)

					outline.From = from_pos
					outline.To = to_pos
					outline.Color = esplib.tracer.outline
					outline.Visible = true

					fill.From = from_pos
					fill.To = to_pos
					fill.Color = esplib.tracer.fill
					fill.Visible = true
				else
					data.tracer.outline.Visible = false
					data.tracer.fill.Visible = false
				end
			elseif data.tracer then
				data.tracer.outline.Visible = false
				data.tracer.fill.Visible = false
			end
			
						if data.highlight and highlight_enabled then
				data.highlight.Enabled = true
				data.highlight.FillColor = esplib.highlight.fill_color
				data.highlight.OutlineColor = esplib.highlight.outline_color
				data.highlight.FillTransparency = esplib.highlight.fill_transparency
				data.highlight.OutlineTransparency = esplib.highlight.outline_transparency
			elseif data.highlight then
				data.highlight.Enabled = false
			end
		end
	end

	for k, v in pairs(espfunctions) do
		esplib[k] = v
	end

	library.esp = esplib
	
			local FOVLines = {}
	local FOVOutlines = {}
	for i = 1, 13 do
				local outline = Drawing.new("Line")
		outline.Color = Color3.fromRGB(0, 0, 0)
		outline.Thickness = library.silent_aim.fov_thickness + 2
		outline.Transparency = library.silent_aim.fov_transparency
		outline.Visible = false
		FOVOutlines[i] = outline
		
				local line = Drawing.new("Line")
		line.Color = library.silent_aim.fov_color
		line.Thickness = library.silent_aim.fov_thickness
		line.Transparency = library.silent_aim.fov_transparency
		line.Visible = false
		FOVLines[i] = line
	end

		local CameraFOVLines = {}
	local CameraFOVOutlines = {}
	for i = 1, 13 do
				local outline = Drawing.new("Line")
		outline.Color = Color3.fromRGB(0, 0, 0)
		outline.Thickness = library.camera_lock.fov_thickness + 2
		outline.Transparency = library.camera_lock.fov_transparency
		outline.Visible = false
		CameraFOVOutlines[i] = outline
		
				local line = Drawing.new("Line")
		line.Color = library.camera_lock.fov_color
		line.Thickness = library.camera_lock.fov_thickness
		line.Transparency = library.camera_lock.fov_transparency
		line.Visible = false
		CameraFOVLines[i] = line
	end

		local MagicFOVLines = {}
	local MagicFOVOutlines = {}
	for i = 1, 13 do
				local outline = Drawing.new("Line")
		outline.Color = Color3.fromRGB(0, 0, 0)
		outline.Thickness = library.magic_bullet.fov_thickness + 2
		outline.Transparency = 1
		outline.Visible = false
		MagicFOVOutlines[i] = outline
		
				local line = Drawing.new("Line")
		line.Color = library.magic_bullet.fov_color
		line.Thickness = library.magic_bullet.fov_thickness
		line.Transparency = 1
		line.Visible = false
		MagicFOVLines[i] = line
	end

		local TargetTracerOutline = Drawing.new("Line")
	TargetTracerOutline.Color = Color3.fromRGB(0, 0, 0)
	TargetTracerOutline.Thickness = 3
	TargetTracerOutline.Transparency = 1
	TargetTracerOutline.Visible = false

	local TargetTracerFill = Drawing.new("Line")
	TargetTracerFill.Color = library.silent_aim.tracer_color
	TargetTracerFill.Thickness = 1
	TargetTracerFill.Transparency = 1
	TargetTracerFill.Visible = false

		local function GetClosestPlayer()
				if library.silent_aim.sticky_mode and library.silent_aim.sticky_target then
			local StickyPlayer = library.silent_aim.sticky_target
			if StickyPlayer and StickyPlayer.Character then
				local Character = StickyPlayer.Character
				local HitPart = Character:FindFirstChild(library.silent_aim.hit_part)
				local Humanoid = Character:FindFirstChild("Humanoid")
				
				if HitPart and Humanoid and Humanoid.Health > 0 then
										local ScreenPosition, Visible = camera:WorldToScreenPoint(HitPart.Position)
					if Visible then
						local MousePosition = uis:GetMouseLocation()
						local Distance = (MousePosition - Vector2.new(ScreenPosition.X, ScreenPosition.Y)).Magnitude
						if Distance <= library.silent_aim.fov_radius then
														local passedChecks = true
							
														if library.silent_aim.knocked_check then
								local BodyEffects = Character:FindFirstChild("BodyEffects")
								if BodyEffects then
									local KO = BodyEffects:FindFirstChild("K.O")
									if KO and KO.Value == true then
										passedChecks = false
									end
								end
							end
							
														if passedChecks and library.silent_aim.crew_check then
								if StickyPlayer:FindFirstChild("DataFolder") and lp:FindFirstChild("DataFolder") then
									local targetCrew = StickyPlayer.DataFolder:FindFirstChild("Crew")
									local localCrew = lp.DataFolder:FindFirstChild("Crew")
									if targetCrew and localCrew and targetCrew.Value == localCrew.Value and localCrew.Value ~= "" then
										passedChecks = false
									end
								end
							end
							
														if passedChecks and library.silent_aim.wall_check then
								local raycastParams = RaycastParams.new()
								raycastParams.FilterDescendantsInstances = {lp.Character, Character}
								raycastParams.FilterType = Enum.RaycastFilterType.Exclude
								local origin = camera.CFrame.Position
								local direction = (HitPart.Position - origin).Unit * 1000
								local rayResult = workspace:Raycast(origin, direction, raycastParams)
								if rayResult then
									passedChecks = false
								end
							end
							
							if passedChecks then
								return HitPart
							end
						end
					end
				end
			end
						library.silent_aim.sticky_target = nil
		end
		
				local ClosestDistance, ClosestPart, ClosestPlayer = nil, nil, nil
		local MousePosition = uis:GetMouseLocation()

		for _, Player in next, players:GetPlayers() do
			if Player ~= lp and Player.Character then
				local Character = Player.Character
				local HitPart = Character:FindFirstChild(library.silent_aim.hit_part)
				local Humanoid = Character:FindFirstChild("Humanoid")

				if HitPart and Humanoid and Humanoid.Health > 0 then
					local passedChecks = true
					
										if library.silent_aim.knocked_check then
						local BodyEffects = Character:FindFirstChild("BodyEffects")
						if BodyEffects then
							local KO = BodyEffects:FindFirstChild("K.O")
							if KO and KO.Value == true then
								passedChecks = false
							end
						end
					end
					
										if passedChecks and library.silent_aim.crew_check then
						if Player:FindFirstChild("DataFolder") and lp:FindFirstChild("DataFolder") then
							local targetCrew = Player.DataFolder:FindFirstChild("Crew")
							local localCrew = lp.DataFolder:FindFirstChild("Crew")
							if targetCrew and localCrew and targetCrew.Value == localCrew.Value and localCrew.Value ~= "" then
								passedChecks = false
							end
						end
					end
					
										if passedChecks and library.silent_aim.visible_check then
						local ScreenPosition, Visible = camera:WorldToScreenPoint(HitPart.Position)
						if not Visible then
							passedChecks = false
						end
					end
					
										if passedChecks and library.silent_aim.wall_check then
						local raycastParams = RaycastParams.new()
						raycastParams.FilterDescendantsInstances = {lp.Character, Character}
						raycastParams.FilterType = Enum.RaycastFilterType.Exclude
						local origin = camera.CFrame.Position
						local direction = (HitPart.Position - origin).Unit * 1000
						local rayResult = workspace:Raycast(origin, direction, raycastParams)
						if rayResult then
							passedChecks = false
						end
					end
					
					if passedChecks then
						local ScreenPosition, Visible = camera:WorldToScreenPoint(HitPart.Position)
						if Visible then
							local Distance = (MousePosition - Vector2.new(ScreenPosition.X, ScreenPosition.Y)).Magnitude
							if Distance <= library.silent_aim.fov_radius and (not ClosestDistance or Distance < ClosestDistance) then
								ClosestDistance, ClosestPart, ClosestPlayer = Distance, HitPart, Player
							end
						end
					end
				end
			end
		end
		
				if library.silent_aim.sticky_mode and ClosestPlayer then
			library.silent_aim.sticky_target = ClosestPlayer
		end

		return ClosestPart
	end

		local grm = getrawmetatable(game)
	local index = grm.__index
	setreadonly(grm, false)

	grm.__index = function(self, Index)
		if not checkcaller() and self == mouse and library.silent_aim.enabled and library.silent_aim.active then
			if Index == "Hit" or Index == "Target" then
				local TargetPart = GetClosestPlayer()
				if TargetPart then
					library.silent_aim.target_part = TargetPart
					return CFrame.new(TargetPart.Position)
				end
			end
		end
		return index(self, Index)
	end

	setreadonly(grm, true)

		run.RenderStepped:Connect(function()
				local silent_fov_visible = library.silent_aim.fov_visible and library.silent_aim.enabled
		if silent_fov_visible or FOVLines[1].Visible then
			local mouse_pos = uis:GetMouseLocation()
			local radius = library.silent_aim.fov_radius
			local color = library.silent_aim.fov_color
			local thickness = library.silent_aim.fov_thickness
			local transparency = library.silent_aim.fov_transparency
			
			for i = 1, 13 do
				local outline = FOVOutlines[i]
				local line = FOVLines[i]
				if silent_fov_visible then
					local angle1 = (i - 1) * (math.pi * 2 / 13)
					local angle2 = i * (math.pi * 2 / 13)
					
					local x1 = mouse_pos.X + math.cos(angle1) * radius
					local y1 = mouse_pos.Y + math.sin(angle1) * radius
					local x2 = mouse_pos.X + math.cos(angle2) * radius
					local y2 = mouse_pos.Y + math.sin(angle2) * radius
					
										outline.From = vec2(x1, y1)
					outline.To = vec2(x2, y2)
					outline.Color = Color3.fromRGB(0, 0, 0)
					outline.Thickness = thickness + 2
					outline.Transparency = transparency
					outline.Visible = true
					
										line.From = vec2(x1, y1)
					line.To = vec2(x2, y2)
					line.Color = color
					line.Thickness = thickness
					line.Transparency = transparency
					line.Visible = true
				else
					outline.Visible = false
					line.Visible = false
				end
			end
		end
		
				local camera_fov_visible = library.camera_lock.fov_visible and library.camera_lock.enabled
		if camera_fov_visible or CameraFOVLines[1].Visible then
			local mouse_pos = uis:GetMouseLocation()
			local radius = library.camera_lock.fov_radius
			local color = library.camera_lock.fov_color
			local thickness = library.camera_lock.fov_thickness
			local transparency = library.camera_lock.fov_transparency
			
			for i = 1, 13 do
				local outline = CameraFOVOutlines[i]
				local line = CameraFOVLines[i]
				if camera_fov_visible then
					local angle1 = (i - 1) * (math.pi * 2 / 13)
					local angle2 = i * (math.pi * 2 / 13)
					
					local x1 = mouse_pos.X + math.cos(angle1) * radius
					local y1 = mouse_pos.Y + math.sin(angle1) * radius
					local x2 = mouse_pos.X + math.cos(angle2) * radius
					local y2 = mouse_pos.Y + math.sin(angle2) * radius
					
										outline.From = vec2(x1, y1)
					outline.To = vec2(x2, y2)
					outline.Color = Color3.fromRGB(0, 0, 0)
					outline.Thickness = thickness + 2
					outline.Transparency = transparency
					outline.Visible = true
					
										line.From = vec2(x1, y1)
					line.To = vec2(x2, y2)
					line.Color = color
					line.Thickness = thickness
					line.Transparency = transparency
					line.Visible = true
				else
					outline.Visible = false
					line.Visible = false
				end
			end
		end
		
				local magic_fov_visible = library.magic_bullet.fov_visible and library.magic_bullet.enabled
		if magic_fov_visible or MagicFOVLines[1].Visible then
			local mouse_pos = uis:GetMouseLocation()
			local radius = library.magic_bullet.fov_radius
			local color = library.magic_bullet.fov_color
			local thickness = library.magic_bullet.fov_thickness
			local transparency = 1
			
			for i = 1, 13 do
				local outline = MagicFOVOutlines[i]
				local line = MagicFOVLines[i]
				if magic_fov_visible then
					local angle1 = (i - 1) * (math.pi * 2 / 13)
					local angle2 = i * (math.pi * 2 / 13)
					
					local x1 = mouse_pos.X + math.cos(angle1) * radius
					local y1 = mouse_pos.Y + math.sin(angle1) * radius
					local x2 = mouse_pos.X + math.cos(angle2) * radius
					local y2 = mouse_pos.Y + math.sin(angle2) * radius
					
										outline.From = vec2(x1, y1)
					outline.To = vec2(x2, y2)
					outline.Color = Color3.fromRGB(0, 0, 0)
					outline.Thickness = thickness + 2
					outline.Transparency = transparency
					outline.Visible = true
					
										line.From = vec2(x1, y1)
					line.To = vec2(x2, y2)
					line.Color = color
					line.Thickness = thickness
					line.Transparency = transparency
					line.Visible = true
				else
					outline.Visible = false
					line.Visible = false
				end
			end
		end
		
				if library.silent_aim.target_tracer and library.silent_aim.enabled and library.silent_aim.active and library.silent_aim.target_part then
			local target_part = library.silent_aim.target_part
			if target_part and target_part.Parent then
				local target_screen_pos, target_on_screen = camera:WorldToViewportPoint(target_part.Position)
				if target_on_screen then
					local from_pos
					
										if library.silent_aim.tracer_from == "tool" then
												if lp.Character then
							local tool = lp.Character:FindFirstChildOfClass("Tool")
							if tool and tool:FindFirstChild("Handle") then
								local tool_screen_pos, tool_visible = camera:WorldToViewportPoint(tool.Handle.Position)
								if tool_visible then
									from_pos = Vector2.new(tool_screen_pos.X, tool_screen_pos.Y)
								else
																		local viewport_size = camera.ViewportSize
									from_pos = Vector2.new(viewport_size.X * 0.5, viewport_size.Y * 0.5)
								end
							else
																local viewport_size = camera.ViewportSize
								from_pos = Vector2.new(viewport_size.X * 0.5, viewport_size.Y * 0.5)
							end
						else
							local viewport_size = camera.ViewportSize
							from_pos = Vector2.new(viewport_size.X * 0.5, viewport_size.Y * 0.5)
						end
					else 						local viewport_size = camera.ViewportSize
						from_pos = Vector2.new(viewport_size.X * 0.5, viewport_size.Y * 0.5)
					end
					
					local to_pos = Vector2.new(target_screen_pos.X, target_screen_pos.Y)
					
										TargetTracerOutline.From = from_pos
					TargetTracerOutline.To = to_pos
					TargetTracerOutline.Color = Color3.fromRGB(0, 0, 0)
					TargetTracerOutline.Thickness = 3
					TargetTracerOutline.Transparency = 1
					TargetTracerOutline.Visible = true
					
										TargetTracerFill.From = from_pos
					TargetTracerFill.To = to_pos
					TargetTracerFill.Color = library.silent_aim.tracer_color
					TargetTracerFill.Thickness = 1
					TargetTracerFill.Transparency = 1
					TargetTracerFill.Visible = true
				else
					TargetTracerOutline.Visible = false
					TargetTracerFill.Visible = false
				end
			else
				TargetTracerOutline.Visible = false
				TargetTracerFill.Visible = false
			end
		else
			TargetTracerOutline.Visible = false
			TargetTracerFill.Visible = false
		end
		
				if library.camera_lock.enabled and library.camera_lock.active and library.camera_lock.target then
			local target = library.camera_lock.target
			if target and target.Character then
				local character = target.Character
				local hrp = character:FindFirstChild("HumanoidRootPart")
				local humanoid = character:FindFirstChild("Humanoid")
				
				if hrp and humanoid and humanoid.Health > 0 then
					local target_pos = hrp.Position
					
										if library.camera_lock.predict_movement and hrp:FindFirstChild("BodyVelocity") or hrp.AssemblyLinearVelocity.Magnitude > 0 then
						local velocity = hrp.AssemblyLinearVelocity
						target_pos = target_pos + (velocity * library.camera_lock.prediction_amount)
					end
					
										if library.camera_lock.smoothness > 0 then
						local current_cframe = camera.CFrame
						local target_cframe = CFrame.new(camera.CFrame.Position, target_pos)
						camera.CFrame = current_cframe:Lerp(target_cframe, 1 / library.camera_lock.smoothness)
					else
						camera.CFrame = CFrame.new(camera.CFrame.Position, target_pos)
					end
				else
					library.camera_lock.target = nil
				end
			else
				library.camera_lock.target = nil
			end
		end
		
				if library.world_mods_enabled then
			lighting.Ambient = library.world_settings.ambient
			lighting.OutdoorAmbient = library.world_settings.outdoor_ambient
			lighting.ExposureCompensation = library.world_settings.exposure
			lighting.FogStart = library.world_settings.fog_start
			lighting.FogEnd = library.world_settings.fog_end
			lighting.FogColor = library.world_settings.fog_color
			lighting.Brightness = library.world_settings.brightness
			lighting.ClockTime = library.world_settings.clock_time
		end
		
				if library.world_settings.skybox_enabled then
			local sky = lighting:FindFirstChildOfClass("Sky")
			if not sky then
				sky = Instance.new("Sky")
				sky.Parent = lighting
			end
			
			local skybox_data = library.skyboxes[library.world_settings.selected_skybox]
			if skybox_data then
				sky.SkyboxBk = skybox_data.SkyboxBk
				sky.SkyboxDn = skybox_data.SkyboxDn
				sky.SkyboxFt = skybox_data.SkyboxFt
				sky.SkyboxLf = skybox_data.SkyboxLf
				sky.SkyboxRt = skybox_data.SkyboxRt
				sky.SkyboxUp = skybox_data.SkyboxUp
			end
		end
		
				if library.world_settings.color_correction_enabled then
			local colorCorrection = lighting:FindFirstChildOfClass("ColorCorrectionEffect")
			if not colorCorrection then
				colorCorrection = Instance.new("ColorCorrectionEffect")
				colorCorrection.Name = "SkeetColorCorrection"
				colorCorrection.Parent = lighting
			end
			
			colorCorrection.Brightness = library.world_settings.color_correction_brightness / 100
			colorCorrection.Contrast = library.world_settings.color_correction_contrast / 100
			colorCorrection.Saturation = library.world_settings.color_correction_saturation / 100
		else
			local colorCorrection = lighting:FindFirstChild("SkeetColorCorrection")
			if colorCorrection then
				colorCorrection:Destroy()
			end
		end
		
				lighting.GlobalShadows = library.world_settings.global_shadows
		
				if library.world_settings.technology == "Legacy" then
			lighting.Technology = Enum.Technology.Legacy
		elseif library.world_settings.technology == "Voxel" then
			lighting.Technology = Enum.Technology.Voxel
		elseif library.world_settings.technology == "ShadowMap" then
			lighting.Technology = Enum.Technology.ShadowMap
		elseif library.world_settings.technology == "Future" then
			lighting.Technology = Enum.Technology.Future
		end
	end)
	
		local snowPart = nil
	local snowEmitter = nil
	
	local function createSnowEffect()
		if snowPart then return end
		
				snowPart = Instance.new("Part")
		snowPart.Name = "SkeetSnowEmitter"
		snowPart.Size = Vector3.new(200, 1, 200)
		snowPart.Anchored = true
		snowPart.CanCollide = false
		snowPart.Transparency = 1
		snowPart.Parent = workspace
		
				snowEmitter = Instance.new("ParticleEmitter")
		snowEmitter.Name = "Snow"
		snowEmitter.Texture = "rbxasset://textures/particles/smoke_main.dds"
		snowEmitter.Color = ColorSequence.new(Color3.fromRGB(255, 255, 255))
		snowEmitter.Size = NumberSequence.new({
			NumberSequenceKeypoint.new(0, 0.3),
			NumberSequenceKeypoint.new(1, 0.3)
		})
		snowEmitter.Transparency = NumberSequence.new({
			NumberSequenceKeypoint.new(0, 0),
			NumberSequenceKeypoint.new(0.8, 0.1),
			NumberSequenceKeypoint.new(1, 1)
		})
		snowEmitter.Lifetime = NumberRange.new(20, 25)
		snowEmitter.Rate = 1600
		snowEmitter.Rotation = NumberRange.new(0, 360)
		snowEmitter.RotSpeed = NumberRange.new(-50, 50)
		snowEmitter.Speed = NumberRange.new(1, 3)
		snowEmitter.SpreadAngle = Vector2.new(0, 0)
		snowEmitter.VelocityInheritance = 0
		snowEmitter.Acceleration = Vector3.new(0, -2, 0)
		snowEmitter.EmissionDirection = Enum.NormalId.Bottom
		snowEmitter.LightEmission = 0.7
		snowEmitter.LightInfluence = 0
		snowEmitter.Parent = snowPart
		
				run.RenderStepped:Connect(function()
			if snowPart and library.world_settings.snow_enabled and lp.Character then
				local hrp = lp.Character:FindFirstChild("HumanoidRootPart")
				if hrp then
					snowPart.Position = hrp.Position + Vector3.new(0, 50, 0)
				end
			end
		end)
	end
	
	local function removeSnowEffect()
		if snowPart then
			snowPart:Destroy()
			snowPart = nil
			snowEmitter = nil
		end
	end
	
		library.ragdoll = {
		enabled = false,
		shape = "Ball",
		speed_multiplier = 30,
		jump_power = 60,
		jump_gap = 0.3,
	}

	local ragdoll_connection = nil
	local ragdoll_jump_connection = nil
	local original_shape = nil
	local original_size = nil
	local original_camera_subject = nil

	local function enable_ragdoll()
		if not lp.Character then return end
		
		local humanoid = lp.Character:FindFirstChild("Humanoid")
		local hrp = lp.Character:FindFirstChild("HumanoidRootPart")
		if not humanoid or not hrp then return end
		
				for i, v in ipairs(lp.Character:GetDescendants()) do
			if v:IsA("BasePart") then
				v.CanCollide = false
			end
		end
		
				original_shape = hrp.Shape
		original_size = hrp.Size
		original_camera_subject = camera.CameraSubject
		
				local shape_enum = {
			["Ball"] = Enum.PartType.Ball,
			["Block"] = Enum.PartType.Block,
			["Cylinder"] = Enum.PartType.Cylinder,
			["Wedge"] = "Wedge",
			["CornerWedge"] = "CornerWedge"
		}
		
		if library.ragdoll.shape == "Wedge" then
			local wedge = Instance.new("WedgePart")
			wedge.Size = Vector3.new(5, 5, 5)
			wedge.CFrame = hrp.CFrame
			wedge.Anchored = false
			wedge.CanCollide = true
			wedge.Name = "HumanoidRootPart"
			wedge.Parent = lp.Character
			hrp:Destroy()
			hrp = wedge
		elseif library.ragdoll.shape == "CornerWedge" then
			local cwedge = Instance.new("CornerWedgePart")
			cwedge.Size = Vector3.new(5, 5, 5)
			cwedge.CFrame = hrp.CFrame
			cwedge.Anchored = false
			cwedge.CanCollide = true
			cwedge.Name = "HumanoidRootPart"
			cwedge.Parent = lp.Character
			hrp:Destroy()
			hrp = cwedge
		else
			hrp.Shape = shape_enum[library.ragdoll.shape]
			hrp.Size = Vector3.new(5, 5, 5)
		end
		
				local params = RaycastParams.new()
		params.FilterType = Enum.RaycastFilterType.Blacklist
		params.FilterDescendantsInstances = {lp.Character}
		
				ragdoll_connection = run.RenderStepped:Connect(function(delta)
			if not lp.Character then return end
			local current_hrp = lp.Character:FindFirstChild("HumanoidRootPart")
			local current_humanoid = lp.Character:FindFirstChild("Humanoid")
			if not current_hrp or not current_humanoid then return end
			
			current_hrp.CanCollide = true
			current_humanoid.PlatformStand = true
			
			if uis:GetFocusedTextBox() then return end
			
			if uis:IsKeyDown(Enum.KeyCode.W) then
				current_hrp.RotVelocity = current_hrp.RotVelocity - camera.CFrame.RightVector * delta * library.ragdoll.speed_multiplier
			end
			if uis:IsKeyDown(Enum.KeyCode.A) then
				current_hrp.RotVelocity = current_hrp.RotVelocity - camera.CFrame.LookVector * delta * library.ragdoll.speed_multiplier
			end
			if uis:IsKeyDown(Enum.KeyCode.S) then
				current_hrp.RotVelocity = current_hrp.RotVelocity + camera.CFrame.RightVector * delta * library.ragdoll.speed_multiplier
			end
			if uis:IsKeyDown(Enum.KeyCode.D) then
				current_hrp.RotVelocity = current_hrp.RotVelocity + camera.CFrame.LookVector * delta * library.ragdoll.speed_multiplier
			end
		end)
		
				ragdoll_jump_connection = uis.JumpRequest:Connect(function()
			if not lp.Character then return end
			local current_hrp = lp.Character:FindFirstChild("HumanoidRootPart")
			if not current_hrp then return end
			
			local result = workspace:Raycast(
				current_hrp.Position,
				Vector3.new(0, -((current_hrp.Size.Y / 2) + library.ragdoll.jump_gap), 0),
				params
			)
			
			if result then
				current_hrp.Velocity = current_hrp.Velocity + Vector3.new(0, library.ragdoll.jump_power, 0)
			end
		end)
		
				camera.CameraSubject = hrp
		
				humanoid.Died:Connect(function()
			if ragdoll_connection then
				ragdoll_connection:Disconnect()
				ragdoll_connection = nil
			end
			if ragdoll_jump_connection then
				ragdoll_jump_connection:Disconnect()
				ragdoll_jump_connection = nil
			end
		end)
	end

	local function disable_ragdoll()
		if ragdoll_connection then
			ragdoll_connection:Disconnect()
			ragdoll_connection = nil
		end
		
		if ragdoll_jump_connection then
			ragdoll_jump_connection:Disconnect()
			ragdoll_jump_connection = nil
		end
		
		if lp.Character then
			local hrp = lp.Character:FindFirstChild("HumanoidRootPart")
			local humanoid = lp.Character:FindFirstChild("Humanoid")
			
			if hrp and original_shape and original_size then
				hrp.Shape = original_shape
				hrp.Size = original_size
			end
			
			if humanoid then
				humanoid.PlatformStand = false
			end
			
						for i, v in ipairs(lp.Character:GetDescendants()) do
				if v:IsA("BasePart") then
					v.CanCollide = true
				end
			end
			
						if original_camera_subject and humanoid then
				camera.CameraSubject = humanoid
			end
		end
	end
	
		library.flight = {
		enabled = false,
		active = false,
		speed = 3,
		keybind = Enum.KeyCode.X,
		keys = {
			[Enum.KeyCode.W] = false,
			[Enum.KeyCode.S] = false,
			[Enum.KeyCode.A] = false,
			[Enum.KeyCode.D] = false,
			[Enum.KeyCode.Space] = false,
			[Enum.KeyCode.LeftControl] = false,
		},
	}

	local flight_connections = {}

	local function get_flight_direction()
		local dir = Vector3.new(0, 0, 0)
		if library.flight.keys[Enum.KeyCode.W] then
			dir = dir + Vector3.new(0, 0, -1)
		end
		if library.flight.keys[Enum.KeyCode.S] then
			dir = dir + Vector3.new(0, 0, 1)
		end
		if library.flight.keys[Enum.KeyCode.A] then
			dir = dir + Vector3.new(-1, 0, 0)
		end
		if library.flight.keys[Enum.KeyCode.D] then
			dir = dir + Vector3.new(1, 0, 0)
		end
		if library.flight.keys[Enum.KeyCode.Space] then
			dir = dir + Vector3.new(0, 1, 0)
		end
		if library.flight.keys[Enum.KeyCode.LeftControl] then
			dir = dir + Vector3.new(0, -1, 0)
		end
		return dir
	end

	local function setup_flight_connections()
				for _, connection in pairs(flight_connections) do
			if typeof(connection) == "RBXScriptConnection" and connection.Connected then
				connection:Disconnect()
			end
		end
		flight_connections = {}

				flight_connections.input_began = uis.InputBegan:Connect(function(input, processed)
			if processed then return end
			if library.flight.keys[input.KeyCode] ~= nil then
				library.flight.keys[input.KeyCode] = true
			end
		end)

		flight_connections.input_ended = uis.InputEnded:Connect(function(input)
			if library.flight.keys[input.KeyCode] ~= nil then
				library.flight.keys[input.KeyCode] = false
			end
		end)

	end

	local function apply_flight()
		if not library.flight.enabled or not library.flight.active then return end
		
		local character = lp.Character
		if not character then return end
		
		local hrp = character:FindFirstChild("HumanoidRootPart")
		if not hrp then return end

		local dir = get_flight_direction()
		if dir.Magnitude > 0 then
			local cam = camera
			local cf = cam.CFrame
			local move_dir = ((cf.RightVector * dir.X) + (cf.UpVector * dir.Y) + (cf.LookVector * -dir.Z)).Unit
			hrp.Velocity = Vector3.new(0, 0, 0)
			hrp.CFrame = hrp.CFrame + ((move_dir * library.flight.speed) / 2)
		else
			hrp.Velocity = Vector3.new(0, 0, 0)
		end
	end
	
		library.cframe_speed = {
		enabled = false,
		active = false,
		speed = 10,
		keybind = Enum.KeyCode.G,
	}

	local last_cframe_update = 0

	local function is_typing()
		return uis:GetFocusedTextBox() ~= nil
	end

	local function apply_cframe_speed(dt)
		if not library.cframe_speed.enabled or not library.cframe_speed.active or is_typing() then
			return
		end
		
		local now = tick()
		if (now - last_cframe_update) < 0.016 then
			return
		end
		last_cframe_update = now
		
		local character = lp.Character
		if not character then return end
		
		local hrp = character:FindFirstChild("HumanoidRootPart")
		if not hrp then return end
		
		local cam = camera
		local move_dir = Vector3.new()
		local look_vector = cam.CFrame.LookVector
		local right_vector = cam.CFrame.RightVector
		local horizontal_look = Vector3.new(look_vector.X, 0, look_vector.Z).Unit
		local horizontal_right = Vector3.new(right_vector.X, 0, right_vector.Z).Unit
		
		local is_w = uis:IsKeyDown(Enum.KeyCode.W)
		local is_s = uis:IsKeyDown(Enum.KeyCode.S)
		local is_a = uis:IsKeyDown(Enum.KeyCode.A)
		local is_d = uis:IsKeyDown(Enum.KeyCode.D)
		
		if is_w then
			move_dir = move_dir + horizontal_look
		end
		if is_s then
			move_dir = move_dir - horizontal_look
		end
		if is_a then
			move_dir = move_dir - horizontal_right
		end
		if is_d then
			move_dir = move_dir + horizontal_right
		end
		
		if move_dir.Magnitude > 0 then
			move_dir = move_dir.Unit
			local current_velocity
			if hrp.AssemblyLinearVelocity then
				current_velocity = hrp.AssemblyLinearVelocity
				hrp.AssemblyLinearVelocity = Vector3.new(move_dir.X * 16, current_velocity.Y, move_dir.Z * 16)
			else
				current_velocity = hrp.Velocity
				hrp.Velocity = Vector3.new(move_dir.X * 16, current_velocity.Y, move_dir.Z * 16)
			end
						hrp.CFrame = hrp.CFrame + (move_dir * library.cframe_speed.speed * dt * 10)
		else
			local current_velocity
			if hrp.AssemblyLinearVelocity then
				current_velocity = hrp.AssemblyLinearVelocity
				hrp.AssemblyLinearVelocity = Vector3.new(0, current_velocity.Y, 0)
			else
				current_velocity = hrp.Velocity
				hrp.Velocity = Vector3.new(0, current_velocity.Y, 0)
			end
		end
	end
	
		library.walkspeed = {
		enabled = false,
		active = false,
		speed = 50,
		keybind = Enum.KeyCode.V,
	}

	local walkspeed_is_active = false
	local walkspeed_connection = nil
	local default_walkspeed = 16

	local function update_walkspeed()
		if lp.Character and lp.Character:FindFirstChild("Humanoid") then
			if walkspeed_is_active and library.walkspeed.enabled then
				lp.Character.Humanoid.WalkSpeed = library.walkspeed.speed
			end
		end
	end

	local function enable_walkspeed()
		walkspeed_is_active = true
		library.walkspeed.active = true
		
		if lp.Character and lp.Character:FindFirstChild("Humanoid") then
			lp.Character.Humanoid.WalkSpeed = library.walkspeed.speed
		end
	end

	local function disable_walkspeed()
		walkspeed_is_active = false
		library.walkspeed.active = false
		
		if lp.Character and lp.Character:FindFirstChild("Humanoid") then
			lp.Character.Humanoid.WalkSpeed = default_walkspeed
		end
	end

		if walkspeed_connection then
		walkspeed_connection:Disconnect()
	end
	walkspeed_connection = run.RenderStepped:Connect(update_walkspeed)

		lp.CharacterAdded:Connect(function(character)
		character:WaitForChild("Humanoid")
		if walkspeed_is_active then
			update_walkspeed()
		end
	end)

		library.tool_material = {
		enabled = false,
		material = "ForceField",
		color = Color3.fromRGB(255, 255, 255),
	}

	local material_list = {
		"ForceField",
		"Neon",
		"Glass",
		"Plastic",
		"SmoothPlastic",
		"Metal",
		"DiamondPlate",
		"Granite",
		"Marble",
		"Concrete",
	}

		local original_tool_materials = {}

		local function store_tool_materials(tool)
		if not tool:IsA("Tool") then return end
		original_tool_materials = {}
		
		for _, part in ipairs(tool:GetDescendants()) do
			if part:IsA("BasePart") then
				original_tool_materials[part] = {
					Material = part.Material,
					Color = part.Color
				}
			end
		end
	end

		local function restore_tool_materials()
		for part, data in pairs(original_tool_materials) do
			if part and part:IsA("BasePart") then
				part.Material = data.Material
				part.Color = data.Color
			end
		end
		original_tool_materials = {}
	end

		local function apply_tool_material(tool)
		if not library.tool_material.enabled then return end
		if not tool:IsA("Tool") then return end
		
				if not next(original_tool_materials) then
			store_tool_materials(tool)
		end
		
		for _, part in ipairs(tool:GetDescendants()) do
			if part:IsA("BasePart") then
				part.Material = Enum.Material[library.tool_material.material]
				part.Color = library.tool_material.color
			end
		end
	end

		local function setup_tool(tool)
		if tool:IsA("Tool") then
			tool.Equipped:Connect(function()
				if library.tool_material.enabled then
					apply_tool_material(tool)
				end
			end)
			
			tool.Unequipped:Connect(function()
								restore_tool_materials()
			end)
		end
	end

		local backpack = lp:WaitForChild("Backpack")
	backpack.ChildAdded:Connect(function(child)
		setup_tool(child)
	end)

		for _, tool in ipairs(backpack:GetChildren()) do
		setup_tool(tool)
	end

			
	local tool_rotation_connections = {}

	local function makeToolRotate(tool)
				if tool_rotation_connections[tool] then
			tool_rotation_connections[tool]:Disconnect()
			tool_rotation_connections[tool] = nil
		end
		
		if not library.rotate_tool.enabled then return end
		
		local originalGrip = tool.Grip 		local angle = 0

		local conn = run.RenderStepped:Connect(function(dt)
			if not tool.Parent or not library.rotate_tool.enabled then
				if tool_rotation_connections[tool] then
					tool_rotation_connections[tool]:Disconnect()
					tool_rotation_connections[tool] = nil
				end
								if tool and tool.Parent then
					tool.Grip = originalGrip
				end
				return
			end

						local rot_speed = math.rad(library.rotate_tool.speed)
			angle = angle + (rot_speed * dt)
			
						local rotation = CFrame.Angles(0, angle, 0)
			tool.Grip = originalGrip * rotation
		end)
		
		tool_rotation_connections[tool] = conn
	end

	local function setupRotateTool(tool)
		if not tool:IsA("Tool") then return end
		
		tool.Equipped:Connect(function()
			makeToolRotate(tool)
		end)
		
		tool.Unequipped:Connect(function()
						if tool_rotation_connections[tool] then
				tool_rotation_connections[tool]:Disconnect()
				tool_rotation_connections[tool] = nil
			end
		end)
	end

		for _, tool in ipairs(lp.Backpack:GetChildren()) do
		if tool:IsA("Tool") then
			setupRotateTool(tool)
		end
	end

		lp.Backpack.ChildAdded:Connect(function(child)
		if child:IsA("Tool") then
			setupRotateTool(child)
		end
	end)

		lp.CharacterAdded:Connect(function(character)
				for tool, conn in pairs(tool_rotation_connections) do
			conn:Disconnect()
		end
		tool_rotation_connections = {}
		
				local backpack = lp:WaitForChild("Backpack")
		for _, tool in ipairs(backpack:GetChildren()) do
			if tool:IsA("Tool") then
				setupRotateTool(tool)
			end
		end
	end)

	
		library.player_material = {
		enabled = false,
		material = "ForceField",
		color = Color3.fromRGB(255, 255, 255),
	}

		local original_player_materials = {}

		local function store_player_materials(character)
		original_player_materials = {}
		
		for _, part in ipairs(character:GetDescendants()) do
			if part:IsA("BasePart") and part.Parent ~= character:FindFirstChildWhichIsA("Tool") then
				original_player_materials[part] = {
					Material = part.Material,
					Color = part.Color
				}
			end
		end
	end

		local function restore_player_materials()
		for part, data in pairs(original_player_materials) do
			if part and part:IsA("BasePart") then
				part.Material = data.Material
				part.Color = data.Color
			end
		end
		original_player_materials = {}
	end

		local function apply_player_material(character)
		if not library.player_material.enabled then return end
		
				if not next(original_player_materials) then
			store_player_materials(character)
		end
		
		for _, part in ipairs(character:GetDescendants()) do
			if part:IsA("BasePart") and part.Parent ~= lp.Character:FindFirstChildWhichIsA("Tool") then
				part.Material = Enum.Material[library.player_material.material]
				part.Color = library.player_material.color
			end
		end
	end

		lp.CharacterAdded:Connect(function(character)
		character:WaitForChild("Humanoid")
		task.wait(1)
		if library.player_material.enabled then
			apply_player_material(character)
		end
	end)

		if lp.Character then
		task.wait(1)
		if library.player_material.enabled then
			apply_player_material(lp.Character)
		end
	end
	
		library.desync = {
		enabled = false,
		active = false,
		keybind = Enum.KeyCode.F,
		break_move_direction = false,
				min_x = -10,
		max_x = 10,
		min_y = -10,
		max_y = 10,
		min_z = -10,
		max_z = 10,
				min_rotation = 0,
		max_rotation = 360,
				max_velocity = math.huge,
	}

	local desync_last_cframe = nil
	local desync_last_velocity = Vector3.new(0, 0, 0)

	local function get_random_offset()
		local x = math.random(library.desync.min_x * 100, library.desync.max_x * 100) / 100
		local y = math.random(library.desync.min_y * 100, library.desync.max_y * 100) / 100
		local z = math.random(library.desync.min_z * 100, library.desync.max_z * 100) / 100
		return Vector3.new(x, y, z)
	end

	local function get_random_rotation()
		local rotation = math.random(library.desync.min_rotation, library.desync.max_rotation)
		return math.rad(rotation)
	end

	local function get_random_velocity()
		return library.desync.max_velocity
	end

	local function apply_desync()
		if not library.desync.enabled or not library.desync.active then return end
		
		local character = lp.Character
		if not character then return end
		
		local hrp = character:FindFirstChild("HumanoidRootPart")
		if not hrp then return end
		
				desync_last_cframe = hrp.CFrame
		desync_last_velocity = hrp.AssemblyLinearVelocity
		
				local random_offset = get_random_offset()
		local fake_pos = desync_last_cframe.Position + random_offset
		
				local random_rotation = get_random_rotation()
		local rotation_cframe = CFrame.Angles(random_rotation, 0, 0)
		
				local fake_cframe = CFrame.new(fake_pos) * rotation_cframe * CFrame.Angles(0, desync_last_cframe:ToEulerAnglesYXZ(), 0)
		
				hrp.CFrame = fake_cframe
		
				local random_vel_magnitude = get_random_velocity()
		local random_vel_direction = Vector3.new(
			math.random(-100, 100) / 100,
			math.random(-100, 100) / 100,
			math.random(-100, 100) / 100
		).Unit
		hrp.AssemblyLinearVelocity = random_vel_direction * random_vel_magnitude
		
				run:BindToRenderStep("DesyncRestore", Enum.RenderPriority.Camera.Value - 1, function()
			if hrp and desync_last_cframe then
				hrp.CFrame = desync_last_cframe
				hrp.AssemblyLinearVelocity = desync_last_velocity
			end
			run:UnbindFromRenderStep("DesyncRestore")
		end)
	end

			
	local uis = game:GetService("UserInputService")

	local function apply_break_move_direction()
		if not library.desync.break_move_direction then return end
		
		local character = lp.Character
		if not character then return end
		
		local humanoid = character:FindFirstChild("Humanoid")
		local hrp = character:FindFirstChild("HumanoidRootPart")
		if not humanoid or not hrp then return end
		
				local move_direction = humanoid.MoveDirection
		
				if move_direction.Magnitude > 0.1 then
						local forward_backward = math.abs(move_direction:Dot(hrp.CFrame.LookVector))
			local left_right = math.abs(move_direction:Dot(hrp.CFrame.RightVector))
			
			local new_cframe
			
			if forward_backward > left_right then
								local is_forward = move_direction:Dot(hrp.CFrame.LookVector) > 0
				
				if is_forward then
										new_cframe = CFrame.new(hrp.Position) * CFrame.Angles(0, math.rad(-90), 0)
				else
										new_cframe = CFrame.new(hrp.Position) * CFrame.Angles(0, math.rad(90), 0)
				end
			else
								local is_right = move_direction:Dot(hrp.CFrame.RightVector) > 0
				
				if is_right then
										new_cframe = CFrame.new(hrp.Position) * CFrame.Angles(0, math.rad(180), 0)
				else
										new_cframe = CFrame.new(hrp.Position) * CFrame.Angles(0, 0, 0)
				end
			end
			
						hrp.CFrame = new_cframe
		end
	end

			
	local fakepos_last_cframe = nil
	local fakepos_last_velocity = Vector3.new(0, 0, 0)
	local fakepos_extreme_offset = nil 
	local function get_fakepos_offset()
		if library.fakepos.extreme_mode then
									if not fakepos_extreme_offset then
				local extreme = 9007199254740992
				fakepos_extreme_offset = Vector3.new(extreme, extreme, extreme)
			end
			return fakepos_extreme_offset
		else
						fakepos_extreme_offset = nil
			return Vector3.new(library.fakepos.offset_x, library.fakepos.offset_y, library.fakepos.offset_z)
		end
	end

	local function apply_fakepos()
		if not library.fakepos.enabled or not library.fakepos.active then return end
		
		local character = lp.Character
		if not character then return end
		
		local hrp = character:FindFirstChild("HumanoidRootPart")
		if not hrp then return end
		
				fakepos_last_cframe = hrp.CFrame
		fakepos_last_velocity = hrp.AssemblyLinearVelocity
		
				local offset = get_fakepos_offset()
		local fake_pos = fakepos_last_cframe.Position + offset
		
				if library.fakepos.anticlip and not library.fakepos.extreme_mode then
			local rayParams = RaycastParams.new()
			rayParams.FilterDescendantsInstances = {character}
			rayParams.FilterType = Enum.RaycastFilterType.Blacklist
			
			local direction = offset
			local rayResult = workspace:Raycast(fakepos_last_cframe.Position, direction, rayParams)
			
			if rayResult then
								local hitDistance = (rayResult.Position - fakepos_last_cframe.Position).Magnitude
				local safeDistance = hitDistance - 2 				if safeDistance > 0 then
					fake_pos = fakepos_last_cframe.Position + (direction.Unit * safeDistance)
				else
										fake_pos = fakepos_last_cframe.Position
				end
			end
		end
		
				local rotation_radians = math.rad(library.fakepos.rotation)
		local rotation_cframe = CFrame.Angles(rotation_radians, 0, 0)
		
				local fake_cframe = CFrame.new(fake_pos) * rotation_cframe * CFrame.Angles(0, fakepos_last_cframe:ToEulerAnglesYXZ(), 0)
		
				hrp.CFrame = fake_cframe
		
				if library.fakepos.extreme_mode then
						hrp.AssemblyLinearVelocity = Vector3.new(math.huge, math.huge, math.huge)
		else
			hrp.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
		end
		
				run:BindToRenderStep("FakePosRestore", Enum.RenderPriority.Camera.Value - 1, function()
			if hrp and fakepos_last_cframe then
				hrp.CFrame = fakepos_last_cframe
				hrp.AssemblyLinearVelocity = fakepos_last_velocity
			end
			run:UnbindFromRenderStep("FakePosRestore")
		end)
	end

			
	local function apply_anti_fling()
		if not library.protection.anti_fling then return end
		
		local character = lp.Character
		if not character then return end
		
		local hrp = character:FindFirstChild("HumanoidRootPart")
		if not hrp then return end
		
				hrp.Velocity = Vector3.new(17, 17, 17)
	end

			
	local is_shift_locked = false

		uis:GetPropertyChangedSignal("MouseBehavior"):Connect(function()
		is_shift_locked = uis.MouseBehavior == Enum.MouseBehavior.LockCenter
	end)

	local spinbot_last_cframe = nil
	local spinbot_last_velocity = Vector3.new(0, 0, 0)
	local spinbot_angle = 0

	local function apply_spinbot()
		if not library.spinbot.enabled then
						if lp.Character and lp.Character:FindFirstChild("Humanoid") then
				lp.Character.Humanoid.AutoRotate = true
			end
			return
		end
		
		local character = lp.Character
		if not character then return end
		
		local humanoid = character:FindFirstChild("Humanoid")
		local hrp = character:FindFirstChild("HumanoidRootPart")
		
		if humanoid and hrp then
						humanoid.AutoRotate = false
			
			if library.spinbot.mode == "Rotational" then
				if library.spinbot.server_only then
															spinbot_last_cframe = hrp.CFrame
					spinbot_last_velocity = hrp.AssemblyLinearVelocity
					
										local rotation_speed = math.rad(library.spinbot.speed)
					spinbot_angle = spinbot_angle + rotation_speed
					
					local x_rot = library.spinbot.x_enabled and spinbot_angle or 0
					local y_rot = library.spinbot.y_enabled and spinbot_angle or 0
					local z_rot = library.spinbot.z_enabled and spinbot_angle or 0
					
										local fake_cframe = hrp.CFrame * CFrame.Angles(x_rot, y_rot, z_rot)
					hrp.CFrame = fake_cframe
					hrp.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
					
										run:BindToRenderStep("SpinbotRestore", Enum.RenderPriority.Camera.Value - 1, function()
						if hrp and spinbot_last_cframe then
							hrp.CFrame = spinbot_last_cframe
							hrp.AssemblyLinearVelocity = spinbot_last_velocity
						end
						run:UnbindFromRenderStep("SpinbotRestore")
					end)
				else
										local rotation_speed = math.rad(library.spinbot.speed)
					spinbot_angle = spinbot_angle + rotation_speed
					
					local x_rot = library.spinbot.x_enabled and spinbot_angle or 0
					local y_rot = library.spinbot.y_enabled and spinbot_angle or 0
					local z_rot = library.spinbot.z_enabled and spinbot_angle or 0
					
					hrp.CFrame = hrp.CFrame * CFrame.Angles(x_rot, y_rot, z_rot)
				end
			else
								if library.spinbot.server_only then
															spinbot_last_cframe = hrp.CFrame
					spinbot_last_velocity = hrp.AssemblyLinearVelocity
					
										local rotation_speed = math.rad(library.spinbot.speed)
					spinbot_angle = spinbot_angle + rotation_speed
					
					local fake_cframe = hrp.CFrame * CFrame.Angles(0, spinbot_angle, 0)
					hrp.CFrame = fake_cframe
					hrp.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
					
										run:BindToRenderStep("SpinbotRestore", Enum.RenderPriority.Camera.Value - 1, function()
						if hrp and spinbot_last_cframe then
							hrp.CFrame = spinbot_last_cframe
							hrp.AssemblyLinearVelocity = spinbot_last_velocity
						end
						run:UnbindFromRenderStep("SpinbotRestore")
					end)
				else
										local rotation_speed = math.rad(library.spinbot.speed)
					hrp.CFrame = hrp.CFrame * CFrame.Angles(0, rotation_speed, 0)
				end
			end
		end
	end

				do
		library.server_hrp_visualizer = {
			enabled = false,
			transparency = 0.5,
			color = Color3.fromRGB(255, 0, 0),
			delay_simulation = 0.1, 		}

		local visualizer_model = nil
		local visualizer_parts = {}
		local visualizer_connection = nil
		local last_server_cframe = nil
		local last_server_velocity = Vector3.new(0, 0, 0)

		local function create_part(name, size, offset)
			local part = Instance.new("Part")
			part.Name = name
			part.Size = size
			part.Anchored = true
			part.CanCollide = false
			part.Material = Enum.Material.Neon
			part.Color = library.server_hrp_visualizer.color
			part.Transparency = library.server_hrp_visualizer.transparency
			part.TopSurface = Enum.SurfaceType.Smooth
			part.BottomSurface = Enum.SurfaceType.Smooth
			return part, offset
		end

		local function create_visualizer_model()
			if visualizer_model then
				visualizer_model:Destroy()
			end

			visualizer_model = Instance.new("Model")
			visualizer_model.Name = "ServerHRPVisualizer"
			visualizer_model.Parent = workspace

						local parts_data = {
				Head = {size = Vector3.new(2, 1, 1), offset = Vector3.new(0, 1.5, 0)},
				Torso = {size = Vector3.new(2, 2, 1), offset = Vector3.new(0, 0, 0)},
				LeftArm = {size = Vector3.new(1, 2, 1), offset = Vector3.new(-1.5, 0, 0)},
				RightArm = {size = Vector3.new(1, 2, 1), offset = Vector3.new(1.5, 0, 0)},
				LeftLeg = {size = Vector3.new(1, 2, 1), offset = Vector3.new(-0.5, -2, 0)},
				RightLeg = {size = Vector3.new(1, 2, 1), offset = Vector3.new(0.5, -2, 0)},
			}

			visualizer_parts = {}
			for name, data in pairs(parts_data) do
				local part, offset = create_part(name, data.size, data.offset)
				part.Parent = visualizer_model
				visualizer_parts[name] = {part = part, offset = offset}
			end
		end

		local function update_visualizer()
			if not library.server_hrp_visualizer.enabled then return end
			if not lp.Character then return end

			local hrp = lp.Character:FindFirstChild("HumanoidRootPart")
			if not hrp then return end

						local server_pos = hrp.Position
			local server_cframe = hrp.CFrame

						if library.fakepos.enabled and library.fakepos.active then
				local offset = Vector3.new(library.fakepos.offset_x, library.fakepos.offset_y, library.fakepos.offset_z)
				
								if library.fakepos.extreme_mode then
					local extreme = 9007199254740992
					offset = Vector3.new(extreme, extreme, extreme)
				end
				
				server_pos = hrp.Position + offset
				
								local rotation_radians = math.rad(library.fakepos.rotation)
				local rotation_cframe = CFrame.Angles(rotation_radians, 0, 0)
				server_cframe = CFrame.new(server_pos) * rotation_cframe * CFrame.Angles(0, hrp.CFrame:ToEulerAnglesYXZ(), 0)
			else
				server_cframe = CFrame.new(server_pos) * (hrp.CFrame - hrp.CFrame.Position)
			end

						if library.spinbot.enabled then
				local rotation_speed = math.rad(library.spinbot.speed)
				local spin_angle = tick() * rotation_speed
				
				if library.spinbot.mode == "Rotational" then
					local x_rot = library.spinbot.x_enabled and spin_angle or 0
					local y_rot = library.spinbot.y_enabled and spin_angle or 0
					local z_rot = library.spinbot.z_enabled and spin_angle or 0
					server_cframe = server_cframe * CFrame.Angles(x_rot, y_rot, z_rot)
				else
										server_cframe = server_cframe * CFrame.Angles(0, spin_angle, 0)
				end
			end

						if library.desync.enabled and library.desync.active then
								local random_offset = Vector3.new(
					math.random(library.desync.min_x, library.desync.max_x),
					math.random(library.desync.min_y, library.desync.max_y),
					math.random(library.desync.min_z, library.desync.max_z)
				)
								local rotation_part = server_cframe - server_cframe.Position
				server_pos = server_cframe.Position + random_offset
				server_cframe = CFrame.new(server_pos) * rotation_part
			end

						last_server_cframe = server_cframe
			last_server_velocity = hrp.AssemblyLinearVelocity

						task.delay(library.server_hrp_visualizer.delay_simulation, function()
				if not visualizer_model then return end
				
				for name, data in pairs(visualizer_parts) do
					if data.part then
												data.part.CFrame = server_cframe * CFrame.new(data.offset)
						data.part.Transparency = library.server_hrp_visualizer.transparency
						data.part.Color = library.server_hrp_visualizer.color
					end
				end
			end)
		end

		local function enable_visualizer()
			if not visualizer_model then
				create_visualizer_model()
			end

			if not visualizer_connection then
				visualizer_connection = run.Heartbeat:Connect(update_visualizer)
			end
		end

		local function disable_visualizer()
			if visualizer_connection then
				visualizer_connection:Disconnect()
				visualizer_connection = nil
			end

			if visualizer_model then
				visualizer_model:Destroy()
				visualizer_model = nil
			end

			visualizer_parts = {}
			last_server_cframe = nil
			last_server_velocity = Vector3.new(0, 0, 0)
		end

				_G.EnableServerHRPVisualizer = enable_visualizer
		_G.DisableServerHRPVisualizer = disable_visualizer
	end

				do
				local function CreatePart(name, size, parent)
			local part = Instance.new("Part")
			part.Name = name
			part.Size = size
			part.Parent = parent
			part.Anchored = false
			part.CanCollide = false
			return part
		end

		local function CreateWeld(part0, part1, c0)
			local weld = Instance.new("Weld")
			weld.Part0 = part0
			weld.Part1 = part1
			weld.C0 = c0
			weld.Parent = part0
			return weld
		end

		local function SetRigCollisionFalse(rig)
			for _, part in ipairs(rig:GetDescendants()) do
				if part:IsA("Part") then
					part.CanCollide = false
				end
			end
		end

		local function SetRigColor(rig, color)
			for _, part in ipairs(rig:GetDescendants()) do
				if part:IsA("Part") then
					part.Color = color
				end
			end
		end

		local function SetRigTransparency(rig, transparency)
			for _, part in ipairs(rig:GetDescendants()) do
				if part:IsA("Part") and part.Name ~= "HumanoidRootPart" then
					part.Transparency = transparency
				end
			end
		end

		local function CreateR6Rig()
			local model = Instance.new("Model")
			model.Name = ""
			local root = CreatePart("HumanoidRootPart", Vector3.new(2, 2, 1), model)
			root.Transparency = 1
			root.CanCollide = false
			local humanoid = Instance.new("Humanoid")
			humanoid.RigType, humanoid.Parent = Enum.HumanoidRigType.R6, model

			local parts = {
				Head = {2, 1, 1, 0, 1.5, 0},
				Torso = {2, 2, 1, 0, 0, 0},
				["Left Arm"] = {1, 2, 1, -1.5, 0, 0},
				["Right Arm"] = {1, 2, 1, 1.5, 0, 0},
				["Left Leg"] = {1, 2, 1, -0.5, -2, 0},
				["Right Leg"] = {1, 2, 1, 0.5, -2, 0}
			}

			local torso = CreatePart("Torso", Vector3.new(2, 2, 1), model)
			torso.CanCollide = false
			for name, data in pairs(parts) do
				local part = CreatePart(name, Vector3.new(unpack(data, 1, 3)), model)
				CreateWeld(torso, part, CFrame.new(unpack(data, 4, 6)))
			end
			CreateWeld(root, torso, CFrame.new(0, 0, 0))
			model.PrimaryPart, model.Parent = root, ws
			SetRigCollisionFalse(model)
			return model
		end

		local function KnockCheck(player)
			if player and player.Character then
				local bodyEffects = player.Character:FindFirstChild("BodyEffects")
				if bodyEffects then
					local knockOut = bodyEffects:FindFirstChild("K.O")
					return knockOut and knockOut.Value == true
				end
			end
			return false
		end

		local function GetClosestCharacter()
			local Closest, ClosestDist = nil, math.huge

			for _, player in ipairs(players:GetPlayers()) do
				if player ~= lp and player.Character and player.Character:FindFirstChild("Head") then
					local Head = player.Character.Head
					local ScreenPos, OnScreen = camera:WorldToScreenPoint(Head.Position)

					if OnScreen then
						local Dist = (Vector2.new(mouse.X, mouse.Y) - Vector2.new(ScreenPos.X, ScreenPos.Y)).Magnitude
						if Dist < ClosestDist then
							Closest, ClosestDist = player, Dist
						end
					end
				end
			end

			return Closest
		end

				local MainEvent = nil
		if rs:FindFirstChild("MainEvent") then
			MainEvent = rs.MainEvent
		elseif rs:FindFirstChild("MAINEVENT") then
			MainEvent = rs.MAINEVENT
		elseif rs:WaitForChild("MainRemotes"):WaitForChild("MainRemoteEvent") then
			MainEvent = rs:WaitForChild("MainRemotes"):WaitForChild("MainRemoteEvent")
		end

				local M1Down = false
		local SavedPosition = nil
		
		uis.InputBegan:Connect(function(input, gameProcessed)
			if gameProcessed then return end
			if input.UserInputType == Enum.UserInputType.MouseButton1 then
				M1Down = true
			end
		end)

		uis.InputEnded:Connect(function(input)
			if input.UserInputType == Enum.UserInputType.MouseButton1 then
				M1Down = false
			end
		end)

				local strafeclone = CreateR6Rig()
		for _, part in ipairs(strafeclone:GetDescendants()) do
			if part:IsA("Part") then
				part.CanCollide = false
				part.Material = Enum.Material.Neon
				part.Color = Color3.fromRGB(80, 120, 200)
			end
		end

				local pingvalue = nil
		local split = nil
		local ping = nil
		local PredictionValue = 0.256 * 0.80 		local GlobalPredictionMultiplier = 0.80

		local basePredictionTable = {
			{ping = 130, value = 0.51},
			{ping = 125, value = 0.49},
			{ping = 110, value = 0.46},
			{ping = 105, value = 0.38},
			{ping = 90,  value = 0.36},
			{ping = 80,  value = 0.34},
			{ping = 70,  value = 0.31},
			{ping = 60,  value = 0.229},
			{ping = 50,  value = 0.225},
			{ping = 40,  value = 0.256}
		}

		local previousPositions = {}
		local customVelocities = {}

		run.Stepped:Connect(function()
			pingvalue = stats.Network.ServerStatsItem["Data Ping"]:GetValueString()
			split = string.split(pingvalue, '(')
			ping = tonumber(split[1])

			if ping then
				for _, data in ipairs(basePredictionTable) do
					if ping < data.ping then
						PredictionValue = data.value * GlobalPredictionMultiplier
						break
					end
				end
			end
		end)

				local tracerOutline = Drawing.new("Line")
		tracerOutline.Visible = false
		tracerOutline.Color = library.target_aim.tracer_outline_color
		tracerOutline.Thickness = 4

		local tracer = Drawing.new("Line")
		tracer.Visible = false
		tracer.Color = library.target_aim.tracer_fill_color
		tracer.Thickness = 2

	local t = 0
	
		local lastTargetHealth = nil
	local lastTrackedTarget = nil
	local currentTargetPlayer = nil
	local lastTargetHighlight = nil

		local function cleanupOldTarget()
				if lastTargetHighlight and lastTargetHighlight.Parent then
			if lastTargetHighlight.Name == "TargetAimHighlight" then
				lastTargetHighlight:Destroy()
			end
		end
		lastTargetHighlight = nil
		
				lastTargetHealth = nil
		lastTrackedTarget = nil
	end

		players.PlayerRemoving:Connect(function(player)
		if currentTargetPlayer == player then
			cleanupOldTarget()
			currentTargetPlayer = nil
		end
				if library.target_aim.targets then
			library.target_aim.targets[player.Name] = nil
		end
	end)

		local function getClosestPlayerToMouse()
				if not library.target_aim.targets then
			library.target_aim.targets = {}
		end
		
		local closestPlayer = nil
		local shortestDistance = math.huge
		local mousePos = uis:GetMouseLocation()
		
				for _, player in ipairs(players:GetPlayers()) do
			if player ~= lp and player.Character and library.target_aim.targets[player.Name] then
				local character = player.Character
				local humanoid = character:FindFirstChild("Humanoid")
				local rootPart = character:FindFirstChild("HumanoidRootPart")
				
								if humanoid and humanoid.Health > 0 and rootPart then
					local screenPos, onScreen = camera:WorldToViewportPoint(rootPart.Position)
					
					if onScreen then
						local distance = (Vector2.new(screenPos.X, screenPos.Y) - mousePos).Magnitude
						
						if distance < shortestDistance then
							shortestDistance = distance
							closestPlayer = player
						end
					end
				end
			end
		end
		
		return closestPlayer
	end

		run.Heartbeat:Connect(function(dt)
		local TargetPlayer = getClosestPlayerToMouse()
		
				if TargetPlayer ~= currentTargetPlayer then
			cleanupOldTarget()
			currentTargetPlayer = TargetPlayer
		end
		
				if library.target_aim.enabled and library.target_aim.active and library.target_aim.strafe and lp and lp.Character and lp.Character:FindFirstChild("HumanoidRootPart") and lp.Character:FindFirstChild("Humanoid") and lp.Character:FindFirstChild("Head") and lp.Character:FindFirstChild("BodyEffects") then
			local Tool = lp.Character and lp.Character:FindFirstChildOfClass("Tool")
			if TargetPlayer and TargetPlayer.Character and TargetPlayer.Character:FindFirstChild("Head") and TargetPlayer.Character:FindFirstChild("HumanoidRootPart") and Tool and Tool:FindFirstChild("Handle") then
				if not TargetPlayer.Character:FindFirstChild("ForceField") or Tool.Name == "[Rifle]" then
					if not KnockCheck(TargetPlayer) and lp.Character.BodyEffects:FindFirstChild("Reload") and lp.Character.BodyEffects.Reload.Value == false then

						if library.target_aim.void_resolver then
							if (TargetPlayer.Character.HumanoidRootPart.Position - Vector3.new(0, 0, 0)).Magnitude > 5000 then
								return
							end
						end							local SavedPosition = lp.Character.HumanoidRootPart.CFrame
							local SpoofedPosition = nil
							local currentPosition = TargetPlayer.Character.Head.Position
							local lastPosition = previousPositions[TargetPlayer] or currentPosition
							local estimatedVelocity = (currentPosition - lastPosition) / dt
							local alpha = 0.5
			
							customVelocities[TargetPlayer] = (customVelocities[TargetPlayer] or Vector3.zero) * alpha + estimatedVelocity * (1 - alpha)
							previousPositions[TargetPlayer] = currentPosition
			
							if library.target_aim.strafe_method == "Orbit" then
								SpoofedPosition = CFrame.lookAt(currentPosition + (customVelocities[TargetPlayer] * PredictionValue) + Vector3.new(math.cos(tick()*10)*10, 0, math.sin(tick()*10)*10), currentPosition)
							elseif library.target_aim.strafe_method == "Randomize" then
								SpoofedPosition = CFrame.lookAt(currentPosition + (customVelocities[TargetPlayer] * PredictionValue) + Vector3.new(math.random(-15,15), math.random(-15,15), math.random(-15,15)), currentPosition)
							end
			
						lp.Character.HumanoidRootPart.CFrame = SpoofedPosition
			
						if library.target_aim.visualize_strafe then
							SetRigCollisionFalse(strafeclone)
							SetRigTransparency(strafeclone, 0)
							SetRigColor(strafeclone, library.target_aim.visualize_strafe_color)
							if strafeclone:FindFirstChild("HumanoidRootPart") then
								strafeclone.HumanoidRootPart.CFrame = SpoofedPosition
							end
						else
							SetRigTransparency(strafeclone, 1)
						end

						local PredictedAimingPosition = currentPosition + (customVelocities[TargetPlayer] * PredictionValue)							local args = {
								[1] = "ShootGun",
								[2] = Tool.Handle,
								[3] = Tool.Handle.Position,
								[4] = PredictedAimingPosition,
								[5] = TargetPlayer.Character.Head,
								[6] = Vector3.new(0, 0, 0)
							}

							if library.target_aim.auto_fire then
								MainEvent:FireServer(unpack(args))
							else
								if M1Down then
									MainEvent:FireServer(unpack(args))
								end
							end
			
						if library.target_aim.csync then
							run:BindToRenderStep("RestoreCFrame", 199, function()
								if lp.Character and lp.Character:FindFirstChild("HumanoidRootPart") then
									lp.Character.HumanoidRootPart.CFrame = SavedPosition
								end
								run:UnbindFromRenderStep("RestoreCFrame")
							end)
						end
					elseif KnockCheck(TargetPlayer) and library.target_aim.auto_stomp and lp.Character and lp.Character:FindFirstChild("BodyEffects") and lp.Character.BodyEffects:FindFirstChild("Reload") and lp.Character.BodyEffects.Reload.Value == false and TargetPlayer.Character:FindFirstChild("UpperTorso") then
						local bodyEffects = TargetPlayer.Character:FindFirstChild("BodyEffects")
						local isDead = bodyEffects and bodyEffects:FindFirstChild("SDeath") and bodyEffects.SDeath.Value
						if isDead == false and lp.Character:FindFirstChild("HumanoidRootPart") then
							SavedPosition = lp.Character.HumanoidRootPart.CFrame
			
						lp.Character.HumanoidRootPart.CFrame = CFrame.new(TargetPlayer.Character.UpperTorso.Position + Vector3.new(0, 3, 0))							if library.target_aim.visualize_strafe then
								SetRigCollisionFalse(strafeclone)
								SetRigTransparency(strafeclone, 0)
								SetRigColor(strafeclone, library.target_aim.visualize_strafe_color)
								if strafeclone:FindFirstChild("HumanoidRootPart") then
									strafeclone.HumanoidRootPart.CFrame = lp.Character.HumanoidRootPart.CFrame
								end
							else
								SetRigTransparency(strafeclone, 1)
							end
			
							MainEvent:FireServer("Stomp")
							
							run:BindToRenderStep("RestoreCFrame", 199, function()
								if lp.Character and lp.Character:FindFirstChild("HumanoidRootPart") then
									lp.Character.HumanoidRootPart.CFrame = SavedPosition
								end
								run:UnbindFromRenderStep("RestoreCFrame")
							end)
						else
							SetRigTransparency(strafeclone, 1)
						end
						else
							SetRigTransparency(strafeclone, 1)
						end
					else
						SetRigTransparency(strafeclone, 1)
					end
				else
					SetRigTransparency(strafeclone, 1)
				end
			else
				SetRigTransparency(strafeclone, 1)
			end

						if library.target_aim.enabled and library.target_aim.active and lp and lp.Character and lp.Character:FindFirstChild("HumanoidRootPart") and lp.Character:FindFirstChild("Humanoid") and lp.Character:FindFirstChild("Head") then
				if TargetPlayer and TargetPlayer.Character and TargetPlayer.Character:FindFirstChild("Head") and TargetPlayer.Character:FindFirstChild("HumanoidRootPart") and not KnockCheck(TargetPlayer) then
					local tool = lp.Character:FindFirstChildOfClass("Tool")
					if tool and TargetPlayer.Character and (not TargetPlayer.Character:FindFirstChild("ForceField") or tool.Name == "[Rifle]") then

						local Tool = lp.Character and lp.Character:FindFirstChildOfClass("Tool")
			
						if Tool and Tool:FindFirstChild("Handle") then
							if library.target_aim.auto_fire then
								if library.target_aim.csync == false then
									local args = {
										[1] = "ShootGun",
										[2] = Tool.Handle,
										[3] = Tool.Handle.Position,
										[4] = TargetPlayer.Character.Head.Position,
										[5] = TargetPlayer.Character.Head,
										[6] = Vector3.new(0, 0, 0)
									}
									
									MainEvent:FireServer(unpack(args))
								end
							else
								if M1Down then
									if library.target_aim.csync == false then
										local args = {
											[1] = "ShootGun",
											[2] = Tool.Handle,
											[3] = Tool.Handle.Position,
											[4] = TargetPlayer.Character.Head.Position,
											[5] = TargetPlayer.Character.Head,
											[6] = Vector3.new(0, 0, 0)
										}
										  
										MainEvent:FireServer(unpack(args))
									end
								end
							end
						end
					end
				elseif TargetPlayer and TargetPlayer.Character and TargetPlayer.Character:FindFirstChild("UpperTorso") and KnockCheck(TargetPlayer) and library.target_aim.auto_stomp and lp.Character and lp.Character:FindFirstChild("BodyEffects") and lp.Character.BodyEffects:FindFirstChild("Reload") and lp.Character.BodyEffects.Reload.Value == false and library.target_aim.strafe == false then
					local bodyEffects = TargetPlayer.Character:FindFirstChild("BodyEffects")
					local isDead = bodyEffects and bodyEffects:FindFirstChild("SDeath") and bodyEffects.SDeath.Value
					if isDead == false and lp.Character:FindFirstChild("HumanoidRootPart") then
						SavedPosition = lp.Character.HumanoidRootPart.CFrame

						lp.Character.HumanoidRootPart.CFrame = CFrame.new(TargetPlayer.Character.UpperTorso.Position + Vector3.new(0, 3, 0))
			
						MainEvent:FireServer("Stomp")
					
						run:BindToRenderStep("RestoreCFrame", 199, function()
							if lp.Character and lp.Character:FindFirstChild("HumanoidRootPart") then
								lp.Character.HumanoidRootPart.CFrame = SavedPosition
							end
							run:UnbindFromRenderStep("RestoreCFrame")
						end)
					end
				end

								if library.target_aim.highlight and TargetPlayer and TargetPlayer.Character then
					local existingHighlight = TargetPlayer.Character:FindFirstChild("TargetAimHighlight")
					if existingHighlight then
						existingHighlight.FillColor = library.target_aim.highlight_fill_color
						existingHighlight.OutlineColor = library.target_aim.highlight_outline_color
						lastTargetHighlight = existingHighlight
					else
												local Highlight = Instance.new("Highlight")
						Highlight.Name = "TargetAimHighlight"
						Highlight.FillColor = library.target_aim.highlight_fill_color
						Highlight.OutlineColor = library.target_aim.highlight_outline_color
						Highlight.Parent = TargetPlayer.Character
						lastTargetHighlight = Highlight
					end
				elseif not library.target_aim.highlight then
										cleanupOldTarget()
				end

								if library.target_aim.look_at and TargetPlayer and TargetPlayer.Character and TargetPlayer.Character:FindFirstChild("HumanoidRootPart") and lp.Character and lp.Character:FindFirstChild("Humanoid") and lp.Character:FindFirstChild("HumanoidRootPart") then
					lp.Character.Humanoid.AutoRotate = false
					lp.Character.HumanoidRootPart.CFrame = CFrame.lookAt(lp.Character.HumanoidRootPart.Position, Vector3.new(TargetPlayer.Character.HumanoidRootPart.Position.X, lp.Character.HumanoidRootPart.Position.Y, TargetPlayer.Character.HumanoidRootPart.Position.Z))
				else
					if lp.Character and lp.Character:FindFirstChild("Humanoid") then
						lp.Character.Humanoid.AutoRotate = true
					end
				end

								if library.target_aim.tracer and TargetPlayer and TargetPlayer.Character then
					local mouseScreenPosition = uis:GetMouseLocation()
				
					local head = TargetPlayer.Character:FindFirstChild("Head")
					local humanoidRootPart = TargetPlayer.Character:FindFirstChild("HumanoidRootPart")
				
					if head and humanoidRootPart then
						local humanoidRootPart_Position = humanoidRootPart.CFrame
						local humanoidRootPart_Size = humanoidRootPart.Size
				
						local adjustedPosition = humanoidRootPart_Position * CFrame.new(0, -humanoidRootPart_Size.Y, 0).p
				
						local headScreenPosition, onScreen = camera:WorldToViewportPoint(head.Position)
				
						if onScreen then
							local adjustedMousePosition = Vector2.new(mouseScreenPosition.X, mouseScreenPosition.Y)
				
							local tool = lp.Character:FindFirstChildOfClass("Tool")
							if library.target_aim.tracer_position == "Tool" and tool and tool:FindFirstChild("Handle") then
								local pos = camera:WorldToViewportPoint(tool.Handle.Position)
								tracer.From = Vector2.new(pos.X, pos.Y)
								tracerOutline.From = Vector2.new(pos.X, pos.Y)
							else
								tracer.From = adjustedMousePosition
								tracerOutline.From = adjustedMousePosition
							end           

							tracer.To = Vector2.new(headScreenPosition.X, headScreenPosition.Y)
							tracerOutline.To = Vector2.new(headScreenPosition.X, headScreenPosition.Y)
				
							tracerOutline.Visible = true
							tracer.Visible = true
				
							tracerOutline.Color = library.target_aim.tracer_outline_color
							tracer.Color = library.target_aim.tracer_fill_color
						else
							tracer.Visible = false
							tracerOutline.Visible = false
						end
					end
				else
					tracer.Visible = false
					tracerOutline.Visible = false
				end
			else
								if lp.Character and lp.Character:FindFirstChild("Humanoid") then
					lp.Character.Humanoid.AutoRotate = true
				end
				tracer.Visible = false
				tracerOutline.Visible = false
				cleanupOldTarget()
				currentTargetPlayer = nil
			end
		end)

				run.RenderStepped:Connect(function()
			if library.target_aim.enabled and library.target_aim.active then
				local TargetPlayer = getClosestPlayerToMouse()
				
				if TargetPlayer and TargetPlayer.Character and TargetPlayer.Character:FindFirstChild("Humanoid") then
					local humanoid = TargetPlayer.Character.Humanoid
					local currentHealth = humanoid.Health 					
										if lastTrackedTarget ~= TargetPlayer.Name then
						lastTrackedTarget = TargetPlayer.Name
						lastTargetHealth = currentHealth
											end
					
										if lastTargetHealth == nil then
						lastTargetHealth = currentHealth
					end
					
										if currentHealth < lastTargetHealth and currentHealth > 0 then
						local damageDealt = math.floor(lastTargetHealth - currentHealth)
						
												if damageDealt > 0 and library.hitpack.hit_detection then
														if library.hitpack.hit_notifications_enabled then
								if library.hitpack.hit_notification_type == "Console Output" then
									print('[Target Aim] Hit ' .. TargetPlayer.Name .. ' | Damage: ' .. damageDealt)
								elseif library.hitpack.hit_notification_type == "GUI Notification" then
									library:notification({
										text = 'Hit ' .. TargetPlayer.Name .. ' for ' .. damageDealt .. ' damage',
										time = 2
									})
								elseif library.hitpack.hit_notification_type == "Screen Text" then
									if _G.showScreenNotification then
										_G.showScreenNotification('Hit ' .. TargetPlayer.Name .. ' | -' .. damageDealt .. ' HP')
									end
								end
							end
							
						
						if library.hitpack.hit_sounds and _G.playHitSound then
							_G.playHitSound()
						end
						
						if library.hitpack.hit_indicator and _G.showHitIndicator then
							_G.showHitIndicator(damageDealt, TargetPlayer.Character)
						end
					end
											lastTargetHealth = currentHealth
					elseif currentHealth > lastTargetHealth then
												lastTargetHealth = currentHealth
					end
				else
								lastTargetHealth = nil
				lastTrackedTarget = nil
			end
		else
						lastTargetHealth = nil
			lastTrackedTarget = nil
			cleanupOldTarget()
			currentTargetPlayer = nil
		end
	end)				if getnamecallmethod then
			local Meta = getrawmetatable(game)
			local backupindex = Meta.__index
			setreadonly(Meta, false)

			Meta.__index = function(t, k)
				if k:lower() == "hit" then
					if library.target_aim.enabled and library.target_aim.active and library.target_aim.csync == false and lp and lp.Character and lp.Character:FindFirstChild("HumanoidRootPart") and lp.Character:FindFirstChild("Humanoid") and lp.Character:FindFirstChild("Head") then
						local TargetPlayer = getClosestPlayerToMouse()
						if TargetPlayer and TargetPlayer.Character and TargetPlayer.Character:FindFirstChild("Head") and not TargetPlayer.Character:FindFirstChild("ForceField") then
							if not KnockCheck(TargetPlayer) then
								return TargetPlayer.Character.Head.CFrame
							end
						end
					end
				end
				return backupindex(t, k)
			end
		end
	end

			
	local kill_aura_connections = {}

	local function get_closest_player_killaura()
		local closest_player = nil
		local shortest_distance = library.kill_aura.range
		
		for _, target in pairs(players:GetPlayers()) do
			if target ~= lp and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
				local distance = (target.Character.HumanoidRootPart.Position - lp.Character.HumanoidRootPart.Position).Magnitude
				if distance < shortest_distance then
					closest_player = target
					shortest_distance = distance
				end
			end
		end
		
		return closest_player
	end

	local function shoot_remote_killaura(tool, enemy)
		if enemy and enemy.Character and enemy.Character:FindFirstChild("Head") then
			rs.MainEvent:FireServer(
				"ShootGun",
				tool:FindFirstChild("Handle"),
				tool:FindFirstChild("Handle").CFrame.Position,
				enemy.Character.HumanoidRootPart.Position,
				enemy.Character.Head,
				Vector3.new(0, 0, -1)
			)
		end
	end

	local function apply_kill_aura()
		if not library.kill_aura.enabled then return end
		
		local closest_player = get_closest_player_killaura()
		local tool = lp.Character and lp.Character:FindFirstChildOfClass("Tool")
		
		if closest_player and tool then
			shoot_remote_killaura(tool, closest_player)
		end
	end

			
	local resolution_initialized = false

		run.RenderStepped:Connect(function()
		if not library.screen.resolution_changer_enabled then
			resolution_initialized = false
			return
		end
		
		local x_scale = library.screen.resolution_x / 100
		local y_scale = library.screen.resolution_y / 100
		
		if (x_scale ~= 1 or y_scale ~= 1) and not resolution_initialized then
			camera.CFrame = camera.CFrame * CFrame.new(0, 0, 0, x_scale, 0, 0, 0, y_scale, 0, 0, 0, 1)
			resolution_initialized = true
		elseif x_scale == 1 and y_scale == 1 then
			resolution_initialized = false
		end
		
		if x_scale ~= 1 or y_scale ~= 1 then
			camera.CFrame = camera.CFrame * CFrame.new(0, 0, 0, x_scale, 0, 0, 0, y_scale, 0, 0, 0, 1)
		end
	end)


local rapid_fire_original = {}

local function apply_rapid_fire()
	if not library.rapid_fire.enabled then
		return
	end
	
	local tool = lp.Character and lp.Character:FindFirstChildOfClass("Tool")
	
	if tool and tool:FindFirstChild("GunScript") then
		for _, connection in ipairs(getconnections(tool.Activated)) do
			local func = connection.Function
			if func then
				local func_info = debug.getinfo(func)
				for i = 1, func_info.nups do
					local c, n = debug.getupvalue(func, i)
					if type(c) == "number" then
												if not rapid_fire_original[i] then
							rapid_fire_original[i] = c
						end
												debug.setupvalue(func, i, 0.00000000000000000001)
					end
				end
			end
		end
	end
end

local function restore_rapid_fire()
	local tool = lp.Character and lp.Character:FindFirstChildOfClass("Tool")
	
	if tool and tool:FindFirstChild("GunScript") then
		for _, connection in ipairs(getconnections(tool.Activated)) do
			local func = connection.Function
			if func then
				local func_info = debug.getinfo(func)
				for i = 1, func_info.nups do
					if rapid_fire_original[i] then
						debug.setupvalue(func, i, rapid_fire_original[i])
					end
				end
			end
		end
	end
		rapid_fire_original = {}
end			
	local old_random; 
	old_random = hookfunction(math.random, function(...)
		local args = {...}

		if checkcaller() then
			return old_random(...)
		end

				if (#args == 0) or 
		(args[1] == -0.05 and args[2] == 0.05) or 
		(args[1] == -0.1) or
		(args[1] == -0.05) then

			if library.bullet_spread.enabled then
				local spread = library.bullet_spread.amount
				return old_random(...) * (spread / 100)
			else
				return old_random(...)
			end
		end
		
		return old_random(...)
	end)

			
	local TweenService = game:GetService("TweenService")
	local Debris = game:GetService("Debris")
	local SoundService = game:GetService("SoundService")

		local customFont = nil
	pcall(function()
		if not isfile(library.directory .. "/fonts/manga.ttf") then
			writefile(
				library.directory .. "/fonts/manga.ttf",
				game:HttpGet("https://github.com/wacktactic/ui/raw/refs/heads/main/Manga%20Style.ttf")
			)
		end
		
		local mangaStyle = {
			name = "MangaStyle",
			faces = {
				{
					name = "Regular",
					weight = 400,
					style = "normal",
					assetId = getcustomasset(library.directory .. "/fonts/manga.ttf"),
				},
			},
		}
		
		if not isfile(library.directory .. "/fonts/manga_encoded.ttf") then
			writefile(library.directory .. "/fonts/manga_encoded.ttf", http_service:JSONEncode(mangaStyle))
		end
		
		customFont = Font.new(
			getcustomasset(library.directory .. "/fonts/manga_encoded.ttf"),
			Enum.FontWeight.Regular
		)
	end)

	local hitsoundsTable = {
		Bameware = "rbxassetid://3124331820",
		Bell = "rbxassetid://6534947240",
		Bubble = "rbxassetid://6534947588",
		Pick = "rbxassetid://1347140027",
		Pop = "rbxassetid://198598793",
		Rust = "rbxassetid://1255040462",
		Sans = "rbxassetid://3188795283",
		Fart = "rbxassetid://130833677",
		Big = "rbxassetid://5332005053",
		Vine = "rbxassetid://5332680810",
		Bruh = "rbxassetid://4578740568",
		Skeet = "rbxassetid://5633695679",
		Neverlose = "rbxassetid://6534948092",
		Fatality = "rbxassetid://6534947869",
		Bonk = "rbxassetid://5766898159",
		Minecraft = "rbxassetid://4018616850"
	}

		local hitAnimations = {
		["None"] = function(gui, textLabel)
					end,
		
		["Gelatine"] = function(gui, textLabel)
			local originalSize = gui.Size
			local tween1 = TweenService:Create(gui, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Size = UDim2.new(originalSize.X.Scale * 0.9, 0, originalSize.Y.Scale * 1.1, 0)})
			local tween2 = TweenService:Create(gui, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Size = UDim2.new(originalSize.X.Scale * 1.1, 0, originalSize.Y.Scale * 0.9, 0)})
			local tween3 = TweenService:Create(gui, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Size = UDim2.new(originalSize.X.Scale * 0.95, 0, originalSize.Y.Scale * 1.05, 0)})
			local tween4 = TweenService:Create(gui, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Size = originalSize})
			
			tween1:Play()
			tween1.Completed:Connect(function()
				tween2:Play()
				tween2.Completed:Connect(function()
					tween3:Play()
					tween3.Completed:Connect(function()
						tween4:Play()
					end)
				end)
			end)
		end,
		
		["Spin"] = function(gui, textLabel)
			for i = 0, 360, 30 do
				task.wait(0.01)
				textLabel.Rotation = i
			end
			textLabel.Rotation = 0
		end,
		
		["Elastic Spin"] = function(gui, textLabel)
			local tween = TweenService:Create(textLabel, TweenInfo.new(1, Enum.EasingStyle.Elastic, Enum.EasingDirection.Out), {Rotation = 360})
			tween:Play()
			tween.Completed:Connect(function()
				textLabel.Rotation = 0
			end)
		end,
		
		["Pulse"] = function(gui, textLabel)
			local originalSize = gui.Size
			local tween1 = TweenService:Create(gui, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Size = UDim2.new(originalSize.X.Scale * 1.2, 0, originalSize.Y.Scale * 1.2, 0)})
			local tween2 = TweenService:Create(gui, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {Size = originalSize})
			
			tween1:Play()
			tween1.Completed:Connect(function()
				tween2:Play()
			end)
		end,
		
		["Flash"] = function(gui, textLabel)
			for i = 1, 2 do
				textLabel.TextTransparency = 0
				task.wait(0.1)
				textLabel.TextTransparency = 1
				task.wait(0.1)
			end
			textLabel.TextTransparency = 0
		end,
		
		["Hi There"] = function(gui, textLabel)
			local rotations = {-10, 10, -10, 10, 0}
			for i, rot in ipairs(rotations) do
				local tween = TweenService:Create(textLabel, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Rotation = rot})
				tween:Play()
				tween.Completed:Wait()
			end
		end,
		
		["Grow"] = function(gui, textLabel)
			gui.Size = UDim2.new(0, 0, 0, 0)
			local tween = TweenService:Create(gui, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Size = UDim2.new(4, 0, 2, 0)})
			tween:Play()
		end,
		
		["Fade In"] = function(gui, textLabel)
			textLabel.TextTransparency = 1
			TweenService:Create(textLabel, TweenInfo.new(0.5, Enum.EasingStyle.Linear), {TextTransparency = 0}):Play()
		end,
		
		["Fade Out"] = function(gui, textLabel)
			textLabel.TextTransparency = 0
			TweenService:Create(textLabel, TweenInfo.new(0.5, Enum.EasingStyle.Linear), {TextTransparency = 1}):Play()
		end,
		
		["Bounce"] = function(gui, textLabel)
			local originalOffset = gui.StudsOffset
			local tween1 = TweenService:Create(gui, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {StudsOffset = originalOffset + Vector3.new(0, 1, 0)})
			local tween2 = TweenService:Create(gui, TweenInfo.new(0.2, Enum.EasingStyle.Bounce, Enum.EasingDirection.Out), {StudsOffset = originalOffset})
			
			tween1:Play()
			tween1.Completed:Connect(function()
				tween2:Play()
			end)
		end,
		
		["Bounce 2"] = function(gui, textLabel)
			local originalOffset = gui.StudsOffset
			local bounces = {Vector3.new(0, 0.5, 0), Vector3.new(0, 0, 0), Vector3.new(0, 0.3, 0), Vector3.new(0, 0, 0), Vector3.new(0, 0.1, 0), Vector3.new(0, 0, 0)}
			
			for i, offset in ipairs(bounces) do
				local tween = TweenService:Create(gui, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {StudsOffset = originalOffset + offset})
				tween:Play()
				tween.Completed:Wait()
			end
		end,
		
		["Shake"] = function(gui, textLabel)
			local originalOffset = gui.StudsOffset
			for i = 1, 10 do
				local offsetX = math.random(-10, 10) / 20
				local offsetY = math.random(-10, 10) / 20
				local offsetZ = math.random(-10, 10) / 20
				gui.StudsOffset = originalOffset + Vector3.new(offsetX, offsetY, offsetZ)
				task.wait(0.05)
			end
			gui.StudsOffset = originalOffset
		end,
		
		["Flip"] = function(gui, textLabel)
			local tween = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Back, Enum.EasingDirection.InOut), {Rotation = 360})
			tween:Play()
			tween.Completed:Connect(function()
				textLabel.Rotation = 0
			end)
		end,
		
		["Swing"] = function(gui, textLabel)
			local rotations = {15, -10, 5, -5, 0}
			for i, rot in ipairs(rotations) do
				local tween = TweenService:Create(textLabel, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Rotation = rot})
				tween:Play()
				tween.Completed:Wait()
			end
		end,
		
		["Wobble"] = function(gui, textLabel)
			local rotations = {-5, 3, -3, 2, -1, 0}
			for i, rot in ipairs(rotations) do
				local tween = TweenService:Create(textLabel, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Rotation = rot})
				tween:Play()
				tween.Completed:Wait()
			end
		end,
		
		["Fade In Down"] = function(gui, textLabel)
			textLabel.TextTransparency = 1
			local originalOffset = gui.StudsOffset
			gui.StudsOffset = originalOffset + Vector3.new(0, 1, 0)
			
			local tween1 = TweenService:Create(gui, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {StudsOffset = originalOffset})
			local tween2 = TweenService:Create(textLabel, TweenInfo.new(0.5, Enum.EasingStyle.Linear), {TextTransparency = 0})
			
			tween1:Play()
			tween2:Play()
		end,
		
		["Fade In Left"] = function(gui, textLabel)
			textLabel.TextTransparency = 1
			local originalOffset = gui.StudsOffset
			gui.StudsOffset = originalOffset + Vector3.new(-1, 0, 0)
			
			local tween1 = TweenService:Create(gui, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {StudsOffset = originalOffset})
			local tween2 = TweenService:Create(textLabel, TweenInfo.new(0.5, Enum.EasingStyle.Linear), {TextTransparency = 0})
			
			tween1:Play()
			tween2:Play()
		end,
		
		["Fade Out Down"] = function(gui, textLabel)
			local originalOffset = gui.StudsOffset
			local targetOffset = originalOffset + Vector3.new(0, -1, 0)
			
			local tween1 = TweenService:Create(gui, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {StudsOffset = targetOffset})
			local tween2 = TweenService:Create(textLabel, TweenInfo.new(0.5, Enum.EasingStyle.Linear), {TextTransparency = 1})
			
			tween1:Play()
			tween2:Play()
		end,
		
		["Fade Out Right"] = function(gui, textLabel)
			local originalOffset = gui.StudsOffset
			local targetOffset = originalOffset + Vector3.new(1, 0, 0)
			
			local tween1 = TweenService:Create(gui, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {StudsOffset = targetOffset})
			local tween2 = TweenService:Create(textLabel, TweenInfo.new(0.5, Enum.EasingStyle.Linear), {TextTransparency = 1})
			
			tween1:Play()
			tween2:Play()
		end,
		
		["Bounce In"] = function(gui, textLabel)
			textLabel.TextTransparency = 1
			gui.Size = UDim2.new(0, 0, 0, 0)
			
			local tween1 = TweenService:Create(gui, TweenInfo.new(0.6, Enum.EasingStyle.Bounce, Enum.EasingDirection.Out), {Size = UDim2.new(4, 0, 2, 0)})
			local tween2 = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Linear), {TextTransparency = 0})
			
			tween1:Play()
			tween2:Play()
		end,
		
		["Bounce In Right"] = function(gui, textLabel)
			textLabel.TextTransparency = 1
			local originalOffset = gui.StudsOffset
			gui.StudsOffset = originalOffset + Vector3.new(2, 0, 0)
			
			local tween1 = TweenService:Create(gui, TweenInfo.new(0.6, Enum.EasingStyle.Bounce, Enum.EasingDirection.Out), {StudsOffset = originalOffset})
			local tween2 = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Linear), {TextTransparency = 0})
			
			tween1:Play()
			tween2:Play()
		end,
		
		["Bounce Out"] = function(gui, textLabel)
			local tween1 = TweenService:Create(gui, TweenInfo.new(0.6, Enum.EasingStyle.Back, Enum.EasingDirection.In), {Size = UDim2.new(0, 0, 0, 0)})
			local tween2 = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Linear), {TextTransparency = 1})
			
			tween1:Play()
			tween2:Play()
		end,
		
		["Bounce Out Down"] = function(gui, textLabel)
			local originalOffset = gui.StudsOffset
			local targetOffset = originalOffset + Vector3.new(0, -2, 0)
			
			local tween1 = TweenService:Create(gui, TweenInfo.new(0.6, Enum.EasingStyle.Back, Enum.EasingDirection.In), {StudsOffset = targetOffset})
			local tween2 = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Linear), {TextTransparency = 1})
			
			tween1:Play()
			tween2:Play()
		end,
		
		["Rotate In Down Left"] = function(gui, textLabel)
			textLabel.TextTransparency = 1
			textLabel.Rotation = -90
			local originalOffset = gui.StudsOffset
			gui.StudsOffset = originalOffset + Vector3.new(-1, 1, 0)
			
			local tween1 = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Rotation = 0})
			local tween2 = TweenService:Create(gui, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {StudsOffset = originalOffset})
			local tween3 = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Linear), {TextTransparency = 0})
			
			tween1:Play()
			tween2:Play()
			tween3:Play()
		end,
		
		["Rotate In Up Left"] = function(gui, textLabel)
			textLabel.TextTransparency = 1
			textLabel.Rotation = 90
			local originalOffset = gui.StudsOffset
			gui.StudsOffset = originalOffset + Vector3.new(-1, -1, 0)
			
			local tween1 = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Rotation = 0})
			local tween2 = TweenService:Create(gui, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {StudsOffset = originalOffset})
			local tween3 = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Linear), {TextTransparency = 0})
			
			tween1:Play()
			tween2:Play()
			tween3:Play()
		end,
		
		["Hinge"] = function(gui, textLabel)
			local tween1 = TweenService:Create(textLabel, TweenInfo.new(1, Enum.EasingStyle.Linear), {Rotation = 80})
			local tween2 = TweenService:Create(textLabel, TweenInfo.new(1, Enum.EasingStyle.Linear), {Rotation = 60})
			
			tween1:Play()
			tween1.Completed:Connect(function()
				tween2:Play()
			end)
		end,
		
		["Roll In"] = function(gui, textLabel)
			textLabel.TextTransparency = 1
			textLabel.Rotation = -360
			local originalOffset = gui.StudsOffset
			gui.StudsOffset = originalOffset + Vector3.new(-3, 0, 0)
			
			local tween1 = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Linear), {Rotation = 0})
			local tween2 = TweenService:Create(gui, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {StudsOffset = originalOffset})
			local tween3 = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Linear), {TextTransparency = 0})
			
			tween1:Play()
			tween2:Play()
			tween3:Play()
		end,
		
		["Roll Out"] = function(gui, textLabel)
			local originalOffset = gui.StudsOffset
			local targetOffset = originalOffset + Vector3.new(3, 0, 0)
			
			local tween1 = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Linear), {Rotation = 360})
			local tween2 = TweenService:Create(gui, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {StudsOffset = targetOffset})
			local tween3 = TweenService:Create(textLabel, TweenInfo.new(0.6, Enum.EasingStyle.Linear), {TextTransparency = 1})
			
			tween1:Play()
			tween2:Play()
			tween3:Play()
		end,
	}

	local hiteffectTable = {
		["Nova"] = function(position)
			local part = Instance.new("Part")
			part.Position = position
			part.Anchored = true
			part.Transparency = 1
			part.CanCollide = false
			part.Parent = workspace
			
			local particle1 = Instance.new("ParticleEmitter")
			particle1.Color = ColorSequence.new{ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)), ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))}
			particle1.Lifetime = NumberRange.new(0.5, 0.5)
			particle1.LightEmission = 1
			particle1.LockedToPart = true
			particle1.Orientation = Enum.ParticleOrientation.VelocityPerpendicular
			particle1.Rate = 0
			particle1.Size = NumberSequence.new{NumberSequenceKeypoint.new(0, 0, 0), NumberSequenceKeypoint.new(1, 10, 0)}
			particle1.Speed = NumberRange.new(1.5, 1.5)
			particle1.Texture = "rbxassetid://1084991215"
			particle1.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0, 1, 0), NumberSequenceKeypoint.new(0.0996047, 0, 0), NumberSequenceKeypoint.new(0.602372, 0, 0), NumberSequenceKeypoint.new(1, 1, 0)}
			particle1.ZOffset = 1
			particle1.Parent = part

			local particle2 = Instance.new("ParticleEmitter")
			particle2.Color = ColorSequence.new{ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)), ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))}
			particle2.Lifetime = NumberRange.new(0.5, 0.5)
			particle2.LightEmission = 1
			particle2.LockedToPart = true
			particle2.Rate = 0
			particle2.Size = NumberSequence.new{NumberSequenceKeypoint.new(0, 0, 0), NumberSequenceKeypoint.new(1, 10, 0)}
			particle2.Speed = NumberRange.new(0, 0)
			particle2.Texture = "rbxassetid://1084991215"
			particle2.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0, 1, 0), NumberSequenceKeypoint.new(0.0996047, 0, 0), NumberSequenceKeypoint.new(0.601581, 0, 0), NumberSequenceKeypoint.new(1, 1, 0)}
			particle2.ZOffset = 1
			particle2.Parent = part

			local particle3 = Instance.new("ParticleEmitter")
			particle3.Color = ColorSequence.new{ColorSequenceKeypoint.new(0, Color3.new(0, 0, 0)), ColorSequenceKeypoint.new(1, Color3.new(0, 0, 0))}
			particle3.Lifetime = NumberRange.new(0.2, 0.5)
			particle3.LockedToPart = true
			particle3.Orientation = Enum.ParticleOrientation.VelocityParallel
			particle3.Rate = 0
			particle3.Rotation = NumberRange.new(-90, 90)
			particle3.Size = NumberSequence.new{NumberSequenceKeypoint.new(0, 1, 0), NumberSequenceKeypoint.new(1, 8.5, 1.5)}
			particle3.Speed = NumberRange.new(0.1, 0.1)
			particle3.SpreadAngle = Vector2.new(180, 180)
			particle3.Texture = "http://www.roblox.com/asset/?id=6820680001"
			particle3.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0, 1, 0), NumberSequenceKeypoint.new(0.200791, 0, 0), NumberSequenceKeypoint.new(0.699605, 0, 0), NumberSequenceKeypoint.new(1, 1, 0)}
			particle3.ZOffset = 1.5
			particle3.Parent = part

			particle1:Emit(1)
			particle2:Emit(1)
			particle3:Emit(1)

			task.delay(1, function()
				part:Destroy()
			end)
		end,
		["Blood"] = function(position)
			local MainPart = Instance.new("Part", workspace)
			MainPart.Transparency = 1
			MainPart.Size = Vector3.new(2, 2, 2)
			MainPart.Position = position
			MainPart.CanCollide = false
			MainPart.Anchored = true
			
			local Attachment = Instance.new("Attachment", MainPart)
			local Blood = Instance.new("ParticleEmitter", Attachment)
			Blood.Acceleration = Vector3.new(0, -75, 0)
			Blood.Color = ColorSequence.new{ColorSequenceKeypoint.new(0, Color3.new(1, 0, 0)), ColorSequenceKeypoint.new(1, Color3.new(1, 0, 0))}
			Blood.Lifetime = NumberRange.new(0.25, 0.5)
			Blood.Orientation = Enum.ParticleOrientation.VelocityParallel
			Blood.Rate = 100
			Blood.Size = NumberSequence.new{NumberSequenceKeypoint.new(0, 0.125, 0), NumberSequenceKeypoint.new(1, 0.25, 0.1)}
			Blood.Speed = NumberRange.new(5, 15)
			Blood.SpreadAngle = Vector2.new(90, 90)
			Blood.Texture = "rbxassetid://4509687978"
			Blood.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0, 1, 0), NumberSequenceKeypoint.new(0.25, 0, 0), NumberSequenceKeypoint.new(1, 1, 0)}
			Blood:Emit(3)
			task.delay(1, function() MainPart:Destroy() end)
		end,
		["Glitch"] = function(position)
			local MainPart = Instance.new("Part", workspace)
			MainPart.Transparency = 1
			MainPart.Size = Vector3.new(2.6, 5.52, 2.8)
			MainPart.Position = position
			MainPart.CanCollide = false
			MainPart.Anchored = true

						local emitterData = {
				{color = Color3.new(0, 0, 0), texture = "rbxassetid://8546937977", size = 0.5},
				{color = Color3.new(0, 0, 0), texture = "rbxassetid://8546937977", size = 0.5},
				{color = Color3.new(0, 0, 1), texture = "rbxassetid://6888586040", size = 0.3},
				{color = Color3.new(0, 0, 1), texture = "rbxassetid://6888586040", size = 0.3},
				{color = Color3.new(0, 1, 0), texture = "rbxassetid://6888586040", size = 0.3},
				{color = Color3.new(0, 1, 0), texture = "rbxassetid://6888586040", size = 0.3},
				{color = Color3.new(1, 0, 1), texture = "rbxassetid://6888586040", size = 0.3},
				{color = Color3.new(1, 0, 1), texture = "rbxassetid://6888586040", size = 0.3},
				{color = Color3.new(1, 0, 0), texture = "rbxassetid://6888586040", size = 0.3},
				{color = Color3.new(1, 0, 0), texture = "rbxassetid://6888586040", size = 0.3},
				{color = Color3.new(1, 1, 0), texture = "rbxassetid://6888586040", size = 0.3},
				{color = Color3.new(1, 1, 0), texture = "rbxassetid://6888586040", size = 0.3},
			}

			for _, data in ipairs(emitterData) do
				local pe = Instance.new("ParticleEmitter", MainPart)
				pe.Acceleration = Vector3.new(0, 0, 0)
				pe.Brightness = 1
				pe.Color = ColorSequence.new(data.color)
				pe.EmissionDirection = Enum.NormalId.Right
				pe.Enabled = true
				pe.Lifetime = NumberRange.new(0.1, 0.1)
				pe.LightInfluence = 1
				pe.Orientation = Enum.ParticleOrientation.FacingCamera
				pe.Rate = 30
				pe.Shape = Enum.ParticleEmitterShape.Box
				pe.ShapeStyle = Enum.ParticleEmitterShapeStyle.Volume
				pe.Size = NumberSequence.new{NumberSequenceKeypoint.new(0, data.size, 0), NumberSequenceKeypoint.new(1, data.size, 0)}
				pe.Texture = data.texture
				pe.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0, 0, 0), NumberSequenceKeypoint.new(1, 0, 0)}
			end

			task.delay(3, function() MainPart:Destroy() end)
		end,
		["Slash"] = function(position)
			local Part = Instance.new("Part", workspace)
			Part.Size = Vector3.new(2, 2, 2)
			Part.Anchored = true
			Part.CanCollide = false
			Part.Transparency = 1
			Part.Position = position
			
			local Attachment = Instance.new("Attachment", Part)
			
			local Crescents = Instance.new("ParticleEmitter", Attachment)
			Crescents.Name = "Crescents"
			Crescents.Lifetime = NumberRange.new(0.19, 0.38)
			Crescents.SpreadAngle = Vector2.new(-360, 360)
			Crescents.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0, 1), NumberSequenceKeypoint.new(0.1932907, 0), NumberSequenceKeypoint.new(0.778754, 0), NumberSequenceKeypoint.new(1, 1)}
			Crescents.LightEmission = 10
			Crescents.Color = ColorSequence.new{ColorSequenceKeypoint.new(0, Color3.fromRGB(160, 96, 255)), ColorSequenceKeypoint.new(0.3160622, Color3.fromRGB(160, 96, 255)), ColorSequenceKeypoint.new(0.5146805, Color3.fromRGB(154, 82, 255)), ColorSequenceKeypoint.new(1, Color3.fromRGB(160, 96, 255))}
			Crescents.VelocitySpread = -360
			Crescents.Speed = NumberRange.new(0.0826858, 0.0826858)
			Crescents.Brightness = 4
			Crescents.Size = NumberSequence.new{NumberSequenceKeypoint.new(0, 0), NumberSequenceKeypoint.new(0.398774, 8.8026266, 2.2834616), NumberSequenceKeypoint.new(1, 11.477972, 1.860431)}
			Crescents.Enabled = true
			Crescents.ZOffset = 0.4542207
			Crescents.Rate = 50
			Crescents.Texture = "rbxassetid://12509373457"
			Crescents.RotSpeed = NumberRange.new(800, 1000)
			Crescents.Rotation = NumberRange.new(-360, 360)
			Crescents.Orientation = Enum.ParticleOrientation.VelocityPerpendicular
			
			task.delay(1.5, function() Part:Destroy() end)
		end,
		["Cosmic"] = function(position)
			local Part = Instance.new("Part", workspace)
			Part.Size = Vector3.new(2, 2, 2)
			Part.Anchored = true
			Part.CanCollide = false
			Part.Transparency = 1
			Part.Position = position
			
			local Attachment = Instance.new("Attachment", Part)
			
						local Glow = Instance.new("ParticleEmitter", Attachment)
			Glow.Lifetime = NumberRange.new(0.16, 0.16)
			Glow.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0, 1), NumberSequenceKeypoint.new(0.1421725, 0.6182796), NumberSequenceKeypoint.new(1, 1)}
			Glow.Color = ColorSequence.new(Color3.fromRGB(173, 82, 252))
			Glow.Speed = NumberRange.new(0, 0)
			Glow.Brightness = 5
			Glow.Size = NumberSequence.new(9.1873131, 16.5032349)
			Glow.ZOffset = -0.0565939
			Glow.Rate = 50
			Glow.Texture = "rbxassetid://8708637750"
			Glow.LightEmission = 1
			
						local Effect = Instance.new("ParticleEmitter", Attachment)
			Effect.Lifetime = NumberRange.new(0.4, 0.7)
			Effect.FlipbookLayout = Enum.ParticleFlipbookLayout.Grid4x4
			Effect.SpreadAngle = Vector2.new(360, -360)
			Effect.LockedToPart = true
			Effect.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0, 1), NumberSequenceKeypoint.new(0.1070999, 0.19375), NumberSequenceKeypoint.new(0.7761194, 0.88125), NumberSequenceKeypoint.new(1, 1)}
			Effect.LightEmission = 1
			Effect.Color = ColorSequence.new(Color3.fromRGB(173, 82, 252))
			Effect.Drag = 1
			Effect.VelocitySpread = 360
			Effect.Speed = NumberRange.new(0.0036749, 0.0036749)
			Effect.Brightness = 2.0999999
			Effect.Size = NumberSequence.new(6.9680691, 9.9213123)
			Effect.ZOffset = 0.4777403
			Effect.Rate = 50
			Effect.Texture = "rbxassetid://9484012464"
			Effect.RotSpeed = NumberRange.new(-150, -150)
			Effect.FlipbookMode = Enum.ParticleFlipbookMode.OneShot
			Effect.Rotation = NumberRange.new(50, 50)
			Effect.Orientation = Enum.ParticleOrientation.VelocityPerpendicular
			
						local Gradient1 = Instance.new("ParticleEmitter", Attachment)
			Gradient1.Lifetime = NumberRange.new(0.3, 0.3)
			Gradient1.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0, 1), NumberSequenceKeypoint.new(0.15, 0.3), NumberSequenceKeypoint.new(1, 1)}
			Gradient1.Color = ColorSequence.new(Color3.fromRGB(173, 82, 252))
			Gradient1.Speed = NumberRange.new(0, 0)
			Gradient1.Brightness = 6
			Gradient1.Size = NumberSequence.new(0, 11.6261358)
			Gradient1.ZOffset = 0.9187313
			Gradient1.Rate = 50
			Gradient1.Texture = "rbxassetid://8196169974"
			Gradient1.LightEmission = 1
			
						local Shards = Instance.new("ParticleEmitter", Attachment)
			Shards.Lifetime = NumberRange.new(0.19, 0.7)
			Shards.SpreadAngle = Vector2.new(-90, 90)
			Shards.Color = ColorSequence.new(Color3.fromRGB(173, 82, 252))
			Shards.Drag = 10
			Shards.VelocitySpread = -90
			Shards.Squash = NumberSequence.new{NumberSequenceKeypoint.new(0, 1), NumberSequenceKeypoint.new(0.5705521, 0.4125001), NumberSequenceKeypoint.new(1, -0.9375)}
			Shards.Speed = NumberRange.new(97.7530136, 146.9970093)
			Shards.Brightness = 4
			Shards.Size = NumberSequence.new{NumberSequenceKeypoint.new(0, 0), NumberSequenceKeypoint.new(0.284774, 1.2389833, 0.1534118), NumberSequenceKeypoint.new(1, 0)}
			Shards.ZOffset = 0.5705321
			Shards.Rate = 50
			Shards.Texture = "rbxassetid://8030734851"
			Shards.Rotation = NumberRange.new(90, 90)
			Shards.Orientation = Enum.ParticleOrientation.VelocityParallel
			Shards.LightEmission = 1
			
						local Crescents = Instance.new("ParticleEmitter", Attachment)
			Crescents.Lifetime = NumberRange.new(0.19, 0.38)
			Crescents.SpreadAngle = Vector2.new(-360, 360)
			Crescents.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0, 1), NumberSequenceKeypoint.new(0.1932907, 0), NumberSequenceKeypoint.new(0.778754, 0), NumberSequenceKeypoint.new(1, 1)}
			Crescents.LightEmission = 10
			Crescents.Color = ColorSequence.new(Color3.fromRGB(160, 96, 255))
			Crescents.VelocitySpread = -360
			Crescents.Speed = NumberRange.new(0.0826858, 0.0826858)
			Crescents.Brightness = 4
			Crescents.Size = NumberSequence.new{NumberSequenceKeypoint.new(0, 0), NumberSequenceKeypoint.new(0.398774, 8.8026266, 2.2834616), NumberSequenceKeypoint.new(1, 11.477972, 1.860431)}
			Crescents.ZOffset = 0.4542207
			Crescents.Rate = 50
			Crescents.Texture = "rbxassetid://12509373457"
			Crescents.RotSpeed = NumberRange.new(800, 1000)
			Crescents.Rotation = NumberRange.new(-360, 360)
			Crescents.Orientation = Enum.ParticleOrientation.VelocityPerpendicular
			
			task.delay(1.5, function() Part:Destroy() end)
		end,
		["CrescentSlash"] = function(position)
			local Part = Instance.new("Part", workspace)
			Part.Size = Vector3.new(2, 2, 2)
			Part.Anchored = true
			Part.CanCollide = false
			Part.Transparency = 1
			Part.Position = position
			
			local Attachment = Instance.new("Attachment", Part)
			
						local Glow = Instance.new("ParticleEmitter", Attachment)
			Glow.Lifetime = NumberRange.new(0.16, 0.16)
			Glow.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0, 1), NumberSequenceKeypoint.new(0.1421725, 0.6182796), NumberSequenceKeypoint.new(1, 1)}
			Glow.Color = ColorSequence.new(Color3.fromRGB(91, 177, 252))
			Glow.Speed = NumberRange.new(0, 0)
			Glow.Brightness = 5
			Glow.Size = NumberSequence.new(9.1873131, 16.5032349)
			Glow.Rate = 50
			Glow.Texture = "rbxassetid://8708637750"
			Glow.LightEmission = 1
			
						local Gradient1 = Instance.new("ParticleEmitter", Attachment)
			Gradient1.Lifetime = NumberRange.new(0.3, 0.3)
			Gradient1.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0, 1), NumberSequenceKeypoint.new(0.15, 0.3), NumberSequenceKeypoint.new(1, 1)}
			Gradient1.Color = ColorSequence.new(Color3.fromRGB(115, 201, 255))
			Gradient1.Speed = NumberRange.new(0, 0)
			Gradient1.Brightness = 6
			Gradient1.Size = NumberSequence.new(0, 11.6261358)
			Gradient1.Rate = 50
			Gradient1.Texture = "rbxassetid://8196169974"
			Gradient1.LightEmission = 1
			
						local Shards = Instance.new("ParticleEmitter", Attachment)
			Shards.Lifetime = NumberRange.new(0.19, 0.7)
			Shards.SpreadAngle = Vector2.new(-90, 90)
			Shards.Color = ColorSequence.new(Color3.fromRGB(108, 184, 255))
			Shards.Drag = 10
			Shards.VelocitySpread = -90
			Shards.Speed = NumberRange.new(97.7530136, 146.9970093)
			Shards.Brightness = 4
			Shards.Size = NumberSequence.new{NumberSequenceKeypoint.new(0, 0), NumberSequenceKeypoint.new(0.284774, 1.2389833, 0.1534118), NumberSequenceKeypoint.new(1, 0)}
			Shards.Rate = 50
			Shards.Texture = "rbxassetid://8030734851"
			Shards.LightEmission = 1
			
						local ShardsDark = Instance.new("ParticleEmitter", Attachment)
			ShardsDark.Lifetime = NumberRange.new(0.19, 0.35)
			ShardsDark.SpreadAngle = Vector2.new(-90, 90)
			ShardsDark.Color = ColorSequence.new(Color3.fromRGB(108, 184, 255))
			ShardsDark.Drag = 10
			ShardsDark.VelocitySpread = -90
			ShardsDark.Speed = NumberRange.new(97.7530136, 146.9970093)
			ShardsDark.Brightness = 4
			ShardsDark.Size = NumberSequence.new{NumberSequenceKeypoint.new(0, 0), NumberSequenceKeypoint.new(0.290774, 0.6734411, 0.1534118), NumberSequenceKeypoint.new(1, 0)}
			ShardsDark.Rate = 50
			ShardsDark.Texture = "rbxassetid://8030734851"
			ShardsDark.LightEmission = 1
			
						local Specs = Instance.new("ParticleEmitter", Attachment)
			Specs.Lifetime = NumberRange.new(0.33, 1.4)
			Specs.SpreadAngle = Vector2.new(360, -1000)
			Specs.Color = ColorSequence.new(Color3.fromRGB(98, 174, 255))
			Specs.Drag = 10
			Specs.VelocitySpread = 360
			Specs.Speed = NumberRange.new(36.7492523, 146.9970093)
			Specs.Brightness = 7
			Specs.Size = NumberSequence.new{NumberSequenceKeypoint.new(0, 0), NumberSequenceKeypoint.new(0.200774, 2.0311937, 0.4363973), NumberSequenceKeypoint.new(1, 0)}
			Specs.Rate = 50
			Specs.Texture = "rbxassetid://8030760338"
			Specs.LightEmission = 1
			
						local LargeShard = Instance.new("ParticleEmitter", Attachment)
			LargeShard.Lifetime = NumberRange.new(0.19, 0.28)
			LargeShard.SpreadAngle = Vector2.new(-90, 90)
			LargeShard.Color = ColorSequence.new(Color3.fromRGB(108, 184, 255))
			LargeShard.Drag = 10
			LargeShard.VelocitySpread = -90
			LargeShard.Speed = NumberRange.new(97.7530136, 146.9970093)
			LargeShard.Brightness = 4
			LargeShard.Size = NumberSequence.new{NumberSequenceKeypoint.new(0, 0), NumberSequenceKeypoint.new(0.260774, 3.515605, 0.1534118), NumberSequenceKeypoint.new(1, 0)}
			LargeShard.Rate = 50
			LargeShard.Texture = "rbxassetid://8030734851"
			LargeShard.LightEmission = 1
			
			task.delay(3, function() Part:Destroy() end)
		end
	}

	local damageForColours = {
		[25] = Color3.fromRGB(255, 196, 101),
		[50] = Color3.fromRGB(255, 234, 0),
		[75] = Color3.fromRGB(255, 140, 0),
		[100] = Color3.fromRGB(255, 0, 0),
	}

	local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quint, Enum.EasingDirection.InOut)

	local function createHitIndicator(target, healthLost)
		local rootPart = target:FindFirstChild("HumanoidRootPart")
		if not rootPart then return end

		local damageIndicatorGui = Instance.new("BillboardGui")
		damageIndicatorGui.AlwaysOnTop = true
		damageIndicatorGui.Size = UDim2.new(4, 0, 2, 0)  		damageIndicatorGui.MaxDistance = math.huge  
		local offsetX = math.random(-20, 20) / 10
		local offsetY = math.random(0, 30) / 10
		local offsetZ = math.random(-20, 20) / 10
		damageIndicatorGui.StudsOffset = Vector3.new(offsetX, offsetY, offsetZ)

	local damageIndicatorLabel = Instance.new("TextLabel")
	damageIndicatorLabel.AnchorPoint = Vector2.new(0.5, 0.5)
	damageIndicatorLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
	damageIndicatorLabel.BackgroundTransparency = 1
		if customFont then
		damageIndicatorLabel.FontFace = customFont
	else
		damageIndicatorLabel.Font = Enum.Font.SciFi
	end
	damageIndicatorLabel.Text = tostring(healthLost)
	damageIndicatorLabel.TextSize = 48  	damageIndicatorLabel.Size = UDim2.new(1, 0, 1, 0)
	damageIndicatorLabel.TextStrokeTransparency = 0.5
	damageIndicatorLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
	damageIndicatorLabel.TextTransparency = 0  	damageIndicatorLabel.Rotation = 0
	
	for damage, colour in pairs(damageForColours) do
		if healthLost <= damage then
			damageIndicatorLabel.TextColor3 = colour
			break
		end
	end

	damageIndicatorLabel.Parent = damageIndicatorGui
	damageIndicatorGui.Parent = rootPart

		task.spawn(function()
		if library.hitpack.hit_indicator_animation and hitAnimations[library.hitpack.hit_indicator_animation] then
			hitAnimations[library.hitpack.hit_indicator_animation](damageIndicatorGui, damageIndicatorLabel)
		end
		
				task.wait(1.5)
		local textFadeTween = TweenService:Create(damageIndicatorLabel, TweenInfo.new(0.3), { TextTransparency = 1 })
		textFadeTween:Play()
	end)

	Debris:AddItem(damageIndicatorGui, 2)
	end

		local function showHitIndicator(damage, targetCharacter)
		if not targetCharacter then return end
		createHitIndicator(targetCharacter, damage)
	end

		local function ApplyHitChams(character)
		if not character or not character:FindFirstChild("HumanoidRootPart") then return end
		
				local existingHighlight = character:FindFirstChild("HitHighlight")
		if existingHighlight then
			existingHighlight:Destroy()
		end
		
				local highlight = Instance.new("Highlight")
		highlight.Name = "HitHighlight"
		highlight.FillColor = Color3.fromRGB(255, 0, 0) 		highlight.OutlineColor = Color3.fromRGB(255, 255, 255) 		highlight.FillTransparency = 0.5
		highlight.OutlineTransparency = 0
		highlight.Parent = character
		
				Debris:AddItem(highlight, 0.5)
	end

		_G.showHitIndicator = showHitIndicator
	_G.ApplyHitChams = ApplyHitChams

	local function playHitSound()
		if library.hitpack.hit_sounds and hitsoundsTable[library.hitpack.selected_hit_sound] then
			local sound = Instance.new("Sound")
			sound.SoundId = hitsoundsTable[library.hitpack.selected_hit_sound]
			sound.Parent = SoundService
			sound:Play()
			sound.Ended:Connect(function()
				sound:Destroy()
			end)
		end
	end
	
		_G.playHitSound = playHitSound

	local function CreateEffect(position)
		if library.hitpack.hit_effect and hiteffectTable[library.hitpack.selected_hit_effect] then
			hiteffectTable[library.hitpack.selected_hit_effect](position)
		end
	end

	local function tumtoollarial() 
		if lp.Character and lp.Character:FindFirstChildWhichIsA("Tool") then
			return lp.Character:FindFirstChildWhichIsA("Tool")
		end
	end

	local function pozisyonaenyakintargetial(Radius, Position)
		local ShortestDistance = Radius
		local Player
		local PlayersList = players:GetPlayers()

		for _, v in pairs(PlayersList) do
			if v ~= lp and v.Character then
				local RootPart = v.Character:FindFirstChild("HumanoidRootPart")
				if RootPart then
					local Distance = (RootPart.Position - Position).Magnitude
					if Distance <= ShortestDistance then
						ShortestDistance = Distance
						Player = v
					end
				end
			end
		end

		return Player
	end

		local screenNotificationAnimations = {
		["None"] = function(holder)
					end,
		
		["Bounce"] = function(holder)
			local originalPos = holder.Position
			local tween1 = TweenService:Create(holder, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Position = UDim2.new(originalPos.X.Scale, originalPos.X.Offset, originalPos.Y.Scale, originalPos.Y.Offset - 30)})
			local tween2 = TweenService:Create(holder, TweenInfo.new(0.2, Enum.EasingStyle.Bounce, Enum.EasingDirection.Out), {Position = originalPos})
			
			tween1:Play()
			tween1.Completed:Connect(function()
				tween2:Play()
			end)
		end,
		
		["Fade In"] = function(holder)
			for _, child in ipairs(holder:GetDescendants()) do
				if child:IsA("Frame") then
					child.BackgroundTransparency = 1
				elseif child:IsA("TextLabel") then
					child.TextTransparency = 1
				elseif child:IsA("ImageLabel") then
					child.ImageTransparency = 1
				end
			end
			
			task.wait(0.05)
			
			for _, child in ipairs(holder:GetDescendants()) do
				if child:IsA("Frame") and child.Name ~= "glow" then
					TweenService:Create(child, TweenInfo.new(0.3), {BackgroundTransparency = child:GetAttribute("OriginalTransparency") or 0}):Play()
				elseif child:IsA("TextLabel") then
					TweenService:Create(child, TweenInfo.new(0.3), {TextTransparency = 0}):Play()
				elseif child:IsA("ImageLabel") then
					TweenService:Create(child, TweenInfo.new(0.3), {ImageTransparency = child:GetAttribute("OriginalTransparency") or 0.9}):Play()
				end
			end
		end,
		
		["Slide In"] = function(holder)
			local originalPos = holder.Position
			holder.Position = UDim2.new(originalPos.X.Scale, originalPos.X.Offset + 300, originalPos.Y.Scale, originalPos.Y.Offset)
			TweenService:Create(holder, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Position = originalPos}):Play()
		end,
		
		["Grow"] = function(holder)
			local originalSize = holder.Size
			holder.Size = UDim2.new(0, 0, 0, 0)
			TweenService:Create(holder, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Size = originalSize}):Play()
		end,
		
		["Pulse"] = function(holder)
			local originalSize = holder.Size
			local tween1 = TweenService:Create(holder, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Size = UDim2.new(originalSize.X.Scale * 1.1, originalSize.X.Offset, originalSize.Y.Scale * 1.1, originalSize.Y.Offset)})
			local tween2 = TweenService:Create(holder, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {Size = originalSize})
			
			tween1:Play()
			tween1.Completed:Connect(function()
				tween2:Play()
			end)
		end,
		
		["Shake"] = function(holder)
			local originalPos = holder.Position
			for i = 1, 8 do
				local offsetX = math.random(-10, 10)
				local offsetY = math.random(-5, 5)
				holder.Position = UDim2.new(originalPos.X.Scale, originalPos.X.Offset + offsetX, originalPos.Y.Scale, originalPos.Y.Offset + offsetY)
				task.wait(0.05)
			end
			holder.Position = originalPos
		end,
	}
	
	local function showScreenNotification(text)
		local PlayerGui = lp:WaitForChild("PlayerGui")
		
				local screenGui = Instance.new("ScreenGui")
		screenGui.Name = "HitNotification"
		screenGui.ResetOnSpawn = false
		screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
		screenGui.Parent = PlayerGui
		
				local holder = Instance.new("Frame")
		holder.BackgroundTransparency = 1
		holder.Position = UDim2.new(0.5, -150, 1, -200)
		holder.Size = UDim2.new(0, 300, 0, 24)
		holder.BorderColor3 = Color3.fromRGB(19, 19, 19)
		holder.ZIndex = 2
		holder.Parent = screenGui
		
				local inline1 = Instance.new("Frame")
		inline1.BorderColor3 = Color3.fromRGB(0, 0, 0)
		inline1.Size = UDim2.new(1, 0, 1, 0)
		inline1.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
		inline1.Parent = holder
		
				local inline2 = Instance.new("Frame")
		inline2.Position = UDim2.new(0, 2, 0, 2)
		inline2.BorderColor3 = Color3.fromRGB(0, 0, 0)
		inline2.Size = UDim2.new(1, -4, 1, -4)
		inline2.BorderSizePixel = 0
		inline2.BackgroundColor3 = Color3.fromRGB(26, 26, 26)
		inline2.Parent = inline1
		
				local main = Instance.new("Frame")
		main.Position = UDim2.new(0, 2, 0, 2)
		main.BorderColor3 = Color3.fromRGB(57, 57, 57)
		main.Size = UDim2.new(1, -4, 1, -4)
		main.BackgroundColor3 = Color3.fromRGB(26, 26, 26)
		main.Parent = inline2
		
				local tab_inline = Instance.new("Frame")
		tab_inline.Position = UDim2.new(0, 2, 0, 2)
		tab_inline.BorderColor3 = Color3.fromRGB(19, 19, 19)
		tab_inline.Size = UDim2.new(1, -4, 1, -4)
		tab_inline.BorderSizePixel = 0
		tab_inline.BackgroundColor3 = Color3.fromRGB(19, 19, 19)
		tab_inline.Parent = main
		
				local textLabel = Instance.new("TextLabel")
		textLabel.FontFace = library.font
		textLabel.TextColor3 = Color3.fromRGB(170, 170, 170)
		textLabel.BorderColor3 = Color3.fromRGB(0, 0, 0)
		textLabel.Text = text
		textLabel.TextStrokeTransparency = 0.5
		textLabel.Size = UDim2.new(1, -16, 1, 0)
		textLabel.Position = UDim2.new(0, 8, 0, 0)
		textLabel.BackgroundTransparency = 1
		textLabel.TextXAlignment = Enum.TextXAlignment.Left
		textLabel.BorderSizePixel = 0
		textLabel.TextSize = 12
		textLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		textLabel.Parent = tab_inline
		
				local accent_line = Instance.new("Frame")
		accent_line.BorderColor3 = Color3.fromRGB(34, 34, 34)
		accent_line.Size = UDim2.new(0, 2, 1, 0)
		accent_line.BorderSizePixel = 0
		accent_line.BackgroundColor3 = Color3.fromRGB(100, 100, 255) 		accent_line.Parent = inline1
		
				local glow = Instance.new("ImageLabel")
		glow.Name = "glow"
		glow.ImageColor3 = Color3.fromRGB(100, 100, 255) 		glow.ScaleType = Enum.ScaleType.Slice
		glow.ImageTransparency = 0.9
		glow.BorderColor3 = Color3.fromRGB(0, 0, 0)
		glow.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		glow.Image = "http://www.roblox.com/asset/?id=18245826428"
		glow.BackgroundTransparency = 1
		glow.Position = UDim2.new(0, -20, 0, -8)
		glow.Size = UDim2.new(1, 40, 1, 16)
		glow.ZIndex = 2
		glow.BorderSizePixel = 0
		glow.SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79))
		glow:SetAttribute("OriginalTransparency", 0.9)
		glow.Parent = holder
		
				holder.BackgroundTransparency = 1
		inline1.BackgroundTransparency = 0
		inline2.BackgroundTransparency = 0
		main.BackgroundTransparency = 0
		tab_inline.BackgroundTransparency = 0
		
				task.spawn(function()
			if library.hitpack.hit_notification_animation and screenNotificationAnimations[library.hitpack.hit_notification_animation] then
				screenNotificationAnimations[library.hitpack.hit_notification_animation](holder)
			end
		end)
		
				task.delay(2, function()
			local tween = game:GetService("TweenService"):Create(
				holder,
				TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
				{BackgroundTransparency = 1}
			)
			
						for _, child in ipairs(holder:GetDescendants()) do
				if child:IsA("Frame") or child:IsA("TextLabel") or child:IsA("ImageLabel") then
					local props = {}
					if child:IsA("Frame") then
						props.BackgroundTransparency = 1
					elseif child:IsA("TextLabel") then
						props.TextTransparency = 1
						props.TextStrokeTransparency = 1
					elseif child:IsA("ImageLabel") then
						props.ImageTransparency = 1
					end
					game:GetService("TweenService"):Create(child, TweenInfo.new(0.5), props):Play()
				end
			end
			
			task.delay(0.5, function()
				screenGui:Destroy()
			end)
		end)
	end

		_G.showScreenNotification = showScreenNotification

		local hitpack_character = lp.Character or lp.CharacterAdded:Wait()

	lp.CharacterAdded:Connect(function(newChar)
		hitpack_character = newChar
	end)

	local function ProcessHitEffects(targetCharacter, hitPosition, shootPosition, partHit)
		if not (targetCharacter and targetCharacter:FindFirstChild("Humanoid") and targetCharacter:FindFirstChild("HumanoidRootPart")) then
			return
		end
		
		local humanoid = targetCharacter:FindFirstChild("Humanoid")
		local healthBeforeHit = humanoid.Health
		local targetPlayer = players:GetPlayerFromCharacter(targetCharacter)
		
		if targetPlayer and humanoid.Health > 0 then
						if library.hitpack.hit_effect and hitPosition then
				CreateEffect(hitPosition)
			end
			
						task.wait(0.05)
			
			local healthAfterHit = humanoid.Health
			local damageDealt = math.floor(healthBeforeHit - healthAfterHit)
			
						if damageDealt < 1 and healthAfterHit > 0 then
				damageDealt = math.random(25, 35)
			end
			
			if library.hitpack.hit_detection and damageDealt > 0 then
								if library.hitpack.hit_notifications_enabled then
					if library.hitpack.hit_notification_type == "Console Output" then
						print('[Hitpack] Hit ' .. targetPlayer.Name .. ' | Part: ' .. (partHit or "Unknown") .. ' | Damage: ' .. damageDealt)
					elseif library.hitpack.hit_notification_type == "GUI Notification" then
						library:notification({
							text = 'Hit ' .. targetPlayer.Name .. ' for ' .. damageDealt .. ' damage',
							time = 2
						})
					elseif library.hitpack.hit_notification_type == "Screen Text" then
						showScreenNotification('Hit ' .. targetPlayer.Name .. ' | ' .. (partHit or "Unknown") .. ' | -' .. damageDealt .. ' HP')
					end
				end
				
				if library.hitpack.hit_sounds then
					playHitSound()
				end
				
				if library.hitpack.hit_indicator then
					createHitIndicator(targetCharacter, damageDealt)
				end
			end
		end
	end

		if workspace:FindFirstChild("Ignored") and workspace.Ignored:FindFirstChild("Siren") and workspace.Ignored.Siren:FindFirstChild("Radius") then
		workspace.Ignored.Siren.Radius.DescendantAdded:Connect(function(Object)
			if Object.Name == "BULLET_RAYS" then
								if not Object:GetAttribute("OwnerCharacter") or Object:GetAttribute("OwnerCharacter") ~= hitpack_character.Name then
					return
				end
				
				delay(0.05, function()
					local pozisyon = Object.CFrame.Position
					local bakmavector = Object.CFrame.LookVector
					
					local raycastParams = RaycastParams.new()
					local filterInstances = {hitpack_character}
					if workspace:FindFirstChild("Ignored") then
						table.insert(filterInstances, workspace.Ignored)
					end
					raycastParams.FilterDescendantsInstances = filterInstances
					raycastParams.FilterType = Enum.RaycastFilterType.Exclude
					raycastParams.IgnoreWater = true
					
					local ray = workspace:Raycast(pozisyon, bakmavector * 1000, raycastParams)
				
				if not ray then
					return
				end
				
				local vurmapos = ray.Position
				local vurulaninstance = ray.Instance
				
								if vurulaninstance and vurulaninstance.Parent then
					local instanceHit = vurulaninstance:FindFirstAncestorOfClass("Model")
					if instanceHit then
						spawn(function()
							ProcessHitEffects(instanceHit, vurmapos, pozisyon, vurulaninstance.Name)
						end)
					end
				end
			end)
		end
	end)
	end

			
	
		library.avatar_changer = {
		enabled = false,
		user_id = 244844600, 	}

	local avatar_ids = {
		["Nex5us"] = 244844600,
		["dtbbullet"] = 2395613299,
		["asdfxdheh"] = 2611320910,
		["u5eful"] = 2238867037,
		["leaf10p"] = 548146549,
		["luaClass"] = 3525918505,
		["HellaBitcoin"] = 3924051431,
		["kenami"] = 5649499,
	}

	local function apply_avatar()
		if not library.avatar_changer.enabled then return end
		
		local character = lp.Character
		if not character then return end
		
		local humanoid = character:FindFirstChild("Humanoid")
		if not humanoid then return end
		
				for _, item in pairs(character:GetChildren()) do
			if item:IsA("Shirt") or item:IsA("Pants") or item:IsA("Accessory") then
				item:Destroy()
			end
		end
		
				local success, description = pcall(players.GetHumanoidDescriptionFromUserId, players, library.avatar_changer.user_id)
		if success and humanoid then
			humanoid:ApplyDescriptionClientServer(description)
		end
	end

		lp.CharacterAdded:Connect(function()
		if library.avatar_changer.enabled then
			task.wait(0.5)
			apply_avatar()
		end
		if library.animation_player.enabled then
			task.wait(0.5)
			loadAnimationTrack(lp.Character)
		end
	end)
	
		library.animation_player = {
		enabled = false,
		animation_id = "rbxassetid://14352343065",
		speed = 1,
	}

	local animation_ids = {
		["Baby Queen - Bouncy Twirl"] = "rbxassetid://14352343065",
		["Floss"] = "rbxassetid://10714340543",
		["Yungblud Happier Jump"] = "rbxassetid://15609995579",
		["Godlike"] = "rbxassetid://10714347256",
		["Mae Stephens - Piano Hands"] = "rbxassetid://16553163212",
		["Victory Dance"] = "rbxassetid://15505456446",
		["Elton John - Heart Skip"] = "rbxassetid://11309255148",
		["Sturdy Dance - Ice Spice"] = "rbxassetid://17746180844",
		["Old Town Road Dance - Lil Nas X (LNX)"] = "rbxassetid://10714391240",
	}

	local animation_instance = Instance.new("Animation")
	animation_instance.AnimationId = library.animation_player.animation_id

	local animationTrack = nil
	local isPlaying = false

	local function loadAnimationTrack(character)
		if not character then return end
		
		local humanoid = character:WaitForChild("Humanoid")
		if animationTrack then
			animationTrack:Stop()
		end
		
		animation_instance.AnimationId = library.animation_player.animation_id
		animationTrack = humanoid:LoadAnimation(animation_instance)
		animationTrack.Looped = true
		animationTrack.Priority = Enum.AnimationPriority.Action
		
		if library.animation_player.enabled then
			task.wait(0.6)
			animationTrack:Play()
			animationTrack:AdjustSpeed(library.animation_player.speed)
			isPlaying = true
		end
	end

	lp.CharacterAdded:Connect(function(character)
		if library.animation_player.enabled then
			task.wait(0.5)
			loadAnimationTrack(character)
		end
	end)

	if lp.Character then
		loadAnimationTrack(lp.Character)
	end
	
			local function GetClosestPlayerForCamera()
		local ClosestDistance, ClosestPlayer = math.huge, nil
		local MousePosition = uis:GetMouseLocation()

		for _, Player in next, players:GetPlayers() do
			if Player ~= lp and Player.Character then
				local Character = Player.Character
				local HumanoidRootPart = Character:FindFirstChild("HumanoidRootPart")
				local Humanoid = Character:FindFirstChild("Humanoid")

				if HumanoidRootPart and Humanoid and Humanoid.Health > 0 then
					local ScreenPosition, Visible = camera:WorldToScreenPoint(HumanoidRootPart.Position)
					if Visible then
						local Distance = (MousePosition - Vector2.new(ScreenPosition.X, ScreenPosition.Y)).Magnitude
						if Distance <= library.camera_lock.fov_radius and Distance < ClosestDistance then
							ClosestDistance = Distance
							ClosestPlayer = Player
						end
					end
				end
			end
		end

		return ClosestPlayer
	end

			
	local last_admin_check = 0
	local marketplace = game:GetService("MarketplaceService")
	local group_service = game:GetService("GroupService")

		local function check_if_admin(player)
		task.spawn(function()
			repeat
				task.wait()
			until players:FindFirstChild(player.Name) and (tick() - last_admin_check) > 2
			last_admin_check = tick()
			
			if marketplace:GetProductInfo(game.PlaceId).Creator.CreatorType == "Group" then
				local get_id = group_service:GetGroupInfoAsync(marketplace:GetProductInfo(game.PlaceId).Creator.CreatorTargetId).Id
				local group_id = tonumber(get_id)
				local is_in_group = player:IsInGroup(group_id)
				local group_rank = player:GetRankInGroup(group_id)
				local group_role = player:GetRoleInGroup(group_id)
				local flagged = false

				if string.find(player.DisplayName, "") or string.find(player.DisplayName, "") then
					print("Admin detected (Display Name): " .. player.DisplayName)
					flagged = true
				end

				if is_in_group and group_role ~= "Member" then
					print("Admin detected (Group Role): " .. group_role)
					flagged = true
				end
				
				if group_rank > 1 then
					print("Admin detected (Group Rank): " .. group_rank)
					flagged = true
				end
				
				if flagged then
					print(" ADMIN DETECTED: " .. player.Name)
				end
			end
		end)
	end

		local function apply_anti_rpg()
		if not library.protection.anti_rpg then return end
		if not lp.Character or not lp.Character:FindFirstChild("HumanoidRootPart") then return end
		if not ws:FindFirstChild("Ignored") then return end
		
		local player_position = lp.Character.HumanoidRootPart.Position
		
		for _, object in ipairs(ws.Ignored:GetChildren()) do
			local launcher
			
			if object:IsA("Model") and object:FindFirstChild("Launcher") then
				launcher = object:FindFirstChild("Launcher")
			elseif object:IsA("BasePart") and object.Name == "Handle" then
				launcher = object
			elseif object:IsA("Model") and object.Name == "GrenadeLauncherAmmo" then
				launcher = object:FindFirstChild("Main")
			end
			
			if launcher and launcher:IsA("BasePart") then
				if (launcher.Position - player_position).Magnitude <= 30 then
					local offset = Vector3.new(math.random(30, 50), 0, math.random(30, 50))
					lp.Character.HumanoidRootPart.CFrame = CFrame.new(player_position + offset)
				end
			end
		end
	end

		run.RenderStepped:Connect(function()
				apply_kill_aura()
		
				apply_rapid_fire()
		
				apply_anti_rpg()
	end)

		players.PlayerAdded:Connect(function(player)
		if library.protection.admin_detection then
			check_if_admin(player)
		end
	end)

			
	local ShopTable = {
		["[Rifle]"] = {ShopName = "[Rifle] - $1694"},
		["[Rifle Ammo]"] = {ShopName = "5 [Rifle Ammo] - $273"},
		["[LMG]"] = {ShopName = "[LMG] - $4098"},
		["[LMG Ammo]"] = {ShopName = "200 [LMG Ammo] - $328"},
		["[AK47]"] = {ShopName = "[AK47] - $2459"},
		["[AK47 Ammo]"] = {ShopName = "90 [AK47 Ammo] - $87"},
		["[AUG]"] = {ShopName = "[AUG] - $2131"},
		["[AUG Ammo]"] = {ShopName = "90 [AUG Ammo] - $87"},
		["[AR]"] = {ShopName = "[AR] - $1093"},
		["[AR Ammo]"] = {ShopName = "60 [AR Ammo] - $82"},
		["[Double-Barrel SG]"] = {ShopName = "[Double-Barrel SG] - $1475"},
		["[Double-Barrel SG Ammo]"] = {ShopName = "18 [Double-Barrel SG Ammo] - $55"},
		["[Drum-Shotgun]"] = {ShopName = "[Drum-Shotgun] - $1202"},
		["[Drum-Shotgun Ammo]"] = {ShopName = "18 [Drum-Shotgun Ammo] - $71"},
		["[DrumGun]"] = {ShopName = "[DrumGun] - $3278"},
		["[DrumGun Ammo]"] = {ShopName = "100 [DrumGun Ammo] - $219"},
		["[Fire Armor]"] = {ShopName = "[Fire Armor] - $2623"},
		["[Glock]"] = {ShopName = "[Glock] - $546"},
		["[Glock Ammo]"] = {ShopName = "25 [Glock Ammo] - $66"},
		["[P90]"] = {ShopName = "[P90] - $1093"},
		["[P90 Ammo]"] = {ShopName = "120 [P90 Ammo] - $66"},
		["[RPG]"] = {ShopName = "[RPG] - $21855"},
		["[RPG Ammo]"] = {ShopName = "5 [RPG Ammo] - $1093"},
		["[Revolver]"] = {ShopName = "[Revolver] - $1421"},
		["[Revolver Ammo]"] = {ShopName = "12 [Revolver Ammo] - $82"},
		["[Silencer]"] = {ShopName = "[Silencer] - $601"},
		["[Silencer Ammo]"] = {ShopName = "25 [Silencer Ammo] - $55"},
		["[SilencerAR]"] = {ShopName = "[SilencerAR] - $1366"},
		["[SilencerAR Ammo]"] = {ShopName = "120 [SilencerAR Ammo] - $82"},
		["[Shotgun]"] = {ShopName = "[Shotgun] - $1366"},
		["[Shotgun Ammo]"] = {ShopName = "20 [Shotgun Ammo] - $66"},
		["[SMG]"] = {ShopName = "[SMG] - $820"},
		["[SMG Ammo]"] = {ShopName = "80 [SMG Ammo] - $66"},
		["[TacticalShotgun]"] = {ShopName = "[TacticalShotgun] - $1912"},
		["[TacticalShotgun Ammo]"] = {ShopName = "20 [TacticalShotgun Ammo] - $66"},
		["[Taser]"] = {ShopName = "[Taser] - $1093"},
		["[Grenade]"] = {ShopName = "[Grenade] - $765"},
	}

	local SavedPosition

	local function apply_autobuy()
		if not lp.Character or not lp.Character:FindFirstChild("HumanoidRootPart") then return end
		if not ws:FindFirstChild("Ignored") or not ws.Ignored:FindFirstChild("Shop") then return end
		
				if library.autobuy.buying_single then
			if library.autobuy.selected_gun and ShopTable[library.autobuy.selected_gun] then
				if not lp.Character:FindFirstChild(library.autobuy.selected_gun) and not lp.Backpack:FindFirstChild(library.autobuy.selected_gun) then
					local ShopItem = ws.Ignored.Shop:FindFirstChild(ShopTable[library.autobuy.selected_gun].ShopName)
					if ShopItem and ShopItem:FindFirstChild("Head") then
						SavedPosition = lp.Character.HumanoidRootPart.CFrame
						lp.Character.HumanoidRootPart.CFrame = ShopItem.Head.CFrame
						fireclickdetector(ShopItem:FindFirstChildOfClass("ClickDetector"))
						game:GetService("RunService"):BindToRenderStep("RestoreCFrame", 199, function()
							lp.Character.HumanoidRootPart.CFrame = SavedPosition
							game:GetService("RunService"):UnbindFromRenderStep("RestoreCFrame")
						end)
					end
				else
					library.autobuy.buying_single = false
				end
			else
				library.autobuy.buying_single = false
			end
		end
		
				if library.autobuy.buy_ammo and library.autobuy.selected_gun then
						local AmmoName = "[" .. library.autobuy.selected_gun:sub(2, -2) .. " Ammo]"
			if ShopTable[AmmoName] then
				local AmmoShop = ws.Ignored.Shop:FindFirstChild(ShopTable[AmmoName].ShopName)
				if AmmoShop and AmmoShop:FindFirstChild("Head") then
										if lp.Character:FindFirstChild(library.autobuy.selected_gun) then
						lp.Character:FindFirstChild(library.autobuy.selected_gun).Parent = lp.Backpack
					end
					SavedPosition = lp.Character.HumanoidRootPart.CFrame
					lp.Character.HumanoidRootPart.CFrame = AmmoShop.Head.CFrame
					fireclickdetector(AmmoShop:FindFirstChildOfClass("ClickDetector"))
					game:GetService("RunService"):BindToRenderStep("RestoreCFrame", 199, function()
						lp.Character.HumanoidRootPart.CFrame = SavedPosition
						game:GetService("RunService"):UnbindFromRenderStep("RestoreCFrame")
					end)
				end
			end
		end
		
				if library.autobuy.auto_loadout and library.autobuy.selected_gun and ShopTable[library.autobuy.selected_gun] then
			if not lp.Character:FindFirstChild(library.autobuy.selected_gun) and not lp.Backpack:FindFirstChild(library.autobuy.selected_gun) then
				local ShopItem = ws.Ignored.Shop:FindFirstChild(ShopTable[library.autobuy.selected_gun].ShopName)
				if ShopItem and ShopItem:FindFirstChild("Head") then
					SavedPosition = lp.Character.HumanoidRootPart.CFrame
					lp.Character.HumanoidRootPart.CFrame = ShopItem.Head.CFrame
					fireclickdetector(ShopItem:FindFirstChildOfClass("ClickDetector"))
					game:GetService("RunService"):BindToRenderStep("RestoreCFrame", 199, function()
						lp.Character.HumanoidRootPart.CFrame = SavedPosition
						game:GetService("RunService"):UnbindFromRenderStep("RestoreCFrame")
					end)
				end
			end
		end
		
				if library.autobuy.auto_armor then
			if lp.Character and lp.Character:FindFirstChild("BodyEffects") and lp.Character.BodyEffects:FindFirstChild("Armor") then
				if lp.Character.BodyEffects.Armor.Value < 100 then
					local ArmorShop = ws.Ignored.Shop:FindFirstChild('[High-Medium Armor] - $2513')
					if ArmorShop and ArmorShop:FindFirstChild("Head") then
						SavedPosition = lp.Character.HumanoidRootPart.CFrame
						lp.Character.HumanoidRootPart.CFrame = ArmorShop.Head.CFrame
						fireclickdetector(ArmorShop:FindFirstChildOfClass("ClickDetector"))
						game:GetService("RunService"):BindToRenderStep("RestoreCFrame", 199, function()
							lp.Character.HumanoidRootPart.CFrame = SavedPosition
							game:GetService("RunService"):UnbindFromRenderStep("RestoreCFrame")
						end)
					end
				end
			end
		end
	end

			
		run.Heartbeat:Connect(function(dt)
		apply_esp_rendering()
		apply_flight()
		apply_cframe_speed(dt)
		apply_desync()
		apply_break_move_direction()
		apply_fakepos()
		apply_anti_fling()
		apply_spinbot()
		apply_autobuy()
	end)

	
			function library.to_screen_point(position)
		return camera:WorldToViewportPoint(position)
	end

	function library:unload()
		library.gui:Destroy()

		for _, connection in library.connections do
			connection:Disconnect()
		end

		for _, item in library.instances do
			item:Destroy()
		end

		getgenv().library = nil
	end

	function library:convert_string_rgb(str)
		local values = {}

		for value in string.gmatch(str, "[^,]+") do
			table.insert(values, tonumber(value))
		end

		if #values == 4 then
			local r, g, b, a = values[1], values[2], values[3], values[4]

			return r, g, b, a
		else
			library:notification({ text = "Input a correct RGBA value (in the format 255, 255, 255, 0.5)" })
		end
	end

	function library:connection(signal, callback)
		local connection = signal:Connect(callback)

		table.insert(library.connections, connection)

		return connection
	end

	function library:make_resizable(frame)
		local Frame = Instance.new("TextButton")
		Frame.Position = dim2(1, -10, 1, -10)
		Frame.BorderColor3 = rgb(0, 0, 0)
		Frame.Size = dim2(0, 10, 0, 10)
		Frame.BorderSizePixel = 0
		Frame.BackgroundColor3 = rgb(255, 255, 255)
		Frame.Parent = frame
		Frame.BackgroundTransparency = 1
		Frame.Text = ""

		local resizing = false
		local start_size
		local start
		local og_size = frame.Size

		Frame.InputBegan:Connect(function(input)
			if input.UserInputType == Enum.UserInputType.MouseButton1 then
				resizing = true
				start = input.Position
				start_size = frame.Size
			end
		end)

		Frame.InputEnded:Connect(function(input)
			if input.UserInputType == Enum.UserInputType.MouseButton1 then
				resizing = false
			end
		end)

		library:connection(uis.InputChanged, function(input, game_event)
			if resizing and input.UserInputType == Enum.UserInputType.MouseMovement then
				local mouse_pos = vec2(mouse.X, mouse.Y)
				local viewport_x = camera.ViewportSize.X
				local viewport_y = camera.ViewportSize.Y

				current_size = dim2(
					start_size.X.Scale,
					math.clamp(start_size.X.Offset + (input.Position.X - start.X), og_size.X.Offset, viewport_x),
					start_size.Y.Scale,
					math.clamp(start_size.Y.Offset + (input.Position.Y - start.Y), og_size.Y.Offset, viewport_y)
				)
				frame.Size = current_size
			end
		end)
	end

	function library:new_item(class, properties)
		local ins = Instance.new(class)

		for _, v in next, properties do
			ins[_] = v
		end

		table.insert(library.instances, ins)

		return ins
	end

	function library:animation(text)
		local pattern = {}
		for i = 1, tonumber(text:len()) do
			table.insert(pattern, string.sub(text, 1, i))
		end
		for i = tonumber(text:len()) - 1, 0, -1 do
			table.insert(pattern, string.sub(text, 1, i))
		end
		return pattern
	end

	function library:convert_enum(enum)
		local enum_parts = {}

		for part in string.gmatch(enum, "[%w_]+") do
			table.insert(enum_parts, part)
		end

		local enum_table = Enum
		for i = 2, #enum_parts do
			local enum_item = enum_table[enum_parts[i]]

			enum_table = enum_item
		end

		return enum_table
	end

	function library:config_list_update()
		if not library.config_holder then
			return
		end

		local list = {}

		for idx, file in next, listfiles(library.directory .. "/configs") do
			local name = file.split(file, "/configs/")[2]
			name = name.split(name, ".cfg")[1]
			list[#list + 1] = name
		end

		library.config_holder:refresh_options(list)
	end

	function library:get_config()
		local Config = {}

		for _, v in flags do
			if type(v) == "table" and v.key then
				Config[_] = { active = v.active, mode = v.mode, key = tostring(v.key) }
			elseif type(v) == "table" and v["Transparency"] and v["Color"] then
				Config[_] = { Transparency = v["Transparency"], Color = v["Color"]:ToHex() }
			else
				Config[_] = v
			end
		end

		return http_service:JSONEncode(Config)
	end

	function library:save_config(config_name)
		local config_data = library:get_config()
		local file_path = library.directory .. "/configs/" .. config_name .. ".cfg"
		
		writefile(file_path, config_data)
	end

	function library:load_config(config_name)
		local file_path = library.directory .. "/configs/" .. config_name .. ".cfg"
		
		if not isfile(file_path) then
			library:notification({
				text = "Config not found: " .. config_name,
			})
			return
		end
		
		local config_json = readfile(file_path)
		local config = http_service:JSONDecode(config_json)

		for _, v in next, config do
			local function_set = library.config_flags[_]

			if function_set then
				if type(v) == "table" and v["Transparency"] and v["Color"] then
					function_set(hex(v["Color"]), v["Transparency"])
				elseif type(v) == "table" and v["active"] then
					function_set(v)
				else
					function_set(v)
				end
			end
		end
	end

	function library:round(number, float)
		local multiplier = 1 / (float or 1)
		return math.floor(number * multiplier + 0.5) / multiplier
	end

	function library:apply_theme(instance, theme, property)
		table.insert(themes.utility[theme][property], instance)
	end

	function library:update_theme(theme, color)
		for _, property in next, themes.utility[theme] do
			for m, object in next, property do
				if object[_] == themes.preset[theme] or object.ClassName == "UIGradient" then
					object[_] = color
				end
			end
		end

		themes.preset[theme] = color
	end

	function library:connection(signal, callback)
		local connection = signal:Connect(callback)

		table.insert(library.connections, connection)

		return connection
	end

	function library:create(instance, options)
		local ins = Instance.new(instance)

		for prop, value in next, options do
			ins[prop] = value
		end

		return ins
	end
	
	library.gui = library:create("ScreenGui", {
		Enabled = true,
		Parent = coregui,
		Name = "",
		DisplayOrder = 2,
		ZIndexBehavior = 1,
	})

		function library:window(properties)
		local cfg = {
			name = properties.Name or properties.name or properties.Title or properties.title or "sp4m.wtf",
			size = properties.Size or properties.size or dim2(0, 500, 0, 650),
		}

		local animated_text = library:animation(cfg.name .. " | private")

				local __holder = library:create("Frame", {
			Parent = library.gui,
			Name = "",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 20, 0, 20),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			ZIndex = 2,
			AutomaticSize = Enum.AutomaticSize.X,
			BackgroundColor3 = Color3.fromRGB(40, 40, 40),
		})

		local inline1 = library:create("Frame", {
			Parent = __holder,
			Name = "",
			Active = true,
			Draggable = true,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(0, ((#animated_text / 2) * 5) + 13, 0, 40),
			BackgroundColor3 = Color3.fromRGB(40, 40, 40),
		})

		local accent_line = library:create("Frame", {
			Parent = inline1,
			Name = "",
			BorderColor3 = Color3.fromRGB(34, 34, 34),
			Size = UDim2.new(1, 0, 0, 2),
			BorderSizePixel = 0,
			BackgroundColor3 = themes.preset.accent,
		})

		library:apply_theme(accent_line, "accent", "BackgroundColor3")

		local depth = library:create("Frame", {
			Parent = inline1,
			Name = "",
			BackgroundTransparency = 0.5,
			Position = UDim2.new(0, 0, 0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, 0, 0, 1),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 0, 0),
		})

		local inline2 = library:create("Frame", {
			Parent = inline1,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -4, 1, -4),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(26, 26, 26),
		})

		local main = library:create("Frame", {
			Parent = inline2,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(57, 57, 57),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(26, 26, 26),
		})

		local tab_inline = library:create("Frame", {
			Parent = main,
			Name = "",
			Position = UDim2.new(0, 6, 0, 6),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, -12, 1, -12),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(19, 19, 19),
		})

		local tabs = library:create("Frame", {
			Parent = tab_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		local name = library:create("TextLabel", {
			Parent = tabs,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = "ledger.live",
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(0, 0, 1, 0),
			Position = UDim2.new(0, 8, 0, 0),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			BorderSizePixel = 0,
			AutomaticSize = Enum.AutomaticSize.X,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local TEXT_ANIMATION_GRADIENT = library:create("UIGradient", {
			Parent = name,
			Name = "",
			Color = ColorSequence.new({
				ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
				ColorSequenceKeypoint.new(0.01, themes.preset.accent),
				ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
			}),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = tabs,
			Name = "",
			PaddingRight = UDim.new(0, 21),
		})

		local glow = library:create("ImageLabel", {
			Parent = accent_line,
			Name = "",
			ImageColor3 = themes.preset.accent,
			ScaleType = Enum.ScaleType.Slice,
			ImageTransparency = 0.8999999761581421,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			Image = "http://www.roblox.com/asset/?id=18245826428",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -20, 0, -20),
			Size = UDim2.new(1, 40, 0, 42),
			ZIndex = 2,
			BorderSizePixel = 0,
			SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79)),
		})

		library:apply_theme(glow, "accent", "ImageColor3")

		task.spawn(function()
			while true do
				if __holder.Visible then
					for i = 1, #animated_text do
						task.wait(0.2)
						name.Text = animated_text[i]
					end
				end
				task.wait(0.2)
			end
		end)
		
				local inline1 = library:create("Frame", {
			Parent = library.gui,
			Name = "",
			Active = true,
			Draggable = true,
			Position = UDim2.new(0.5, -cfg.size.X.Offset / 2, 0.5, -cfg.size.Y.Offset / 2),
			BorderColor3 = Color3.fromRGB(8, 8, 8),
			ZIndex = 2,
			Size = cfg.size,
			BackgroundColor3 = Color3.fromRGB(40, 40, 40),
		})
		table.insert(library.main_frame, inline1)
		local WINDOW_PATH = inline1
		library:make_resizable(inline1)

		local inline2 = library:create("Frame", {
			Parent = inline1,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -4, 1, -4),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(26, 26, 26),
		})

		local main = library:create("Frame", {
			Parent = inline2,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(57, 57, 57),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(26, 26, 26),
		})

		local tab_buttons = library:create("Frame", {
			Parent = main,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 16, 0, 4),
			Size = UDim2.new(1, -32, 0, 0),
			ZIndex = 2,
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		cfg["tab_holder"] = tab_buttons

		local list = library:create("UIListLayout", {
			Parent = tab_buttons,
			Name = "",
			FillDirection = Enum.FillDirection.Horizontal,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			HorizontalFlex = Enum.UIFlexAlignment.Fill,
			Padding = UDim.new(0, 6),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})

		local tab_inline = library:create("Frame", {
			Parent = main,
			Name = "",
			Position = UDim2.new(0, 15, 0, 33),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, -30, 1, -48),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(19, 19, 19),
		})

		local tabs = library:create("Frame", {
			Parent = tab_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		cfg["tab_instance_holder"] = tabs

		local accent_line = library:create("Frame", {
			Parent = inline1,
			Name = "",
			BorderColor3 = Color3.fromRGB(34, 34, 34),
			Size = UDim2.new(1, 0, 0, 2),
			BorderSizePixel = 0,
			BackgroundColor3 = themes.preset.accent,
		})

		library:apply_theme(accent_line, "accent", "BackgroundColor3")

		local name = library:create("TextLabel", {
			Parent = inline1,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = cfg.name,
			TextStrokeTransparency = 0.5,
			BorderSizePixel = 0,
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 0, 0, -1),
			Size = UDim2.new(1, 0, 0, 1),
			ZIndex = 2,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local glow = library:create("ImageLabel", {
			Parent = inline1,
			Name = "",
			ImageColor3 = themes.preset.accent,
			ScaleType = Enum.ScaleType.Slice,
			ImageTransparency = 0.8999999761581421,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			Image = "http://www.roblox.com/asset/?id=18245826428",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -20, 0, -20),
			Size = UDim2.new(1, 40, 0, 42),
			ZIndex = 2,
			BorderSizePixel = 0,
			SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79)),
		})
		library:apply_theme(glow, "accent", "ImageColor3")

		local depth = library:create("Frame", {
			Parent = inline1,
			Name = "",
			BackgroundTransparency = 0.5,
			Position = UDim2.new(0, 0, 0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, 0, 0, 1),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 0, 0),
		})

		local holder = library:create("Frame", {
			Parent = inline1,
			Name = "",
			BackgroundTransparency = 1,
			Position = UDim2.new(1, 20, 0, 0),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			ZIndex = 2,
			AutomaticSize = Enum.AutomaticSize.XY,
			BackgroundColor3 = Color3.fromRGB(40, 40, 40),
		})

		task.spawn(function()
			while true do
				if flags["color_picker_anim_speed"] then
					library.sin = math.abs(math.sin(tick() * flags["color_picker_anim_speed"]))

					TEXT_ANIMATION_GRADIENT.Color = ColorSequence.new({
						ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
						ColorSequenceKeypoint.new(math.abs(math.sin(tick())), themes.preset.accent),
						ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
					})
				end
				task.wait()
			end
		end)
		
				local esp_preview = library:create("Frame", {
			Parent = library.gui,
			Name = "",
			Visible = false,
			Active = true,
			Draggable = true,
			Position = UDim2.new(
				0,
				inline1.AbsolutePosition.X + inline1.AbsoluteSize.X + 8,
				0,
				inline1.AbsolutePosition.Y + 1
			),
			BorderColor3 = Color3.fromRGB(8, 8, 8),
			Size = UDim2.new(0, 328, 0, 376),
			BackgroundColor3 = Color3.fromRGB(56, 56, 56),
		})
		library:make_resizable(esp_preview)

		local name = library:create("TextLabel", {
			Parent = esp_preview,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = "esp preview",
			TextStrokeTransparency = 0.5,
			BorderSizePixel = 0,
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 0, 0, -1),
			Size = UDim2.new(1, 0, 0, 1),
			ZIndex = 2,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = name,
			Name = "",
		})

		local main = library:create("Frame", {
			Parent = esp_preview,
			Name = "",
			Position = UDim2.new(0, 4, 0, 4),
			BorderColor3 = Color3.fromRGB(26, 26, 26),
			Size = UDim2.new(1, -8, 1, -8),
			BorderSizePixel = 2,
			BackgroundColor3 = Color3.fromRGB(26, 26, 26),
		})

		library:create("UIStroke", {
			Parent = main,
			Name = "",
			Color = Color3.fromRGB(57, 57, 57),
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local tabs = library:create("Frame", {
			Parent = main,
			Name = "",
			Position = UDim2.new(0, 8, 0, 8),
			BorderColor3 = Color3.fromRGB(8, 8, 8),
			Size = UDim2.new(1, -16, 1, -16),
			BorderSizePixel = 2,
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		library:create("UIStroke", {
			Parent = tabs,
			Name = "",
			Color = Color3.fromRGB(57, 57, 57),
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local hitpart = library:create("Frame", {
			Parent = tabs,
			Name = "",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 2, 0, 20),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		local head = library:create("Frame", {
			Parent = hitpart,
			Name = "",
			Position = UDim2.new(0.5, -25, 0, 16),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(0, 50, 0, 44),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local torso = library:create("Frame", {
			Parent = hitpart,
			Name = "",
			Position = UDim2.new(0.5, -42, 0, 64),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(0, 84, 0, 90),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local l_arm = library:create("Frame", {
			Parent = hitpart,
			Name = "",
			Position = UDim2.new(0.5, -86, 0, 64),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(0, 40, 0, 90),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local r_arm = library:create("Frame", {
			Parent = hitpart,
			Name = "",
			Position = UDim2.new(0.5, 46, 0, 64),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(0, 40, 0, 90),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local r_leg = library:create("Frame", {
			Parent = hitpart,
			Name = "",
			Position = UDim2.new(0.5, 2, 0, 158),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(0, 40, 0, 90),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local l_leg = library:create("Frame", {
			Parent = hitpart,
			Name = "",
			Position = UDim2.new(0.5, -42, 0, 158),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(0, 40, 0, 90),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local hrp = library:create("Frame", {
			Parent = hrp_out,
			Name = "",
			Position = UDim2.new(0, 4, 0, 4),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -8, 1, -8),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local glow_patterns = {}

		for _, v in next, hitpart:GetChildren() do
			local glow = library:create("ImageLabel", {
				Parent = v,
				Name = "",
				Visible = false,
				ImageColor3 = themes.preset.accent,
				ScaleType = Enum.ScaleType.Slice,
				ImageTransparency = 0.8999999761581421,
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
				Image = "http://www.roblox.com/asset/?id=18245826428",
				BackgroundTransparency = 1,
				Position = UDim2.new(0, -20, 0, -20),
				Size = UDim2.new(1, 40, 1, 40),
				ZIndex = 2,
				BorderSizePixel = 0,
				SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79)),
			})

			library:apply_theme(glow, "accent", "ImageColor3")

			table.insert(glow_patterns, glow)
		end

		function cfg.preview_chams(bool)
			for _, glow in next, glow_patterns do
				glow.Visible = bool
			end

			for _, part in next, hitpart:GetChildren() do
				part.BackgroundColor3 = bool and themes.preset.accent or Color3.fromRGB(38, 38, 38)
			end
		end

		local player = library:create("Frame", {
			Parent = tabs,
			Name = "",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 43, 0, 28),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -86, 1, -106),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local line_holder = library:create("Frame", {
			Parent = player,
			Name = "",
			Size = UDim2.new(1, 0, 1, 0),
			ZIndex = 50,
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local box_outline = library:create("Frame", {
			Parent = line_holder,
			Name = "",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -1, 0, -1),
			ZIndex = 50,
			Size = UDim2.new(1, 2, 1, 2),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local BoxLine2 = library:create("UIStroke", {
			Parent = box_outline,
			Name = "",
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local box_color = library:create("UIStroke", {
			Parent = line_holder,
			Name = "",
			Color = Color3.fromRGB(255, 255, 255),
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local corner_box = library:create("Frame", {
			Parent = line_holder,
			Name = "",
			Visible = false,
			BackgroundTransparency = 1,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, 0, 1, 0),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local top_left = library:create("Frame", {
			Parent = corner_box,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			ZIndex = 50,
			Size = UDim2.new(0, 1, 0.30000001192092896, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local top_right = library:create("Frame", {
			Parent = corner_box,
			Name = "",
			AnchorPoint = Vector2.new(1, 0),
			Position = UDim2.new(1, -1, 0, 0),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			ZIndex = 50,
			Size = UDim2.new(0, 1, 0.30000001192092896, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local bottom_left = library:create("Frame", {
			Parent = corner_box,
			Name = "",
			AnchorPoint = Vector2.new(0, 1),
			Position = UDim2.new(0, 0, 1, 0),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			ZIndex = 50,
			Size = UDim2.new(0.4000000059604645, 0, 0, 1),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local bottom_right = library:create("Frame", {
			Parent = corner_box,
			Name = "",
			AnchorPoint = Vector2.new(1, 1),
			Position = UDim2.new(1, -1, 1, 0),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			ZIndex = 50,
			Size = UDim2.new(0.4000000059604645, 0, 0, 1),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local bottom_left2 = library:create("Frame", {
			Parent = corner_box,
			Name = "",
			AnchorPoint = Vector2.new(0, 1),
			Position = UDim2.new(0, 0, 1, 0),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			ZIndex = 50,
			Size = UDim2.new(0, 1, 0.30000001192092896, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local bottom_right2 = library:create("Frame", {
			Parent = corner_box,
			Name = "",
			AnchorPoint = Vector2.new(1, 1),
			Position = UDim2.new(1, 0, 1, 0),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			ZIndex = 50,
			Size = UDim2.new(0, 1, 0.30000001192092896, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local top_left2 = library:create("Frame", {
			Parent = corner_box,
			Name = "",
			AnchorPoint = Vector2.new(0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			ZIndex = 50,
			Size = UDim2.new(0.4000000059604645, 0, 0, 1),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local top_right2 = library:create("Frame", {
			Parent = corner_box,
			Name = "",
			AnchorPoint = Vector2.new(1, 1),
			Position = UDim2.new(1, -1, 0, 0),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			ZIndex = 50,
			Size = UDim2.new(0.4000000059604645, 0, 0, 1),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		function cfg.preview_corner_boxes(bool)
			corner_box.Visible = bool == "Corner" and true or false
			BoxLine2.Enabled = bool == "Corner" and false or true
			box_outline.Visible = bool == "Corner" and false or true
			box_color.Enabled = bool == "Corner" and false or true
		end

		function cfg.preview_bounding_box(bool)
			BoxLine2.Enabled = bool
			box_outline.Visible = bool
			box_color.Enabled = bool
		end

		local bottom_holder = library:create("Frame", {
			Parent = line_holder,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -1, 1, 3),
			Size = UDim2.new(1, 2, 0, 0),
			BorderSizePixel = 0,
			AutomaticSize = Enum.AutomaticSize.Y,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local UIListLayout = library:create("UIListLayout", {
			Parent = bottom_holder,
			Name = "",
			Padding = UDim.new(0, 2),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})

		local UIPadding = library:create("UIPadding", {
			Parent = bottom_holder,
			Name = "",
			PaddingTop = UDim.new(0, 1),
		})

		local bar_holder = library:create("Frame", {
			Parent = bottom_holder,
			Name = "",
			BackgroundTransparency = 1,
			Size = UDim2.new(1, 0, 0, 4),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BorderSizePixel = 0,
			AutomaticSize = Enum.AutomaticSize.Y,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local reload_bar = library:create("Frame", {
			Parent = bar_holder,
			Name = "",
			Size = UDim2.new(1, 0, 0, 4),
			ZIndex = 50,
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 0, 0),
		})

		function cfg.preview_reload_bar(bool)
			bar_holder.Visible = bool
		end

		local reload_slider = library:create("Frame", {
			Parent = reload_bar,
			Name = "",
			Size = UDim2.new(0.5, -2, 0, 2),
			Position = UDim2.new(0, 1, 0, 1),
			ZIndex = 50,
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(28, 145, 255),
		})

		local gradient = library:create("UIGradient", {
			Parent = reload_slider,
			Name = "",
			Color = ColorSequence.new({
				ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 255, 238)),
				ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 255, 238)),
			}),
		})

		local UIStroke = library:create("UIStroke", {
			Parent = distance,
			Name = "",
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local weapon = library:create("TextLabel", {
			Parent = bottom_holder,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(255, 255, 255),
			Text = "double barrel",
			TextStrokeTransparency = 0,
			AnchorPoint = Vector2.new(0.5, 0.5),
			BackgroundTransparency = 1,
			Position = UDim2.new(0.5, 0, 0.031031031161546707, 0),
			AutomaticSize = Enum.AutomaticSize.Y,
			ZIndex = 50,
			TextSize = 12,
			Size = UDim2.new(1, 0, 0, 4),
		})

		function cfg.preview_weapon(bool)
			weapon.Visible = bool
		end

		local UIStroke = library:create("UIStroke", {
			Parent = weapon,
			Name = "",
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local UIStroke = library:create("UIStroke", {
			Parent = distance,
			Name = "",
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local image_holder = library:create("Frame", {
			Parent = bottom_holder,
			Name = "",
			BackgroundTransparency = 1,
			Size = UDim2.new(1, 0, 0, 0),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BorderSizePixel = 0,
			AutomaticSize = Enum.AutomaticSize.Y,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		function cfg.preview_icons(bool)
			image_holder.Visible = bool
		end

		local ImageLabel = library:create("ImageLabel", {
			Parent = image_holder,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			AnchorPoint = Vector2.new(0.5, 0),
			Image = "rbxassetid://130516018594923",
			BackgroundTransparency = 1,
			Position = UDim2.new(0.5, 0, 0, 0),
			Size = UDim2.new(0, 64, 0, 27),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local armor = library:create("Frame", {
			Parent = line_holder,
			Name = "",
			Position = UDim2.new(0, -14, 0, -2),
			Size = UDim2.new(0, 4, 1, 4),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 0, 0),
		})

		function cfg.preview_armor(bool)
			armor.Visible = bool
		end

		local armor_slider = library:create("Frame", {
			Parent = armor,
			Name = "",
			Position = UDim2.new(0, 1, 0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(0.5, 0, 1, -2),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 13, 255),
		})

		local armor_gradient = library:create("UIGradient", {
			Parent = armor_slider,
			Name = "",
			Rotation = 90,
			Color = ColorSequence.new({
				ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 242, 255)),
				ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 17, 255)),
			}),
			Enabled = false,
		})

		local armor_text = library:create("TextLabel", {
			Parent = armor_slider,
			Name = "",
			ZIndex = 99,
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(0, 13, 255),
			Text = "100",
			Position = UDim2.new(0, -2, 0.75, -2),
			TextStrokeTransparency = 0,
			AnchorPoint = Vector2.new(1, 0),
			BorderSizePixel = 0,
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Right,
			Active = true,
			TextYAlignment = Enum.TextYAlignment.Top,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(26, 255, 0),
		})

		library:create("UIStroke", {
			Parent = armor_text,
			Name = "",
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local health = library:create("Frame", {
			Parent = line_holder,
			Name = "",
			Position = UDim2.new(0, -8, 0, -2),
			Size = UDim2.new(0, 4, 1, 4),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 0, 0),
		})

		function cfg.preview_health(bool)
			health.Visible = bool
		end

		local health_slider = library:create("Frame", {
			Parent = health,
			Name = "",
			Position = UDim2.new(0, 1, 0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(0.5, 0, 1, -2),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 255, 42),
		})

		local health_text = library:create("TextLabel", {
			Parent = health_slider,
			Name = "",
			Visible = false,
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(0, 255, 0),
			Text = "100",
			ZIndex = 99,
			TextStrokeTransparency = 0,
			AnchorPoint = Vector2.new(0.5, 0.5),
			Position = UDim2.new(0, -4, 0.5, -2),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Right,
			Active = true,
			TextYAlignment = Enum.TextYAlignment.Top,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(26, 255, 0),
		})

		local UIStroke = library:create("UIStroke", {
			Parent = health_text,
			Name = "",
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local box_inline = library:create("Frame", {
			Parent = line_holder,
			Name = "",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 1, 0, 1),
			ZIndex = 50,
			Size = UDim2.new(1, -2, 1, -2),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local BoxLine3 = library:create("UIStroke", {
			Parent = box_inline,
			Name = "",
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local gradient = library:create("UIGradient", {
			Parent = line_holder,
			Name = "",
			Rotation = -180,
			Transparency = NumberSequence.new({
				NumberSequenceKeypoint.new(0, 0.5),
				NumberSequenceKeypoint.new(1, 0.5),
			}),
			Color = ColorSequence.new({
				ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
				ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
			}),
		})

		function cfg.preview_filler(bool)
			line_holder.BackgroundTransparency = bool and 0 or 1
			gradient.Enabled = bool
		end

		local top_holder = library:create("Frame", {
			Parent = line_holder,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			AnchorPoint = Vector2.new(0, 1),
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -2, 0, -4),
			Size = UDim2.new(1, 4, 0, 0),
			BorderSizePixel = 0,
			AutomaticSize = Enum.AutomaticSize.Y,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		library:create("UIListLayout", {
			Parent = top_holder,
			Name = "",
			Padding = UDim.new(0, 4),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})

		library:create("UIPadding", {
			Parent = top_holder,
			Name = "",
			PaddingTop = UDim.new(0, 1),
		})

		local player_name = library:create("TextLabel", {
			Parent = top_holder,
			Name = "",
			RichText = true,
			TextColor3 = Color3.fromRGB(255, 255, 255),
			Text = "hello there",
			FontFace = library.font,
			AnchorPoint = Vector2.new(0, 1),
			AutomaticSize = Enum.AutomaticSize.Y,
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 0, 0, -2),
			BorderSizePixel = 0,
			ZIndex = 50,
			TextSize = 12,
			Size = UDim2.new(1, 0, 0, 0),
		})

		function cfg.preview_names(bool)
			player_name.Visible = bool
		end

		local UIStroke = library:create("UIStroke", {
			Parent = player_name,
			Name = "",
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local accent_line = library:create("Frame", {
			Parent = esp_preview,
			Name = "",
			BorderColor3 = Color3.fromRGB(34, 34, 34),
			Size = UDim2.new(1, 0, 0, 2),
			BorderSizePixel = 0,
			BackgroundColor3 = themes.preset.accent,
		})

		library:apply_theme(accent_line, "accent", "BackgroundColor3")

		local depth = library:create("Frame", {
			Parent = esp_preview,
			Name = "",
			BackgroundTransparency = 0.5,
			Position = UDim2.new(0, 0, 0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, 0, 0, 1),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 0, 0),
		})

		local glow = library:create("ImageLabel", {
			Parent = esp_preview,
			Name = "",
			ImageColor3 = themes.preset.accent,
			ScaleType = Enum.ScaleType.Slice,
			ImageTransparency = 0.8999999761581421,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			Image = "http://www.roblox.com/asset/?id=18245826428",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -20, 0, -20),
			Size = UDim2.new(1, 40, 0, 42),
			ZIndex = 2,
			BorderSizePixel = 0,
			SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79)),
		})

		library:apply_theme(glow, "accent", "ImageColor3")
		
				local selected_button
		local selected_player
		local player_buttons = {}

		function library.get_priority(player)
			return player_buttons[player.Name].priority.Text
		end

		local playerlist = library:create("Frame", {
			Parent = library.gui,
			Name = "",
			Active = true,
			Draggable = true,
			AnchorPoint = Vector2.new(0, 0),
			Position = UDim2.new(0, inline1.AbsolutePosition.X - 358 - 8, 0, inline1.AbsolutePosition.Y + 1),
			BorderColor3 = Color3.fromRGB(8, 8, 8),
			Size = UDim2.new(0, 300, 0, 400),
			BackgroundColor3 = Color3.fromRGB(56, 56, 56),
		})
		library:make_resizable(playerlist)

		table.insert(library.main_frame, playerlist)

		local name = library:create("TextLabel", {
			Parent = playerlist,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = "playerlist",
			TextStrokeTransparency = 0.5,
			BorderSizePixel = 0,
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 0, 0, -1),
			Size = UDim2.new(1, 0, 0, 1),
			ZIndex = 2,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = name,
			Name = "",
		})

		local main = library:create("Frame", {
			Parent = playerlist,
			Name = "",
			Position = UDim2.new(0, 4, 0, 4),
			BorderColor3 = Color3.fromRGB(26, 26, 26),
			Size = UDim2.new(1, -8, 1, -8),
			BorderSizePixel = 2,
			BackgroundColor3 = Color3.fromRGB(26, 26, 26),
		})

		library:create("UIStroke", {
			Parent = main,
			Name = "",
			Color = Color3.fromRGB(57, 57, 57),
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local tabs = library:create("Frame", {
			Parent = main,
			Name = "",
			Position = UDim2.new(0, 8, 0, 8),
			BorderColor3 = Color3.fromRGB(8, 8, 8),
			Size = UDim2.new(1, -16, 1, -16),
			BorderSizePixel = 2,
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		library:create("UIStroke", {
			Parent = tabs,
			Name = "",
			Color = Color3.fromRGB(57, 57, 57),
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local list = library:create("Frame", {
			Parent = tabs,
			Name = "",
			Position = UDim2.new(0, 14, 0, 14),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -28, 0.75, -28),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local inline = library:create("Frame", {
			Parent = list,
			Name = "",
			Position = UDim2.new(0, 1, 0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -2, 1, -2),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(57, 57, 57),
		})

		local background = library:create("Frame", {
			Parent = inline,
			Name = "",
			Position = UDim2.new(0, 1, 0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -2, 1, -2),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		local UIGradient = library:create("UIGradient", {
			Parent = background,
			Name = "",
			Rotation = 90,
			Color = ColorSequence.new({
				ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
				ColorSequenceKeypoint.new(1, Color3.fromRGB(167, 167, 167)),
			}),
		})

		local contrast = library:create("Frame", {
			Parent = background,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, 0, 1, 0),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		local __ScrollingFrame = library:create("ScrollingFrame", {
			Parent = contrast,
			Name = "",
			ScrollBarImageColor3 = themes.preset.accent,
			MidImage = "rbxassetid://18406573371",
			Active = true,
			AutomaticCanvasSize = Enum.AutomaticSize.Y,
			ScrollBarThickness = 2,
			Size = UDim2.new(1, 0, 1, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			TopImage = "rbxassetid://18406573371",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundTransparency = 1.0099999904632568,
			BottomImage = "rbxassetid://18406573371",
			BorderSizePixel = 0,
			CanvasSize = UDim2.new(0, 0, 0, 0),
		})

		library:apply_theme(__ScrollingFrame, "accent", "ScrollBarImageColor3")

		local UIPadding = library:create("UIPadding", {
			Parent = __ScrollingFrame,
			Name = "",
			PaddingTop = UDim.new(0, 4),
			PaddingBottom = UDim.new(0, 4),
			PaddingRight = UDim.new(0, 4),
			PaddingLeft = UDim.new(0, 4),
		})

		local UIListLayout = library:create("UIListLayout", {
			Parent = __ScrollingFrame,
			Name = "",
			Padding = UDim.new(0, 4),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})

		local info = library:create("Frame", {
			Parent = tabs,
			Name = "",
			Position = UDim2.new(0, 14, 0.75, -5),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -28, 0.30000001192092896, -23),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local inline = library:create("Frame", {
			Parent = info,
			Name = "",
			Position = UDim2.new(0, 1, 0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -2, 1, -2),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(57, 57, 57),
		})

		local background = library:create("Frame", {
			Parent = inline,
			Name = "",
			Position = UDim2.new(0, 1, 0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -2, 1, -2),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		local UIGradient = library:create("UIGradient", {
			Parent = background,
			Name = "",
			Rotation = 90,
			Color = ColorSequence.new({
				ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
				ColorSequenceKeypoint.new(1, Color3.fromRGB(167, 167, 167)),
			}),
		})

		local contrast = library:create("Frame", {
			Parent = background,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, 0, 1, 0),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		local ScrollingFrame = library:create("ScrollingFrame", {
			Parent = contrast,
			Name = "",
			ScrollBarImageColor3 = Color3.fromRGB(0, 0, 0),
			Active = true,
			AutomaticCanvasSize = Enum.AutomaticSize.Y,
			ScrollBarThickness = 3,
			BackgroundTransparency = 1.0099999904632568,
			Size = UDim2.new(1, 0, 1, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BorderSizePixel = 0,
			CanvasSize = UDim2.new(0, 0, 0, 0),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = ScrollingFrame,
			Name = "",
			PaddingTop = UDim.new(0, 7),
			PaddingBottom = UDim.new(0, 4),
			PaddingRight = UDim.new(0, 4),
			PaddingLeft = UDim.new(0, 10),
		})

		local UIListLayout = library:create("UIListLayout", {
			Parent = ScrollingFrame,
			Name = "",
			Padding = UDim.new(0, 4),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})

		local display_name_label = library:create("TextLabel", {
			Parent = ScrollingFrame,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(180, 180, 180),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = "Display Name: ...",
			BorderSizePixel = 0,
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			TextTruncate = Enum.TextTruncate.AtEnd,
			AutomaticSize = Enum.AutomaticSize.XY,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		library:create("UIStroke", {
			Parent = display_name_label,
			Name = "",
		})

		local name_label = library:create("TextLabel", {
			Parent = ScrollingFrame,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(180, 180, 180),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = "Name: ...",
			BorderSizePixel = 0,
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			TextTruncate = Enum.TextTruncate.AtEnd,
			AutomaticSize = Enum.AutomaticSize.XY,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		library:create("UIStroke", {
			Parent = name_label,
			Name = "",
		})

	local priority_label = library:create("TextLabel", {
		Parent = ScrollingFrame,
		Name = "",
		FontFace = library.font,
		TextColor3 = Color3.fromRGB(180, 180, 180),
		BorderColor3 = Color3.fromRGB(0, 0, 0),
		Text = "Target Aim: Not Targeted",
		BorderSizePixel = 0,
		BackgroundTransparency = 1,
		TextXAlignment = Enum.TextXAlignment.Left,
		TextTruncate = Enum.TextTruncate.AtEnd,
		AutomaticSize = Enum.AutomaticSize.XY,
		TextSize = 12,
		BackgroundColor3 = Color3.fromRGB(255, 255, 255),
	})

	library:create("UIStroke", {
		Parent = priority_label,
		Name = "",
	})

	local Frame = library:create("Frame", {
		Parent = contrast,
		Name = "",
		AnchorPoint = Vector2.new(1, 0),
		BackgroundTransparency = 1,
		Position = UDim2.new(1, -10, 0, 0),
		BorderColor3 = Color3.fromRGB(0, 0, 0),
		Size = UDim2.new(1, -200, 1, 0),
		BorderSizePixel = 0,
		BackgroundColor3 = Color3.fromRGB(255, 255, 255),
	})

		local button_inline = library:create("Frame", {
		Parent = Frame,
		Name = "",
		Position = UDim2.new(0, -15, 0, 2),
		BorderColor3 = Color3.fromRGB(19, 19, 19),
		Size = UDim2.new(1, -26, 0, 16),
		BorderSizePixel = 0,
		BackgroundColor3 = Color3.fromRGB(8, 8, 8),
	})

	local button = library:create("TextButton", {
		Parent = button_inline,
		Name = "",
		FontFace = library.font,
		TextColor3 = Color3.fromRGB(170, 170, 170),
		BorderColor3 = Color3.fromRGB(56, 56, 56),
		Text = "Add Target",
		TextStrokeTransparency = 0.5,
		Position = UDim2.new(0, 2, 0, 2),
		Size = UDim2.new(1, -4, 1, -4),
		TextSize = 12,
		BackgroundColor3 = Color3.fromRGB(38, 38, 38),
	})

	button.MouseButton1Click:Connect(function()
		if selected_player then
						if not library.target_aim.targets then
				library.target_aim.targets = {}
			end
			library.target_aim.targets[selected_player.Name] = true
			player_buttons[selected_player.Name].priority.Text = "Target Aim: Targeted"
			player_buttons[selected_player.Name].priority.TextColor3 = rgb(100, 255, 100)
		end
	end)

		local button_inline = library:create("Frame", {
		Parent = Frame,
		Name = "",
		Position = UDim2.new(0, -15, 0, 2),
		BorderColor3 = Color3.fromRGB(19, 19, 19),
		Size = UDim2.new(1, -26, 0, 16),
		BorderSizePixel = 0,
		BackgroundColor3 = Color3.fromRGB(8, 8, 8),
	})

	local button = library:create("TextButton", {
		Parent = button_inline,
		Name = "",
		FontFace = library.font,
		TextColor3 = Color3.fromRGB(170, 170, 170),
		BorderColor3 = Color3.fromRGB(56, 56, 56),
		Text = "Remove Target",
		TextStrokeTransparency = 0.5,
		Position = UDim2.new(0, 2, 0, 2),
		Size = UDim2.new(1, -4, 1, -4),
		TextSize = 12,
		BackgroundColor3 = Color3.fromRGB(38, 38, 38),
	})

	button.MouseButton1Click:Connect(function()
		if selected_player and library.target_aim.targets then
			library.target_aim.targets[selected_player.Name] = nil
			player_buttons[selected_player.Name].priority.Text = "Target Aim: Not Targeted"
			player_buttons[selected_player.Name].priority.TextColor3 = rgb(180, 180, 180)
		end
	end)

	local UIListLayout = library:create("UIListLayout", {
		Parent = Frame,
			Name = "",
			VerticalAlignment = Enum.VerticalAlignment.Center,
			SortOrder = Enum.SortOrder.LayoutOrder,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			HorizontalFlex = Enum.UIFlexAlignment.Fill,
			Padding = UDim.new(0, 4),
		})

		local accent_line = library:create("Frame", {
			Parent = playerlist,
			Name = "",
			BorderColor3 = Color3.fromRGB(34, 34, 34),
			Size = UDim2.new(1, 0, 0, 2),
			BorderSizePixel = 0,
			BackgroundColor3 = themes.preset.accent,
		})

		library:apply_theme(accent_line, "accent", "BackgroundColor3")

		local depth = library:create("Frame", {
			Parent = playerlist,
			Name = "",
			BackgroundTransparency = 0.5,
			Position = UDim2.new(0, 0, 0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, 0, 0, 1),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 0, 0),
		})

		local glow = library:create("ImageLabel", {
			Parent = playerlist,
			Name = "",
			ImageColor3 = themes.preset.accent,
			ScaleType = Enum.ScaleType.Slice,
			ImageTransparency = 0.8999999761581421,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			Image = "http://www.roblox.com/asset/?id=18245826428",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -20, 0, -20),
			Size = UDim2.new(1, 40, 0, 42),
			ZIndex = 2,
			BorderSizePixel = 0,
			SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79)),
		})

		library:apply_theme(glow, "accent", "ImageColor3")

		local function create_player(player)
			local TextButton = library:create("TextButton", {
				Parent = __ScrollingFrame,
				Name = "",
				FontFace = library.font,
				TextColor3 = Color3.fromRGB(180, 180, 180),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Text = "",
				BackgroundTransparency = 1,
				Size = UDim2.new(1, 0, 0, 0),
				BorderSizePixel = 0,
				AutomaticSize = Enum.AutomaticSize.Y,
				TextSize = 12,
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			})

			player_buttons[player.Name] = {}
			player_buttons[player.Name].instance = TextButton

			local TextLabel = library:create("TextLabel", {
				Parent = TextButton,
				Name = "",
				FontFace = library.font,
				TextColor3 = Color3.fromRGB(180, 180, 180),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Text = player.Name,
				BorderSizePixel = 0,
				BackgroundTransparency = 1,
				TextXAlignment = Enum.TextXAlignment.Left,
				TextTruncate = Enum.TextTruncate.AtEnd,
				AutomaticSize = Enum.AutomaticSize.Y,
				TextSize = 12,
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			})

			library:create("UIStroke", {
				Parent = TextLabel,
				Name = "",
			})

			local TextLabel = library:create("TextLabel", {
				Parent = TextButton,
				Name = "",
				FontFace = library.font,
				TextColor3 = Color3.fromRGB(180, 180, 180),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Text = player.Team and tostring(player.Team) or "None",
				BackgroundTransparency = 1,
				TextXAlignment = Enum.TextXAlignment.Left,
				BorderSizePixel = 0,
				AutomaticSize = Enum.AutomaticSize.Y,
				TextSize = 12,
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			})

			library:create("UIStroke", {
				Parent = TextLabel,
				Name = "",
			})

			local Frame = library:create("Frame", {
				Parent = TextLabel,
				Name = "",
				Position = UDim2.new(0, -10, 0, 0),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 1, 0, 12),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(32, 32, 38),
			})

			local TextLabel = library:create("TextLabel", {
				Parent = TextButton,
				Name = "",
				FontFace = library.font,
				TextColor3 = Color3.fromRGB(180, 180, 180),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Text = (library.target_aim.targets and library.target_aim.targets[player.Name]) and "Target Aim: Targeted" or "Target Aim: Not Targeted",
				BackgroundTransparency = 1,
				TextXAlignment = Enum.TextXAlignment.Left,
				BorderSizePixel = 0,
				AutomaticSize = Enum.AutomaticSize.Y,
				TextSize = 12,
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			})

			player_buttons[player.Name].priority = TextLabel

			library:create("UIStroke", {
				Parent = TextLabel,
				Name = "",
			})

			local Frame = library:create("Frame", {
				Parent = TextLabel,
				Name = "",
				Position = UDim2.new(0, -10, 0, 0),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 1, 0, 12),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(32, 32, 38),
			})

			local UIListLayout = library:create("UIListLayout", {
				Parent = TextButton,
				Name = "",
				FillDirection = Enum.FillDirection.Horizontal,
				HorizontalFlex = Enum.UIFlexAlignment.Fill,
				SortOrder = Enum.SortOrder.LayoutOrder,
				VerticalFlex = Enum.UIFlexAlignment.Fill,
			})

			local UIPadding = library:create("UIPadding", {
				Parent = TextButton,
				Name = "",
				PaddingRight = UDim.new(0, 2),
				PaddingLeft = UDim.new(0, 2),
			})

			local line = library:create("Frame", {
				Parent = tabs,
				Name = "",
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(1, 0, 0, 1),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(32, 32, 38),
			})

			TextButton.MouseButton1Click:Connect(function()
				if selected_button then
					selected_button.BackgroundTransparency = 1
				end

				selected_button = TextButton
				selected_player = player
				TextButton.BackgroundTransparency = 0.85

				priority_label.Text = "Priority: " .. library.get_priority(player)
				name_label.Text = "Name: " .. player.Name
				display_name_label.Text = "Display: " .. player.DisplayName
			end)
		end

		for _, player in next, players:GetPlayers() do
			create_player(player)
		end

		library:connection(players.PlayerAdded, function(player)
			create_player(player)
		end)

		library:connection(players.PlayerRemoving, function(player)
			player_buttons[player.Name].instance:Destroy()
		end)
		
				local old_kblist = library:create("Frame", {
			Parent = library.gui,
			Name = "",
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			AnchorPoint = Vector2.new(0, 0.5),
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 20, 0.5, 0),
			ZIndex = 2,
			Active = true,
			Draggable = true,
			AutomaticSize = Enum.AutomaticSize.XY,
			BackgroundColor3 = Color3.fromRGB(40, 40, 40),
		})

		local glow = library:create("ImageLabel", {
			Parent = old_kblist,
			Name = "",
			ImageColor3 = themes.preset.accent,
			ScaleType = Enum.ScaleType.Slice,
			ImageTransparency = 0.8999999761581421,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			Image = "http://www.roblox.com/asset/?id=18245826428",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -20, 0, -20),
			Size = UDim2.new(1, 40, 0, 42),
			ZIndex = 2,
			BorderSizePixel = 0,
			SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79)),
		})

		library:apply_theme(glow, "accent", "ImageColor3")

		local inline1 = library:create("Frame", {
			Parent = old_kblist,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			AutomaticSize = Enum.AutomaticSize.XY,
			BackgroundColor3 = Color3.fromRGB(40, 40, 40),
		})

		local accent_line = library:create("Frame", {
			Parent = inline1,
			Name = "",
			BorderColor3 = Color3.fromRGB(34, 34, 34),
			Size = UDim2.new(1, 0, 0, 2),
			BorderSizePixel = 0,
			BackgroundColor3 = themes.preset.accent,
		})

		library:apply_theme(accent_line, "accent", "BackgroundColor3")

		local name = library:create("TextLabel", {
			Parent = inline1,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = "keybinds",
			TextStrokeTransparency = 0.5,
			BorderSizePixel = 0,
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 0, 0, -1),
			Size = UDim2.new(1, 0, 0, 1),
			ZIndex = 2,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local inline2 = library:create("Frame", {
			Parent = inline1,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -4, 1, -4),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(26, 26, 26),
		})

		local main = library:create("Frame", {
			Parent = inline2,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(57, 57, 57),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(26, 26, 26),
		})

		local tab_inline = library:create("Frame", {
			Parent = main,
			Name = "",
			Position = UDim2.new(0, 6, 0, 6),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, -12, 1, -12),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(19, 19, 19),
		})

		local tabs = library:create("Frame", {
			Parent = tab_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = tabs,
			Name = "",
			PaddingBottom = UDim.new(0, 22),
			PaddingRight = UDim.new(0, 20),
			PaddingLeft = UDim.new(0, 20),
		})

		local UIListLayout = library:create("UIListLayout", {
			Parent = tabs,
			Name = "",
			SortOrder = Enum.SortOrder.LayoutOrder,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			Padding = UDim.new(0, 3),
		})

		local UIStroke = library:create("UIStroke", {
			Parent = tabs,
			Name = "",
			Color = Color3.fromRGB(57, 57, 57),
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local depth = library:create("Frame", {
			Parent = inline1,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundTransparency = 0.5,
			Position = UDim2.new(0, 0, 0, 1),
			Size = UDim2.new(1, 0, 0, 1),
			ZIndex = 2,
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 0, 0),
		})

		library.keybind_path = tabs
		
		function cfg.toggle_list(bool)
			old_kblist.Visible = bool
		end

		function cfg.toggle_playerlist(bool)
			playerlist.Visible = bool
		end

		function cfg.toggle_watermark(bool)
			__holder.Visible = bool
		end

		function cfg.set_menu_visibility(bool, pl)
			WINDOW_PATH.Visible = bool

			playerlist.Visible = flags["player_list"] and bool or false
		end

		return setmetatable(cfg, library)
	end

	function library:new_keybind(properties)
		local cfg = {
			text = properties.name or properties.text or "aimbot",
			key = properties.key or nil,
			mode = properties.mode or "hold",
		}

		local keybind_text = library:create("TextLabel", {
			Parent = library.keybind_path,
			Name = "",
			FontFace = library.font,
			LineHeight = 1.2000000476837158,
			TextStrokeTransparency = 0.5,
			AnchorPoint = Vector2.new(0.5, 0),
			TextSize = 12,
			Size = UDim2.new(0, 0, 0, 11),
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = "",
			BackgroundTransparency = 1,
			Position = UDim2.new(0.5, 0, 0, 8),
			BorderSizePixel = 0,
			Visible = false,
			TextYAlignment = Enum.TextYAlignment.Top,
			AutomaticSize = Enum.AutomaticSize.X,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = keybind_text,
			Name = "",
			PaddingTop = UDim.new(0, 6),
		})

		function cfg.set_visible(bool)
			keybind_text.Visible = bool
		end

		function cfg.change_text(text)
			keybind_text.Text = text
		end

		function cfg.set_active(is_active)
			if is_active then
				keybind_text.TextColor3 = themes.preset.accent 			else
				keybind_text.TextColor3 = themes.preset.text 			end
		end

		function keyName(key)
			local text = tostring(key) ~= "Enums" and (keys[key] or tostring(key):gsub("Enum.", "")) or nil
			local __text = text and (tostring(text):gsub("KeyCode.", ""):gsub("UserInputType.", ""))

			return __text or "..."
		end

				function cfg.update(n_properties)
			cfg.change_text(
				"["
					.. tostring(keyName(n_properties.key))
					.. "] "
					.. tostring(n_properties.text)
					.. " ("
					.. tostring(n_properties.mode)
					.. ")"
			)
		end

		cfg.change_text(
			"[" .. tostring(keyName(cfg.key)) .. "] " .. tostring(cfg.text) .. " (" .. tostring(cfg.mode) .. ")"
		)

		return cfg
	end

	function library:notification(properties)
		local cfg = {
			time = properties.time or 5,
			text = properties.text or properties.name or "ledger.live is pasted",
		}

		
		function cfg:refresh_notifications()
			for _, notif in next, library.notifications do
				tween_service
					:Create(
						notif,
						TweenInfo.new(0.3, Enum.EasingStyle.Exponential, Enum.EasingDirection.InOut),
						{ Position = dim2(0, 20, 0, 72 + (_ * 28)) }
					)
					:Play()
			end
		end

				local holder = library:create("Frame", {
			Parent = library.gui,
			Name = "",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 20, 0, 72 + (#library.notifications * 28)),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			ZIndex = 2,
			AutomaticSize = Enum.AutomaticSize.X,
			BackgroundColor3 = Color3.fromRGB(40, 40, 40),
			AnchorPoint = Vector2.new(1, 0),
		})

		local inline1 = library:create("Frame", {
			Parent = holder,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(0, 0, 0, 24),
			AutomaticSize = Enum.AutomaticSize.X,
			BackgroundColor3 = Color3.fromRGB(40, 40, 40),
		})

		local inline2 = library:create("Frame", {
			Parent = inline1,
			Name = "",
			Position = UDim2.new(0, 0, 0, 2),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -4, 1, -4),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(26, 26, 26),
		})

		local main = library:create("Frame", {
			Parent = inline2,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(57, 57, 57),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(26, 26, 26),
		})

		local tab_inline = library:create("Frame", {
			Parent = main,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, -4, 1, -4),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(19, 19, 19),
		})

		local name = library:create("TextLabel", {
			Parent = tab_inline,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = cfg.text,
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(0, 0, 1, 0),
			Position = UDim2.new(0, 8, 0, 0),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			BorderSizePixel = 0,
			AutomaticSize = Enum.AutomaticSize.X,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = tab_inline,
			Name = "",
			PaddingRight = UDim.new(0, 14),
		})

		local depth = library:create("Frame", {
			Parent = inline1,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundTransparency = 0.5,
			Position = UDim2.new(0, 1, 0, 0),
			Size = UDim2.new(0, 1, 1, 0),
			ZIndex = 2,
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 0, 0),
		})

		local accent_line = library:create("Frame", {
			Parent = inline1,
			Name = "",
			BorderColor3 = Color3.fromRGB(34, 34, 34),
			Size = UDim2.new(0, 2, 1, 0),
			BorderSizePixel = 0,
			BackgroundColor3 = themes.preset.accent,
		})

		library:apply_theme(accent_line, "accent", "BackgroundColor3")

		local glow = library:create("ImageLabel", {
			Parent = holder,
			Name = "",
			ImageColor3 = themes.preset.accent,
			ScaleType = Enum.ScaleType.Slice,
			ImageTransparency = 0.8999999761581421,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			Image = "http://www.roblox.com/asset/?id=18245826428",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -20, 0, 0),
			Size = UDim2.new(0, 42, 1, 40),
			ZIndex = 2,
			BorderSizePixel = 0,
			SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79)),
		})

		library:apply_theme(glow, "accent", "ImageColor3")
		
		task.spawn(function()
			tween_service
				:Create(
					holder,
					TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut),
					{ AnchorPoint = Vector2.new(0, 0) }
				)
				:Play()

			task.wait(cfg.time)

			tween_service
				:Create(
					holder,
					TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut),
					{ AnchorPoint = Vector2.new(1, 0) }
				)
				:Play()
			for _, v in next, holder:GetDescendants() do
				if v:IsA("TextLabel") then
					tween_service
						:Create(
							v,
							TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut),
							{ TextTransparency = 1 }
						)
						:Play()
				elseif v:IsA("Frame") then
					tween_service
						:Create(
							v,
							TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut),
							{ BackgroundTransparency = 1 }
						)
						:Play()
				elseif v:IsA("ImageLabel") then
					tween_service
						:Create(
							v,
							TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut),
							{ ImageTransparency = 1 }
						)
						:Play()
				end
			end
		end)

		task.delay(cfg.time + 0.1, function()
			table.remove(library.notifications, table.find(library.notifications, holder))
			cfg:refresh_notifications()
			task.wait(0.5)
			holder:Destroy()
		end)

		table.insert(library.notifications, holder)
	end

	function library:tab(properties)
		local cfg = {
			name = properties.name or "tab",
			enabled = false,
		}

				local TAB_BUTTON = library:create("TextButton", {
			Parent = self.tab_holder,
			Name = "",
			FontFace = library.font,
			TextColor3 = themes.preset.unselected_text,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = cfg.name,
			TextStrokeTransparency = 0.5,
			BackgroundTransparency = 1,
			Size = UDim2.new(0.3330000042915344, -4, 0, 22),
			BorderSizePixel = 0,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local line = library:create("Frame", {
			Parent = TAB_BUTTON,
			Name = "",
			Position = UDim2.new(0, 0, 1, 0),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, 0, 0, 2),
			BorderSizePixel = 0,
			BackgroundColor3 = rgb(57, 57, 57),
		})

		library:apply_theme(line, "accent", "BackgroundColor3")

		local glow = library:create("ImageLabel", {
			Parent = line,
			Name = "",
			ImageColor3 = themes.preset.accent,
			ScaleType = Enum.ScaleType.Slice,
			ImageTransparency = 0.8999999761581421,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			Image = "http://www.roblox.com/asset/?id=18245826428",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -20, 0, -20),
			Size = UDim2.new(1, 40, 1, 40),
			ZIndex = 2,
			Visible = false,
			BorderSizePixel = 0,
			SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79)),
		})

		library:apply_theme(glow, "accent", "ImageColor3")

		local depth = library:create("Frame", {
			Parent = line,
			Name = "",
			BackgroundTransparency = 0.5,
			Position = UDim2.new(0, 0, 0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, 0, 0, 1),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 0, 0),
		})
		
				local TAB = library:create("Frame", {
			Parent = self.tab_instance_holder,
			Name = "",
			Visible = false,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundTransparency = 1,
			Size = UDim2.new(1, 0, 1, 0),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local scrolling_columns = library:create("Frame", {
			Parent = TAB,
			Name = "",
			ClipsDescendants = true,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 6, 0, 6),
			Size = UDim2.new(1, -12, 1, -12),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		cfg["column_holder"] = scrolling_columns

		local UIListLayout = library:create("UIListLayout", {
			Parent = scrolling_columns,
			Name = "",
			FillDirection = Enum.FillDirection.Horizontal,
			HorizontalFlex = Enum.UIFlexAlignment.Fill,
			Padding = UDim.new(0, 5),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})

		local left = library:create("ScrollingFrame", {
			Parent = scrolling_columns,
			Name = "",
			ScrollBarImageColor3 = Color3.fromRGB(0, 0, 0),
			Active = true,
			AutomaticCanvasSize = Enum.AutomaticSize.Y,
			ScrollBarThickness = 0,
			Size = UDim2.new(0.5, -64, 1, 0),
			ClipsDescendants = false,
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 4, 0, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BorderSizePixel = 0,
			CanvasSize = UDim2.new(0, 0, 0, 0),
		})

		left:GetPropertyChangedSignal("CanvasPosition"):Connect(function()
			if library.current_element_open then
				library.current_element_open.set_visible(false)
				library.current_element_open.open = false
				library.current_element_open = nil
			end
		end)

		cfg["left"] = left

		local UIListLayout = library:create("UIListLayout", {
			Parent = left,
			Name = "",
			Padding = UDim.new(0, 6),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})

		local UIPadding = library:create("UIPadding", {
			Parent = left,
			Name = "",
			PaddingBottom = UDim.new(0, 15),
		})

		local right = library:create("ScrollingFrame", {
			Parent = scrolling_columns,
			Name = "",
			ScrollBarImageColor3 = Color3.fromRGB(0, 0, 0),
			Active = true,
			AutomaticCanvasSize = Enum.AutomaticSize.Y,
			ScrollBarThickness = 0,
			Size = UDim2.new(0.5, -64, 1, 0),
			ClipsDescendants = false,
			BackgroundTransparency = 1,
			Position = UDim2.new(0.5, -50, 0, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BorderSizePixel = 0,
			CanvasSize = UDim2.new(0, 0, 0, 0),
		})

		right:GetPropertyChangedSignal("CanvasPosition"):Connect(function()
			if library.current_element_open then
				library.current_element_open.set_visible(false)
				library.current_element_open.open = false
				library.current_element_open = nil
			end
		end)

		cfg["right"] = right

		local UIListLayout = library:create("UIListLayout", {
			Parent = right,
			Name = "",
			Padding = UDim.new(0, 6),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})

		local UIPadding = library:create("UIPadding", {
			Parent = right,
			Name = "",
			PaddingBottom = UDim.new(0, 15),
		})
		
		function cfg.open_tab()
			if library.current_tab and library.current_tab[1] ~= TAB_BUTTON then
				local button = library.current_tab[1]
				button.TextColor3 = themes.preset.unselected_text

				local parent = button:FindFirstChildOfClass("Frame")
				parent.BackgroundColor3 = rgb(57, 57, 57)
				parent:FindFirstChildOfClass("ImageLabel").Visible = false

				library.current_tab[2].Visible = false
			end

			library.current_tab = {
				TAB_BUTTON,
				TAB,
			}

			line.BackgroundColor3 = themes.preset.accent
			glow.Visible = true
			TAB_BUTTON.TextColor3 = themes.preset.text
			TAB.Visible = true

			if library.current_element_open and library.current_element_open ~= cfg then
				library.current_element_open.set_visible(false)
				library.current_element_open.open = false
				library.current_element_open = nil
			end
		end

		TAB_BUTTON.MouseButton1Click:Connect(cfg.open_tab)

		return setmetatable(cfg, library)
	end

	function library:section(properties)
		local cfg = {
			name = properties.name or properties.Name or "Section",
			side = properties.side or properties.Side or "left",
		}

				local section = library:create("Frame", {
			Parent = self[cfg.side],
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundTransparency = 1,
			BorderSizePixel = 0,
			Size = UDim2.new(1, 0, 0, 0),
			ZIndex = 2,
			AutomaticSize = Enum.AutomaticSize.Y,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local section_inline = library:create("Frame", {
			Parent = section,
			Name = "",
			Position = UDim2.new(0, 0, 0, 4),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, 0, 1, -4),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local name = library:create("TextLabel", {
			Parent = section_inline,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = cfg.name,
			TextStrokeTransparency = 0.5,
			BorderSizePixel = 0,
			Size = UDim2.new(1, 0, 0, 1),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			Position = UDim2.new(0, 8, 0, 0),
			ZIndex = 2,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local section = library:create("Frame", {
			Parent = section_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		local elements = library:create("Frame", {
			Parent = section,
			Name = "",
			Position = UDim2.new(0, 12, 0, 12),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -24, 0, 0),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local UIListLayout = library:create("UIListLayout", {
			Parent = elements,
			Name = "",
			SortOrder = Enum.SortOrder.LayoutOrder,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			Padding = UDim.new(0, 3),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = section,
			Name = "",
			PaddingBottom = UDim.new(0, 13),
		})
		
		cfg["holder"] = elements

		return setmetatable(cfg, library)
	end

	function library:hitpart_picker(properties)
		local cfg = {
			name = properties.name or properties.Name or "Hitpart",
			side = properties.side or properties.Side or "left",
			flag = properties.flag or "Hitpart",
			default = properties.default or { "Head" },
			type_char = properties.type or "R6",
			multi = properties.multi or false,
			callback = properties.callback or function() end,
			previous_holder = self,
		}

		flags[cfg.flag] = {}

		local bodyparts = {}
		local bools = {}

		local r15_hitpart_holder = library:create("Frame", {
			Parent = self[cfg.side],
			Name = "",
			BackgroundTransparency = 1,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, 0, 0, 272),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local hitpart_inline = library:create("Frame", {
			Parent = r15_hitpart_holder,
			Name = "",
			Position = UDim2.new(0, 0, 0, 4),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, 0, 1, -4),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local hitpart = library:create("Frame", {
			Parent = hitpart_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		if cfg.type_char == "R15" then
			bodyparts.Head = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -25, 0, 16),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 50, 0, 44),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.UpperTorso = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -42, 0, 64),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 84, 0, 76),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.LeftUpperArm = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -86, 0, 64),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 34),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.RightUpperArm = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, 46, 0, 64),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 34),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.LeftUpperLeg = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -42, 0, 158),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 34),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.LeftLowerLeg = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -42, 0, 196),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 42),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.RightFoot = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, 2, 0, 242),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 6),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.LeftFoot = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -42, 0, 242),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 6),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.RightLowerLeg = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, 2, 0, 196),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 42),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.RightUpperLeg = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, 2, 0, 158),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 34),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.LeftHand = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -86, 0, 148),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 6),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.RightHand = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, 46, 0, 148),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 6),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.LowerTorso = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -42, 0, 144),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 84, 0, 10),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.RightLowerArm = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, 46, 0, 102),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 42),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.LeftLowerArm = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -86, 0, 102),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 42),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			local outline = library:create("TextButton", {
				Text = "",
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -10, 0, 96),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 20, 0, 20),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(22, 22, 22),
			})

			bodyparts.HumanoidRootPart = library:create("TextButton", {
				Text = "",
				Parent = outline,
				Name = "",
				Position = UDim2.new(0, 4, 0, 4),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(1, -8, 1, -8),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})
		else
			bodyparts.Head = library:create("TextButton", {
				Parent = hitpart,
				Name = "",
				Text = "",
				Position = UDim2.new(0.5, -25, 0, 16),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 50, 0, 44),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.Torso = library:create("TextButton", {
				Parent = hitpart,
				Name = "",
				Text = "",
				Position = UDim2.new(0.5, -42, 0, 64),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 84, 0, 90),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.LeftArm = library:create("TextButton", {
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -86, 0, 64),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 90),
				BorderSizePixel = 0,
				Text = "",
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.RightArm = library:create("TextButton", {
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, 46, 0, 64),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 90),
				Text = "",
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.RightLeg = library:create("TextButton", {
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, 2, 0, 158),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 90),
				BorderSizePixel = 0,
				Text = "",
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			bodyparts.LeftLeg = library:create("TextButton", {
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -42, 0, 158),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 40, 0, 90),
				BorderSizePixel = 0,
				Text = "",
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			local hrp_out = library:create("TextButton", {
				Parent = hitpart,
				Name = "",
				Position = UDim2.new(0.5, -10, 0, 99),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 20, 0, 20),
				BorderSizePixel = 0,
				Text = "",
				BackgroundColor3 = Color3.fromRGB(22, 22, 22),
			})

			bodyparts.HumanoidRootPart = library:create("TextButton", {
				Parent = hrp_out,
				Name = "",
				Position = UDim2.new(0, 4, 0, 4),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(1, -8, 1, -8),
				BorderSizePixel = 0,
				Text = "",
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})
		end

		local name = library:create("TextLabel", {
			Parent = hitpart_inline,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = cfg.name,
			TextStrokeTransparency = 0.5,
			BorderSizePixel = 0,
			Size = UDim2.new(1, 0, 0, 1),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			Position = UDim2.new(0, 8, 0, 0),
			ZIndex = 2,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		function cfg.set(parts)
			flags[cfg.flag] = {}
			for name, button in pairs(bodyparts) do
				bools[name] = false
				local glow = button:FindFirstChildOfClass("ImageLabel")
				if glow then
					glow.Visible = false
				end
				button.BackgroundColor3 = Color3.fromRGB(38, 38, 38)
			end

			for _, part in pairs(parts) do
				if bodyparts[part] then
					bools[part] = true
					table.insert(flags[cfg.flag], part)
					local glow = bodyparts[part]:FindFirstChildOfClass("ImageLabel")
					if glow then
						glow.Visible = true
					end
					bodyparts[part].BackgroundColor3 = themes.preset.accent
				end
			end

			if cfg.callback then cfg.callback(flags[cfg.flag]) end
		end

		for name, button in next, bodyparts do
			bools[name] = false

			library:apply_theme(button, "accent", "BackgroundColor3")

			local glow = library:create("ImageLabel", {
				Parent = button,
				Name = "",
				Visible = false,
				ImageColor3 = themes.preset.accent,
				ScaleType = Enum.ScaleType.Slice,
				ImageTransparency = 0.8999999761581421,
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
				Image = "http://www.roblox.com/asset/?id=18245826428",
				BackgroundTransparency = 1,
				Position = UDim2.new(0, -20, 0, -20),
				Size = UDim2.new(1, 40, 1, 40),
				ZIndex = 2,
				BorderSizePixel = 0,
				SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79)),
			})

			library:apply_theme(glow, "accent", "ImageColor3")

			library:connection(button.MouseButton1Click, function()
				if not cfg.multi then
					cfg.set({ name })
				else
					bools[name] = not bools[name]

					if bools[name] then
						table.insert(flags[cfg.flag], name)
					else
						local index = table.find(flags[cfg.flag], name)
						table.remove(flags[cfg.flag], index)
					end

					glow.Visible = bools[name]
					button.BackgroundColor3 = bools[name] and themes.preset.accent or Color3.fromRGB(38, 38, 38)

					if cfg.callback then cfg.callback(flags[cfg.flag]) end
				end
			end)
		end

		if #cfg.default > 1 and not cfg.multi then
			cfg.default = { cfg.default[1] }
		end

		cfg.set(cfg.default)
		config_flags[cfg.flag] = cfg.set
		return setmetatable(cfg, library)
	end

	function library:toggle(properties)
		local cfg = {
			enabled = properties.enabled or nil,
			name = properties.name or "Toggle",
			flag = properties.flag or tostring(math.random(1, 9999999)),
			callback = properties.callback or function() end,
			default = properties.default or false,
			previous_holder = self,
		}

				local object = library:create("TextButton", {
			Parent = self.holder,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = cfg.name,
			TextStrokeTransparency = 0.5,
			BorderSizePixel = 0,
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			Size = UDim2.new(1, -26, 0, 12),
			ZIndex = 1,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local right_components = library:create("Frame", {
			Parent = object,
			Name = "",
			Position = UDim2.new(1, 15, 0, 1),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(0, 0, 1, 0),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local list = library:create("UIListLayout", {
			Parent = right_components,
			Name = "",
			FillDirection = Enum.FillDirection.Horizontal,
			HorizontalAlignment = Enum.HorizontalAlignment.Right,
			Padding = UDim.new(0, 3),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})

		local icon_inline = library:create("TextButton", {
			Parent = object,
			Name = "",
			Position = UDim2.new(0, -15, 0, 1),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(0, 10, 0, 10),
			BorderSizePixel = 0,
			Text = "",
			AutoButtonColor = false,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local icon = library:create("Frame", {
			Parent = icon_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		local icon_2 = library:create("Frame", {
			Parent = icon,
			Name = "",
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, 0, 1, 0),
			BackgroundColor3 = themes.preset.accent,
		})
		library:apply_theme(icon_2, "accent", "BackgroundColor3")

		local glow = library:create("ImageLabel", {
			Parent = icon_inline,
			Name = "",
			Visible = false,
			ImageColor3 = themes.preset.accent,
			ScaleType = Enum.ScaleType.Slice,
			ImageTransparency = 0.75,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			Image = "http://www.roblox.com/asset/?id=18245826428",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -12, 0, -12),
			Size = UDim2.new(1, 24, 1, 24),
			ZIndex = 2,
			BorderSizePixel = 0,
			SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79)),
		})

		library:apply_theme(glow, "accent", "ImageColor3")

		local bottom_components = library:create("Frame", {
			Parent = object,
			Name = "",
			Visible = true,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Position = UDim2.new(0, 0, 0, 13),
			Size = UDim2.new(1, 26, 0, 0),
			ZIndex = 2,
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local list = library:create("UIListLayout", {
			Parent = bottom_components,
			Name = "",
			Padding = UDim.new(0, 4),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})
		
		function cfg.set(bool)
			icon_2.Visible = bool
			glow.Visible = bool

			flags[cfg.flag] = bool

			if cfg.callback then cfg.callback(bool) end
		end

		library:connection(object.MouseButton1Click, function()
			cfg.enabled = not cfg.enabled

			cfg.set(cfg.enabled)
		end)

		library:connection(icon_inline.MouseButton1Click, function()
			cfg.enabled = not cfg.enabled

			cfg.set(cfg.enabled)
		end)

		cfg.set(cfg.default)

		self.previous_holder = left_components
		self.bottom_holder = bottom_components
		self.right_holder = right_components

		config_flags[cfg.flag] = cfg.set

		return setmetatable(cfg, library)
	end

	function library:slider(properties)
		local cfg = {
			name = properties.name or nil,
			suffix = properties.suffix or "",
			flag = properties.flag or tostring(2 ^ 789),
			callback = properties.callback or function() end,

			min = properties.min or properties.minimum or 0,
			max = properties.max or properties.maximum or 100,
			intervals = properties.interval or properties.decimal or 1,
			default = properties.default or 10,

			dragging = false,
			value = properties.default or 10,

			previous_holder = self,
		}

		local bottom_components
		if cfg.name then
			object = library:create("TextLabel", {
				Parent = self.holder,
				Name = "",
				FontFace = library.font,
				TextColor3 = Color3.fromRGB(170, 170, 170),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Text = cfg.name,
				TextStrokeTransparency = 0.5,
				Size = UDim2.new(1, -26, 0, 12),
				BorderSizePixel = 0,
				BackgroundTransparency = 1,
				TextXAlignment = Enum.TextXAlignment.Left,
				AutomaticSize = Enum.AutomaticSize.Y,
				TextYAlignment = Enum.TextYAlignment.Top,
				TextSize = 12,
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			})

			bottom_components = library:create("Frame", {
				Parent = object,
				Name = "",
				Visible = true,
				Position = UDim2.new(0, 0, 0, 13),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(1, 26, 0, 0),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			})

			local list = library:create("UIListLayout", {
				Parent = bottom_components,
				Name = "",
				Padding = UDim.new(0, 4),
				SortOrder = Enum.SortOrder.LayoutOrder,
			})
		else
			self.bottom_holder.Parent.AutomaticSize = Enum.AutomaticSize.Y
			self.bottom_holder.Parent.TextYAlignment = Enum.TextYAlignment.Top
		end

		local slider_holder = library:create("Frame", {
			Parent = cfg.name and bottom_components or self.bottom_holder,
			Name = "",
			BackgroundTransparency = 1,
			Size = UDim2.new(1, 0, 0, 0),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BorderSizePixel = 0,
			AutomaticSize = Enum.AutomaticSize.Y,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local slider_inline = library:create("TextButton", {
			Parent = slider_holder,
			Name = "",
			Position = UDim2.new(0, 0, 0, 1),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, -26, 0, 8),
			BorderSizePixel = 0,
			Text = "",
			AutoButtonColor = false,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local fill_inline = library:create("Frame", {
			Parent = slider_inline,
			Name = "",
			Size = UDim2.new(0.5, 0, 1, 0),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			ZIndex = 2,
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(19, 19, 19),
		})

		local fill = library:create("Frame", {
			Parent = fill_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			Size = UDim2.new(1, 0, 1, -4),
			BackgroundColor3 = themes.preset.accent,
		})

		library:apply_theme(fill, "accent", "BackgroundColor3")
		library:apply_theme(fill, "accent", "BorderColor3")

		local VALUE_TEXT = library:create("TextLabel", {
			Parent = fill_inline,
			Name = "",
			RichText = true,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(0, 1, 0, 11),
			BackgroundTransparency = 1,
			Position = UDim2.new(1, 0, 0, 1),
			BorderSizePixel = 0,
			FontFace = library.font,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local glow = library:create("ImageLabel", {
			Parent = fill_inline,
			Name = "",
			ImageColor3 = themes.preset.accent,
			ScaleType = Enum.ScaleType.Slice,
			ImageTransparency = 0.8999999761581421,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			Image = "http://www.roblox.com/asset/?id=18245826428",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -18, 0, -18),
			Size = UDim2.new(1, 36, 1, 36),
			ZIndex = 2,
			BorderSizePixel = 0,
			SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79)),
		})

		library:apply_theme(glow, "accent", "ImageColor3")

		local add = library:create("TextButton", {
			Parent = slider_inline,
			Name = "",
			TextWrapped = true,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = "+",
			TextStrokeTransparency = 0.5,
			BackgroundTransparency = 1,
			Position = UDim2.new(1, 5, 0, -1),
			Size = UDim2.new(0, 8, 0, 8),
			FontFace = library.font,
			TextSize = 8,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local sub = library:create("TextButton", {
			Parent = slider_inline,
			Name = "",
			TextWrapped = true,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = "-",
			TextStrokeTransparency = 0.5,
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -15, 0, -1),
			Size = UDim2.new(0, 8, 0, 8),
			FontFace = library.font,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local slider = library:create("Frame", {
			Parent = slider_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		local pad = library:create("UIPadding", {
			Parent = slider_holder,
			Name = "",
			PaddingBottom = UDim.new(0, -17),
		})

		function cfg.set(value)
			if type(value) ~= "number" then
				return
			end

			cfg.value = math.clamp(library:round(value, cfg.intervals), cfg.min, cfg.max)

			fill_inline.Size = dim2((cfg.value - cfg.min) / (cfg.max - cfg.min), 0, 1, 0)
			VALUE_TEXT.Text = tostring(cfg.value) .. cfg.suffix
			flags[cfg.flag] = cfg.value

			if cfg.callback then cfg.callback(flags[cfg.flag]) end
		end

		library:connection(uis.InputChanged, function(input)
			if cfg.dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
				local size_x = (input.Position.X - slider.AbsolutePosition.X) / slider.AbsoluteSize.X
				local value = ((cfg.max - cfg.min) * size_x) + cfg.min
				cfg.set(value)
			end
		end)

		library:connection(uis.InputEnded, function(input)
			if input.UserInputType == Enum.UserInputType.MouseButton1 then
				cfg.dragging = false
			end
		end)

		slider_inline.MouseButton1Down:Connect(function()
			cfg.dragging = true
		end)

		add.MouseButton1Down:Connect(function()
			cfg.value += cfg.intervals
			cfg.set(cfg.value)
		end)

		sub.MouseButton1Down:Connect(function()
			cfg.value -= cfg.intervals
			cfg.set(cfg.value)
		end)

		cfg.set(cfg.default)

		config_flags[cfg.flag] = cfg.set

		library.config_flags[cfg.flag] = cfg.set

		return setmetatable(cfg, library)
	end

	function library:dropdown(properties)
		local cfg = {
			name = properties.name or nil,
			flag = properties.flag or tostring(math.random(1, 9999999)),

			items = properties.items or { "1", "2", "3" },
			callback = properties.callback or function() end,
			multi = properties.multi or false,

			open = false,
			option_instances = {},
			multi_items = {},

			previous_holder = self,
		}
		cfg.default = properties.default or (cfg.multi and { cfg.items[1] }) or cfg.items[1] or nil

		local bottom_components
		local object
		if cfg.name then
			object = library:create("TextLabel", {
				Parent = self.holder,
				Name = "",
				FontFace = library.font,
				TextColor3 = Color3.fromRGB(170, 170, 170),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Text = cfg.name,
				TextStrokeTransparency = 0.5,
				Size = UDim2.new(1, -26, 0, 12),
				BorderSizePixel = 0,
				ZIndex = 2,
				BackgroundTransparency = 1,
				TextXAlignment = Enum.TextXAlignment.Left,
				AutomaticSize = Enum.AutomaticSize.Y,
				TextYAlignment = Enum.TextYAlignment.Top,
				TextSize = 12,
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			})

			bottom_components = library:create("Frame", {
				Parent = object,
				Name = "",
				Visible = true,
				Position = UDim2.new(0, 0, 0, 13),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(1, 26, 0, 0),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			})

			local list = library:create("UIListLayout", {
				Parent = bottom_components,
				Name = "",
				Padding = UDim.new(0, 4),
				SortOrder = Enum.SortOrder.LayoutOrder,
			})
		else
			self.bottom_holder.Parent.AutomaticSize = Enum.AutomaticSize.Y
			self.bottom_holder.Parent.TextYAlignment = Enum.TextYAlignment.Top
		end

				local dropdown_inline = library:create("Frame", {
			Parent = cfg.name and bottom_components or self.bottom_holder,
			Name = "",
			Position = UDim2.new(0, -15, 0, 2),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, -26, 0, 16),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local dropdown = library:create("TextButton", {
			Parent = dropdown_inline,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = "option 1, option 3",
			TextStrokeTransparency = 0.5,
			TextXAlignment = Enum.TextXAlignment.Left,
			Size = UDim2.new(1, -4, 1, -4),
			Position = UDim2.new(0, 2, 0, 2),
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = dropdown,
			Name = "",
			PaddingLeft = UDim.new(0, 5),
		})

		local icon = library:create("TextLabel", {
			Parent = dropdown,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = "+",
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(0, 1, 1, 0),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Right,
			Position = UDim2.new(1, -6, 0, -1),
			BorderSizePixel = 0,
			TextSize = 8,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local content_inline = library:create("Frame", {
			Parent = library.gui,
			Name = "",
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(0, dropdown_inline.AbsoluteSize.X, 0, 0),
			Position = UDim2.new(
				0,
				dropdown_inline.AbsolutePosition.X,
				0,
				dropdown_inline.AbsolutePosition.Y + dropdown_inline.AbsoluteSize.Y + 2
			),
			BorderSizePixel = 0,
			ZIndex = 2,
			Visible = false,
			AutomaticSize = Enum.AutomaticSize.Y,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		dropdown_inline:GetPropertyChangedSignal("AbsolutePosition"):Connect(function()
			content_inline.Position = UDim2.new(
				0,
				dropdown_inline.AbsolutePosition.X,
				0,
				dropdown_inline.AbsolutePosition.Y + dropdown_inline.AbsoluteSize.Y + 2
			)
		end)

		dropdown_inline:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()
			content_inline.Size = UDim2.new(0, dropdown_inline.AbsoluteSize.X, 0, 0)
		end)

		local content = library:create("Frame", {
			Parent = content_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local options = library:create("Frame", {
			Parent = content,
			Name = "",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -4, 1, -4),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(50, 50, 50),
		})

		local UIListLayout = library:create("UIListLayout", {
			Parent = options,
			Name = "",
			Padding = UDim.new(0, 2),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})

		local UIPadding = library:create("UIPadding", {
			Parent = options,
			Name = "",
			PaddingBottom = UDim.new(0, 4),
		})

																														
												
		function cfg.set_visible(bool)
			content_inline.Visible = bool

			icon.Text = bool and "-" or "+"
			icon.TextSize = bool and 12 or 8

			if cfg.name then
				object.ZIndex = bool and 9999 or 3
			end

			if bool then
				if library.current_element_open and library.current_element_open ~= cfg then
					library.current_element_open.set_visible(false)
					library.current_element_open.open = false
				end

				library.current_element_open = cfg
			end
		end

		function cfg.set(value)
			local selected = {}

			local is_table = type(value) == "table"

			for _, v in next, cfg.option_instances do
				if v.Text == value or (is_table and table.find(value, v.Text)) then
					table.insert(selected, v.Text)
					cfg.multi_items = selected
					v.BackgroundTransparency = 0
				else
					v.BackgroundTransparency = 1
				end
			end

			dropdown.Text = is_table and table.concat(selected, ",  ") or selected[1] or ""
			flags[cfg.flag] = is_table and selected or selected[1]
			if cfg.callback then cfg.callback(flags[cfg.flag]) end
		end

		function cfg:refresh_options(refreshed_list)
			for _, v in next, cfg.option_instances do
				v:Destroy()
			end

			cfg.option_instances = {}

			for i, v in next, refreshed_list do
				local op3 = library:create("TextButton", {
					Parent = options,
					Name = "",
					FontFace = library.font,
					TextColor3 = Color3.fromRGB(170, 170, 170),
					BorderColor3 = Color3.fromRGB(56, 56, 56),
					Text = v,
					BackgroundTransparency = 1,
					TextStrokeTransparency = 0.5,
					Size = UDim2.new(1, 0, 0, 14),
					TextXAlignment = Enum.TextXAlignment.Left,
					Position = UDim2.new(0, 2, 0, 2),
					BorderSizePixel = 0,
					TextSize = 12,
					BackgroundColor3 = Color3.fromRGB(65, 65, 65),
				})

				local UIPadding = library:create("UIPadding", {
					Parent = op3,
					Name = "",
					PaddingLeft = UDim.new(0, 5),
				})

				table.insert(cfg.option_instances, op3)

				op3.MouseButton1Down:Connect(function()
					if cfg.multi then
						local selected_index = table.find(cfg.multi_items, op3.Text)

						if selected_index then
							table.remove(cfg.multi_items, selected_index)
						else
							table.insert(cfg.multi_items, op3.Text)
						end

						cfg.set(cfg.multi_items)
					else
						cfg.set_visible(false)
						cfg.open = false

						cfg.set(op3.Text)
					end
				end)
			end

			dropdown.Text = ""
		end

		dropdown.MouseButton1Click:Connect(function()
			cfg.open = not cfg.open

			cfg.set_visible(cfg.open)
		end)

		cfg:refresh_options(cfg.items)

		cfg.set(cfg.default)

		library.config_flags[cfg.flag] = cfg.set

		return setmetatable(cfg, library)
	end

	function library:colorpicker(properties)
		local cfg = {
			name = properties.name or nil,
			flag = properties.flag or tostring(2 ^ 789),
			color = properties.color or properties.default or Color3.new(1, 1, 1), 			alpha = properties.alpha or 1,
			callback = properties.callback or function() end,
			animation = "normal",
			saved_color,
			right_holder = self.right_holder or nil,
			holder = self.holder or nil,
		}

		flags[cfg.flag] = {}

		local dragging_sat = false
		local dragging_hue = false
		local dragging_alpha = false

		local h, s, v = cfg.color:ToHSV()
		local a = cfg.alpha

				local right_components
		if cfg.name then
			local object = library:create("TextLabel", {
				Parent = self.holder,
				Name = "",
				FontFace = library.font,
				TextColor3 = Color3.fromRGB(170, 170, 170),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Text = cfg.name,
				TextStrokeTransparency = 0.5,
				Size = UDim2.new(1, -26, 0, 12),
				BorderSizePixel = 0,
				BackgroundTransparency = 1,
				TextXAlignment = Enum.TextXAlignment.Left,
				TextYAlignment = Enum.TextYAlignment.Top,
				TextSize = 12,
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			})

			right_components = library:create("Frame", {
				Parent = object,
				Name = "",
				Position = UDim2.new(1, 15, 0, 1),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 0, 1, 0),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			})

			local list = library:create("UIListLayout", {
				Parent = right_components,
				Name = "",
				FillDirection = Enum.FillDirection.Horizontal,
				HorizontalAlignment = Enum.HorizontalAlignment.Right,
				Padding = UDim.new(0, 3),
				SortOrder = Enum.SortOrder.LayoutOrder,
			})
		end

		local icon_inline = library:create("TextButton", {
			Parent = cfg.name and right_components or self.right_holder,
			Name = "",
			Text = "",
			Size = UDim2.new(0, 16, 0, 10),
			Position = UDim2.new(0, -15, 0, 1),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			ZIndex = 3,
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(9, 9, 44),
		})

		local icon = library:create("Frame", {
			Parent = icon_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(22, 22, 108),
			ZIndex = 2,
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(41, 41, 204),
		})

		local glow = library:create("ImageLabel", {
			Parent = icon_inline,
			Name = "",
			ImageColor3 = Color3.fromRGB(41, 41, 204),
			ScaleType = Enum.ScaleType.Slice,
			ImageTransparency = 0.8999999761581421,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			Image = "http://www.roblox.com/asset/?id=18245826428",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, -20, 0, -20),
			Size = UDim2.new(1, 40, 1, 40),
			ZIndex = 2,
			BorderSizePixel = 0,
			SliceCenter = Rect.new(Vector2.new(21, 21), Vector2.new(79, 79)),
		})
		
				local picker_inline = library:create("Frame", {
			Parent = library.gui,
			Name = "",
			Size = UDim2.new(0, 142, 0, 146),
			Position = dim2(0, icon_inline.AbsolutePosition.X + 1, 0, icon_inline.AbsolutePosition.Y + 17),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			ZIndex = 9999,
			BorderSizePixel = 0,
			Visible = false,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local picker = library:create("Frame", {
			Parent = picker_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local sat_inline = library:create("TextButton", {
			Parent = picker,
			Name = "",
			Text = "",
			Position = UDim2.new(0, 4, 0, 4),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, -8, 1, -50),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local sat = library:create("Frame", {
			Parent = sat_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(255, 0, 0),
		})

		local sat_white = library:create("Frame", {
			Parent = sat,
			Name = "",
			Size = UDim2.new(1, 0, 1, 0),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			ZIndex = 2,
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local UIGradient = library:create("UIGradient", {
			Parent = sat_white,
			Name = "",
			Transparency = NumberSequence.new({
				NumberSequenceKeypoint.new(0, 0),
				NumberSequenceKeypoint.new(1, 1),
			}),
		})

		local sat_black = library:create("Frame", {
			Parent = sat_white,
			Name = "",
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, 0, 1, 0),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local UIGradient = library:create("UIGradient", {
			Parent = sat_black,
			Name = "",
			Rotation = 90,
			Transparency = NumberSequence.new({
				NumberSequenceKeypoint.new(0, 1),
				NumberSequenceKeypoint.new(1, 0),
			}),
			Color = ColorSequence.new({
				ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
				ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
			}),
		})

		local sat_black_cursor = library:create("Frame", {
			Parent = sat_black,
			Name = "",
			Position = UDim2.new(0.800000011920929, 0, 0.20000000298023224, 0),
			BorderColor3 = Color3.fromRGB(108, 22, 22),
			Size = UDim2.new(0, 1, 0, 1),
			BackgroundColor3 = Color3.fromRGB(204, 41, 41),
		})

		local preview_inline = library:create("Frame", {
			Parent = picker,
			Name = "",
			Position = UDim2.new(1, -20, 1, -20),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(0, 16, 0, 16),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(35, 35, 35),
		})

		local preview = library:create("Frame", {
			Parent = preview_inline,
			Name = "",
			BackgroundTransparency = 0,
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			ZIndex = 2,
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(204, 41, 41),
		})

		local preview_image = library:create("ImageLabel", {
			Parent = preview_inline,
			Name = "",
			ScaleType = Enum.ScaleType.Tile,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Image = "http://www.roblox.com/asset/?id=18274452449",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 2, 0, 2),
			Size = UDim2.new(1, -4, 1, -4),
			TileSize = UDim2.new(0, 6, 0, 6),
			BorderSizePixel = 0,
			ZIndex = 3,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local hue_inline = library:create("TextButton", {
			Parent = picker,
			Text = "",
			Name = "",
			Position = UDim2.new(0, 4, 1, -44),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, -8, 0, 10),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local hue_border = library:create("Frame", {
			Parent = hue_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local hue = library:create("Frame", {
			Parent = hue_border,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, 0, 1, 0),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local UIGradient = library:create("UIGradient", {
			Parent = hue,
			Name = "",
			Color = ColorSequence.new({
				ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
				ColorSequenceKeypoint.new(0.16699999570846558, Color3.fromRGB(255, 255, 0)),
				ColorSequenceKeypoint.new(0.3330000042915344, Color3.fromRGB(0, 255, 0)),
				ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 255, 255)),
				ColorSequenceKeypoint.new(0.6669999957084656, Color3.fromRGB(0, 0, 255)),
				ColorSequenceKeypoint.new(0.8330000042915344, Color3.fromRGB(255, 0, 255)),
				ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
			}),
		})

		local hue_cursor = library:create("Frame", {
			Parent = hue,
			Name = "",
			BorderColor3 = Color3.fromRGB(108, 22, 22),
			Size = UDim2.new(0, 1, 1, 0),
			BackgroundColor3 = Color3.fromRGB(204, 41, 41),
		})

		local input_inline = library:create("Frame", {
			Parent = picker,
			Name = "",
			Position = UDim2.new(0, 4, 1, -20),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, -26, 0, 16),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local __input = library:create("TextBox", {
			Parent = input_inline,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = "204, 41, 41, 0.5",
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(1, -4, 1, -4),
			PlaceholderColor3 = Color3.fromRGB(90, 90, 90),
			Position = UDim2.new(0, 2, 0, 2),
			PlaceholderText = "r, g, b, a",
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local alpha_inline = library:create("TextButton", {
			Parent = picker,
			Name = "",
			Text = "",
			Position = UDim2.new(0, 4, 1, -32),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, -8, 0, 10),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local alpha = library:create("Frame", {
			Parent = alpha_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(204, 41, 41),
		})

		local alpha_image = library:create("ImageLabel", {
			Parent = alpha,
			Name = "",
			ScaleType = Enum.ScaleType.Tile,
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Image = "http://www.roblox.com/asset/?id=18343135386",
			BackgroundTransparency = 1,
			Size = UDim2.new(1, 0, 1, 0),
			TileSize = UDim2.new(0, 6, 0, 6),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local UIGradient = library:create("UIGradient", {
			Parent = alpha_image,
			Name = "",
			Transparency = NumberSequence.new({
				NumberSequenceKeypoint.new(0, 1),
				NumberSequenceKeypoint.new(1, 0),
			}),
		})

		local alpha_cursor = library:create("Frame", {
			Parent = alpha_image,
			Name = "",
			Position = UDim2.new(0.5, 0, 0, 0),
			BorderColor3 = Color3.fromRGB(108, 22, 22),
			Size = UDim2.new(0, 1, 1, 0),
			BackgroundColor3 = Color3.fromRGB(204, 41, 41),
		})

		
				local content_inline = library:create("Frame", {
			Parent = library.gui,
			Name = "",
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(0, 73, 0, 0),
			Position = dim2(0, icon_inline.AbsolutePosition.X + 20, 0, icon_inline.AbsolutePosition.Y),
			BorderSizePixel = 0,
			ZIndex = 2,
			Visible = false,
			AutomaticSize = Enum.AutomaticSize.Y,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local content = library:create("Frame", {
			Parent = content_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local options = library:create("Frame", {
			Parent = content,
			Name = "",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -4, 1, -4),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(50, 50, 50),
		})

		local UIListLayout = library:create("UIListLayout", {
			Parent = options,
			Name = "",
			Padding = UDim.new(0, 2),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})

		local normal = library:create("TextButton", {
			Parent = options,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = "normal",
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(1, 0, 0, 12),
			TextXAlignment = Enum.TextXAlignment.Left,
			Position = UDim2.new(0, 2, 0, 2),
			BorderSizePixel = 0,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(65, 65, 65),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = normal,
			Name = "",
			PaddingBottom = UDim.new(0, 1),
			PaddingLeft = UDim.new(0, 5),
		})

		local rainbow = library:create("TextButton", {
			Parent = options,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = "rainbow",
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(1, 0, 0, 12),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			Position = UDim2.new(0, 2, 0, 2),
			BorderSizePixel = 0,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(65, 65, 65),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = rainbow,
			Name = "",
			PaddingBottom = UDim.new(0, 1),
			PaddingLeft = UDim.new(0, 5),
		})

		local fade = library:create("TextButton", {
			Parent = options,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = "fade",
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(1, 0, 0, 12),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			Position = UDim2.new(0, 2, 0, 2),
			BorderSizePixel = 0,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(65, 65, 65),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = fade,
			Name = "",
			PaddingBottom = UDim.new(0, 1),
			PaddingLeft = UDim.new(0, 5),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = options,
			Name = "",
			PaddingBottom = UDim.new(0, 4),
		})

		local fade_alpha = library:create("TextButton", {
			Parent = options,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = "fade alpha",
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(1, 0, 0, 12),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			Position = UDim2.new(0, 2, 0, 2),
			BorderSizePixel = 0,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(65, 65, 65),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = fade_alpha,
			Name = "",
			PaddingBottom = UDim.new(0, 1),
			PaddingLeft = UDim.new(0, 5),
		})
		
		function cfg.set_visible(bool)
			picker_inline.Visible = bool
			content_inline.Visible = false

			if bool then
				if library.current_element_open and library.current_element_open ~= cfg then
					library.current_element_open.set_visible(false)
					library.current_element_open.open = false
				end

				library.current_element_open = cfg
			end

			picker_inline.Position = dim2(0, icon_inline.AbsolutePosition.X + 1, 0, icon_inline.AbsolutePosition.Y + 17)
			content_inline.Position = dim2(0, icon_inline.AbsolutePosition.X + 20, 0, icon_inline.AbsolutePosition.Y)
		end

		icon_inline.MouseButton1Click:Connect(function()
			cfg.open = not cfg.open

			cfg.set_visible(cfg.open)
		end)

		icon_inline.MouseButton2Click:Connect(function()
			if cfg.open then
				cfg.open = false
				cfg.set_visible(false)
			end

			content_inline.Visible = not content_inline.Visible

			picker_inline.Position = dim2(0, icon_inline.AbsolutePosition.X + 1, 0, icon_inline.AbsolutePosition.Y + 17)
			content_inline.Position = dim2(0, icon_inline.AbsolutePosition.X + 20, 0, icon_inline.AbsolutePosition.Y)
		end)

		function cfg.set(color, alpha)
			if color then
				h, s, v = color:ToHSV()
			else
				cfg.saved_color = hsv(s, s, v)
			end

			if alpha then
				a = alpha
			end

			local visual = alpha_inline:FindFirstChildOfClass("Frame")

			if not visual then
				return
			end

			local hsv_position = Color3.fromHSV(h, s, v)
			local Color = Color3.fromHSV(h, s, v)

			local value = h
			local offset = (value < 1) and 0 or -4
			hue_cursor.Position = dim2(value, offset, 0, 0)

			local offset = (a < 1) and 0 or -4
			alpha_cursor.Position = dim2(a, offset, 0, 0)

			visual.BackgroundColor3 = Color
			glow.ImageColor3 = Color

			local RGB_Format = visual.BackgroundColor3

			icon_inline.BackgroundColor3 = Color3.fromRGB(RGB_Format.R / 4, RGB_Format.G / 4, RGB_Format.B / 4)
			icon.BorderColor3 = Color3.fromRGB(
				math.floor((Color.R * 255) + 0.5) / 2,
				math.floor((Color.G * 255) + 0.5) / 2,
				math.floor((Color.B * 255) + 0.5) / 2
			)
			icon.BackgroundColor3 = Color

			__input.Text = math.floor(RGB_Format.R * 255)
				.. ", "
				.. math.floor(RGB_Format.G * 255)
				.. ", "
				.. math.floor(RGB_Format.B * 255)
				.. ", "
				.. library:round(a, 0.01)
			preview.BackgroundColor3 = Color
			preview_image.ImageTransparency = 1 - a

			sat.BackgroundColor3 = Color3.fromHSV(h, 1, 1)

			local s_offset = (s < 1) and 0 or -3
			local v_offset = (1 - v < 1) and 0 or -3
			sat_black_cursor.Position = dim2(s, s_offset, 1 - v, v_offset)

			cfg.color = Color
			cfg.alpha = a

			flags[cfg.flag] = {
				Color = Color,
				Transparency = a,
			}
			cfg.saved_color = hsv(s, s, v)

			if cfg.callback then cfg.callback(Color, a) end
		end

		__input.FocusLost:Connect(function()
			local text = __input.Text
			local r, g, b, a = library:convert_string_rgb(text)

			if r and g and b and a then
				cfg.set(rgb(r, g, b), a)
			end
		end)

		function cfg.update_color()
			local mouse = uis:GetMouseLocation()

			if dragging_sat then
				s = math.clamp(
					(vec2(mouse.X, mouse.Y - gui_offset) - sat_white.AbsolutePosition).X / sat_white.AbsoluteSize.X,
					0,
					1
				)
				v = 1
					- math.clamp(
						(vec2(mouse.X, mouse.Y - gui_offset) - sat_black.AbsolutePosition).Y / sat_black.AbsoluteSize.Y,
						0,
						1
					)
			elseif dragging_hue then
				h = 1
					- math.clamp(
						1
							- (vec2(mouse.X, mouse.Y - gui_offset) - hue_inline.AbsolutePosition).X
								/ hue_inline.AbsoluteSize.X,
						0,
						1
					)
			elseif dragging_alpha then
				a = math.clamp(
					(vec2(mouse.X, mouse.Y - gui_offset) - alpha_inline.AbsolutePosition).X / alpha_inline.AbsoluteSize.X,
					0,
					1
				)
			end

			cfg.set(nil, nil)
		end

		alpha_inline.MouseButton1Down:Connect(function()
			dragging_alpha = true
		end)

		hue_inline.MouseButton1Down:Connect(function()
			dragging_hue = true
		end)

		sat_inline.MouseButton1Down:Connect(function()
			dragging_sat = true
		end)

		cfg.saved_color = hsv(h, s, v)
		local selected = normal
		flags[cfg.flag]["animation"] = "normal"

		rainbow.MouseButton1Down:Connect(function()
			selected.BackgroundTransparency = 1
			selected = "rainbow"
			rainbow.BackgroundTransparency = 0

			flags[cfg.flag]["animation"] = "rainbow"
			cfg.saved_color = hsv(s, s, v)
		end)

		fade_alpha.MouseButton1Down:Connect(function()
			selected.BackgroundTransparency = 1
			selected = "fade_alpha"
			fade_alpha.BackgroundTransparency = 0

			flags[cfg.flag]["animation"] = "fade_alpha"
			cfg.saved_color = hsv(s, s, v)
		end)

		fade.MouseButton1Down:Connect(function()
			selected.BackgroundTransparency = 1
			selected = "fade"
			fade.BackgroundTransparency = 0

			flags[cfg.flag]["animation"] = "fade"
			cfg.saved_color = hsv(s, s, v)
		end)

		normal.MouseButton1Down:Connect(function()
			selected.BackgroundTransparency = 1
			selected = "normal"
			normal.BackgroundTransparency = 0

			flags[cfg.flag]["animation"] = "normal"
			cfg.set(cfg.saved_color)
		end)

		uis.InputEnded:Connect(function(input)
			if input.UserInputType == Enum.UserInputType.MouseButton1 then
				dragging_sat = false
				dragging_hue = false
				dragging_alpha = false
			end
		end)

		uis.InputChanged:Connect(function(input)
			if
				(dragging_sat or dragging_hue or dragging_alpha)
				and input.UserInputType == Enum.UserInputType.MouseMovement
			then
				cfg.update_color()
			end
		end)

		cfg.set(cfg.color, cfg.alpha)

		self.previous_holder = parent

		library.config_flags[cfg.flag] = cfg.set

		task.spawn(function()
			while true do
				if selected ~= "normal" then
					cfg.set(
						hsv(
							selected == "rainbow" and library.sin or h,
							selected == "rainbow" and 1 or s,
							selected == "fade" and library.sin or v
						),
						selected == "fade_alpha" and library.sin
					)
				end
				task.wait()
			end
		end)

		return setmetatable(cfg, library)
	end

	function library:keybind(properties)
		local cfg = {
			flag = properties.flag or tostring(2 ^ math.random(1, 30) * 3),
			keybind_name = properties.keybind_name or nil,
			callback = properties.callback or function() end,
			open = false,
			binding = nil,
			name = properties.name or nil,
			key = properties.default or properties.key or nil,
			mode = properties.mode or "toggle",
			active = false,
			display = properties.displayName or properties.display or properties.name or nil,
			hold_instances = {},
			parent_enabled = properties.parent_enabled or function() return true end,
		}

		flags[cfg.flag] = {}

		local key = library:new_keybind({
			text = cfg.display,
			key = cfg.key,
			mode = cfg.mode,
		})

				local right_components
		if cfg.name then
			local object = library:create("TextLabel", {
				Parent = self.holder,
				Name = "",
				FontFace = library.font,
				TextColor3 = Color3.fromRGB(170, 170, 170),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Text = cfg.name,
				TextStrokeTransparency = 0.5,
				Size = UDim2.new(1, -26, 0, 12),
				BorderSizePixel = 0,
				BackgroundTransparency = 1,
				TextXAlignment = Enum.TextXAlignment.Left,
				TextYAlignment = Enum.TextYAlignment.Top,
				TextSize = 12,
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			})

			right_components = library:create("Frame", {
				Parent = object,
				Name = "",
				Position = UDim2.new(1, 15, 0, 1),
				BorderColor3 = Color3.fromRGB(0, 0, 0),
				Size = UDim2.new(0, 0, 1, 0),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
			})

			local list = library:create("UIListLayout", {
				Parent = right_components,
				Name = "",
				FillDirection = Enum.FillDirection.Horizontal,
				HorizontalAlignment = Enum.HorizontalAlignment.Right,
				Padding = UDim.new(0, 3),
				SortOrder = Enum.SortOrder.LayoutOrder,
			})
		end

		local keybind = library:create("TextButton", {
			Parent = cfg.name and right_components or self.right_holder,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = "ERROR",
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(0, 16, 1, 0),
			BackgroundTransparency = 1,
			BorderSizePixel = 0,
			AutoButtonColor = false,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local content_inline = library:create("Frame", {
			Parent = library.gui,
			Name = "",
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(0, 57, 0, 0),
			Position = dim2(0, keybind.AbsolutePosition.X, 0, keybind.AbsolutePosition.Y - 5),
			BorderSizePixel = 0,
			ZIndex = 2,
			AutomaticSize = Enum.AutomaticSize.Y,
			Visible = false,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		keybind:GetPropertyChangedSignal("AbsolutePosition"):Connect(function()
			content_inline.Position = UDim2.new(0, keybind.AbsolutePosition.X, 0, keybind.AbsolutePosition.Y + 15)
		end)

		local content = library:create("Frame", {
			Parent = content_inline,
			Name = "",
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Size = UDim2.new(1, -4, 1, -4),
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		local options = library:create("Frame", {
			Parent = content,
			Name = "",
			BackgroundTransparency = 1,
			Position = UDim2.new(0, 2, 0, 2),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Size = UDim2.new(1, -4, 1, -4),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(50, 50, 50),
		})

		local UIListLayout = library:create("UIListLayout", {
			Parent = options,
			Name = "",
			Padding = UDim.new(0, 2),
			SortOrder = Enum.SortOrder.LayoutOrder,
		})

		local press = library:create("TextButton", {
			Parent = options,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = "press",
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(1, 0, 0, 12),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			Position = UDim2.new(0, 2, 0, 2),
			BorderSizePixel = 0,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(65, 65, 65),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = press,
			Name = "",
			PaddingBottom = UDim.new(0, 1),
			PaddingLeft = UDim.new(0, 5),
		})

		local hold = library:create("TextButton", {
			Parent = options,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = "hold",
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(1, 0, 0, 12),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			Position = UDim2.new(0, 2, 0, 2),
			BorderSizePixel = 0,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(65, 65, 65),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = hold,
			Name = "",
			PaddingBottom = UDim.new(0, 1),
			PaddingLeft = UDim.new(0, 5),
		})

		local always = library:create("TextButton", {
			Parent = options,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = "always",
			TextStrokeTransparency = 0.5,
			Size = UDim2.new(1, 0, 0, 12),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			Position = UDim2.new(0, 2, 0, 2),
			BorderSizePixel = 0,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(65, 65, 65),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = always,
			Name = "",
			PaddingBottom = UDim.new(0, 1),
			PaddingLeft = UDim.new(0, 5),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = options,
			Name = "",
			PaddingBottom = UDim.new(0, 4),
		})
		
		function cfg.set_visible(bool)
			content_inline.Visible = bool

			if bool then
				if library.current_element_open and library.current_element_open ~= cfg then
					library.current_element_open.set_visible(false)
					library.current_element_open.open = false
				end

				library.current_element_open = cfg
			end
		end

		function cfg.set_mode(mode)
			cfg.mode = mode

			if mode == "always" then
				cfg.set(true)
			elseif mode == "hold" then
				cfg.set(false)
			end

			if type(flags[cfg.flag]) == "table" and not flags[cfg.flag].update_visibility then
				flags[cfg.flag]["mode"] = cfg.mode
				flags[cfg.flag]["key"] = cfg.key
				flags[cfg.flag]["active"] = cfg.active
			end
		end

		function cfg.set(input)
			if type(input) == "boolean" then
				local __cached = input

				if cfg.mode == "always" then
					__cached = true
				end

				cfg.active = __cached
				if type(flags[cfg.flag]) == "table" and not flags[cfg.flag].update_visibility then
					flags[cfg.flag]["active"] = __cached
				end
				if cfg.callback then cfg.callback(__cached) end
			elseif tostring(input):find("Enum") then
				input = input.Name == "Escape" and "..." or input

				cfg.key = input or "..."

				local _text = keys[cfg.key] or tostring(cfg.key):gsub("Enum.", "")
				local _text2 = (tostring(_text):gsub("KeyCode.", ""):gsub("UserInputType.", "")) or "..."
				cfg.key_name = _text2

				if type(flags[cfg.flag]) == "table" and not flags[cfg.flag].update_visibility then
					flags[cfg.flag]["mode"] = cfg.mode
					flags[cfg.flag]["key"] = cfg.key
				end

				keybind.Text = "[" .. string.lower(_text2) .. "]"

				if cfg.callback then cfg.callback(cfg.active or false) end
			elseif table.find({ "toggle", "hold", "always" }, input) then
				cfg.set_mode(input)

				if input == "always" then
					cfg.active = true
				end

				if cfg.callback then cfg.callback(cfg.active or false) end
			elseif type(input) == "table" then
				input.key = type(input.key) == "string" and input.key ~= "..." and library:convert_enum(input.key)
					or input.key

				input.key = input.key == Enum.KeyCode.Escape and "..." or input.key
				cfg.key = input.key or "..."

				cfg.mode = input.mode or "toggle"

				if input.active then
					cfg.active = input.active
				end

				if type(flags[cfg.flag]) == "table" and not flags[cfg.flag].update_visibility then
					flags[cfg.flag]["mode"] = cfg.mode
					flags[cfg.flag]["key"] = cfg.key
					flags[cfg.flag]["active"] = cfg.active
				end

				local text = tostring(cfg.key) ~= "Enums" and (keys[cfg.key] or tostring(cfg.key):gsub("Enum.", "")) or nil
				local __text = text and (tostring(text):gsub("KeyCode.", ""):gsub("UserInputType.", ""))

				keybind.Text = "[" .. string.lower(__text) .. "]" or "..."
				cfg.key_name = __text
			end

			if cfg.keybind_name then
				key.change_text(keybind.Text .. " " .. cfg.display .. " (" .. cfg.mode .. ")")
				local should_show = cfg.parent_enabled()
				key.set_visible(should_show)
				key.set_active(cfg.active)
			end
		end

		local selected

		hold.MouseButton1Click:Connect(function()
			if selected then
				selected.BackgroundTransparency = 1
			end
			selected = hold
			hold.BackgroundTransparency = 0

			cfg.set_mode("hold")
			cfg.set_visible(false)
			cfg.open = false

			key.update({
				text = cfg.display,
				key = cfg.key,
				mode = cfg.mode,
			})
		end)

		press.MouseButton1Click:Connect(function()
			if selected then
				selected.BackgroundTransparency = 1
			end
			selected = press
			press.BackgroundTransparency = 0

			cfg.set_mode("toggle")
			cfg.set_visible(false)
			cfg.open = false

			key.update({
				text = cfg.display,
				key = cfg.key,
				mode = cfg.mode,
			})
		end)

		always.MouseButton1Click:Connect(function()
			if selected then
				selected.BackgroundTransparency = 1
			end
			selected = always

			always.BackgroundTransparency = 0
			cfg.set_mode("always")
			cfg.set_visible(false)
			cfg.open = false

			key.update({
				text = cfg.display,
				key = cfg.key,
				mode = cfg.mode,
			})
		end)

		keybind.MouseButton2Click:Connect(function()
			cfg.open = not cfg.open

			cfg.set_visible(cfg.open)
		end)

		keybind.MouseButton1Down:Connect(function()
			task.wait()
			keybind.Text = "..."

			cfg.binding = library:connection(uis.InputBegan, function(input, game_event)
				if input.UserInputType == Enum.UserInputType.Keyboard then
					cfg.set(input.KeyCode)
				elseif
					input.UserInputType == Enum.UserInputType.MouseButton1
					or Enum.UserInputType.MouseButton2
					or Enum.UserInputType.MouseButton3
				then
					
					cfg.set(input.UserInputType)
				end

				key.update({
					text = cfg.display,
					key = cfg.key,
					mode = cfg.mode,
				})
				cfg.binding:Disconnect()
				cfg.binding = nil
			end)
		end)

		library:connection(uis.InputBegan, function(input, game_event)
			if not game_event then
				if input.UserInputType == Enum.UserInputType.Keyboard then
					if input.KeyCode == cfg.key then
						if cfg.mode == "toggle" then
							toggled = not toggled
							cfg.set(toggled)
						elseif cfg.mode == "hold" then
							cfg.set(true)
						end
					end
				else
					if input.UserInputType == cfg.key then
						if cfg.mode == "toggle" then
							toggled = not toggled
							cfg.set(toggled)
						elseif cfg.mode == "hold" then
							cfg.set(true)
						end
					end
				end
			end
		end)

		library:connection(uis.InputEnded, function(input, game_event)
			if game_event then
				return
			end

			local selected_key = input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode or input.UserInputType

			if selected_key == cfg.key then
				if cfg.mode == "hold" then
					cfg.set(false)
				end
			end
		end)

		cfg.set({ mode = cfg.mode, active = cfg.active, key = cfg.key })
		key.update({
			text = cfg.display,
			key = cfg.key,
			mode = cfg.mode,
		})

		function cfg.update_visibility()
			if cfg.keybind_name then
				local should_show = cfg.parent_enabled()
				key.set_visible(should_show)
				key.set_active(cfg.active)
			end
		end

		library.config_flags[cfg.flag] = cfg.set
		flags[cfg.flag] = cfg 
				if cfg.keybind_name then
			cfg.update_visibility()
		end

		return setmetatable(cfg, library)
	end

	function library:button(properties)
		local cfg = {
			callback = properties.callback or function() end,
			name = properties.text or properties.name or "Button",
		}

		local button_inline = library:create("Frame", {
			Parent = self.holder,
			Name = "",
			Position = UDim2.new(0, -15, 0, 2),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, -26, 0, 16),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local button = library:create("TextButton", {
			Parent = button_inline,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = cfg.name,
			TextStrokeTransparency = 0.5,
			Position = UDim2.new(0, 2, 0, 2),
			Size = UDim2.new(1, -4, 1, -4),
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		button.MouseButton1Click:Connect(function()
			if cfg.callback then cfg.callback() end
		end)

		return setmetatable(cfg, library)
	end

	function library:textbox(properties)
		local cfg = {
			placeholder = properties.placeholder
				or properties.placeholdertext
				or properties.holder
				or properties.holdertext
				or "type here...",
			default = properties.default,
			clear_on_focus = properties.clearonfocus or false,
			flag = properties.flag or "...",
			callback = properties.callback or function() end,
		}

		local textbox_inline = library:create("Frame", {
			Parent = self.holder,
			Name = "",
			Position = UDim2.new(0, -15, 0, 2),
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			Size = UDim2.new(1, -26, 0, 16),
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(8, 8, 8),
		})

		local textbox = library:create("TextBox", {
			Parent = textbox_inline,
			Name = "",
			FontFace = library.font,
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(56, 56, 56),
			Text = "",
			TextStrokeTransparency = 0.5,
			Position = UDim2.new(0, 2, 0, 2),
			Size = UDim2.new(1, -4, 1, -4),
			ClearTextOnFocus = cfg.clear_on_focus,
			PlaceholderColor3 = Color3.fromRGB(90, 90, 90),
			CursorPosition = -1,
			PlaceholderText = cfg.placeholder,
			TextSize = 12,
			BackgroundColor3 = Color3.fromRGB(38, 38, 38),
		})

		textbox:GetPropertyChangedSignal("Text"):Connect(function()
			flags[cfg.flag] = textbox.text
			if cfg.callback then cfg.callback(textbox.text) end
		end)

		function cfg.set(text)
			flags[cfg.flag] = text
			textbox.Text = text
			if cfg.callback then cfg.callback(text) end
		end

		if cfg.default then
			cfg.set(cfg.default)
		end

		library.config_flags[cfg.flag] = cfg.set

		return setmetatable(cfg, library)
	end

	function library:panel(properties)
		if library.__panel == true then
			return
		end

		library.__panel = true

		local cfg = {
			name = properties.name or "Are you sure?",
			options = properties.options or { "Confirm", "Discard" },
			callback = properties.callback or function() end,
		}

		local panel_main_frame = library:create("Frame", {
			Parent = library.gui,
			Name = "",
			BackgroundTransparency = 0.4000000059604645,
			Size = UDim2.new(1, 0, 1, 0),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			ZIndex = 3,
			BorderSizePixel = 0,
			BackgroundColor3 = Color3.fromRGB(0, 0, 0),
		})

		local holder = library:create("Frame", {
			Parent = panel_main_frame,
			Name = "",
			BorderColor3 = Color3.fromRGB(19, 19, 19),
			AnchorPoint = Vector2.new(0.5, 0.5),
			BackgroundTransparency = 1,
			Position = UDim2.new(0.5, 0, 0.5, 0),
			ZIndex = 4,
			AutomaticSize = Enum.AutomaticSize.XY,
			BackgroundColor3 = Color3.fromRGB(40, 40, 40),
		})

		local inline1 = library:create("Frame", {
			Parent = holder,
			Name = "",
			BorderColor3 = Color3.fromRGB(8, 8, 8),
			AutomaticSize = Enum.AutomaticSize.XY,
			BackgroundColor3 = Color3.fromRGB(56, 56, 56),
		})

		local main = library:create("Frame", {
			Parent = inline1,
			Name = "",
			Position = UDim2.new(0, 4, 0, 4),
			BorderColor3 = Color3.fromRGB(26, 26, 26),
			Size = UDim2.new(1, -8, 1, -8),
			BorderSizePixel = 2,
			BackgroundColor3 = Color3.fromRGB(26, 26, 26),
		})

		local UIStroke = library:create("UIStroke", {
			Parent = main,
			Name = "",
			Color = Color3.fromRGB(57, 57, 57),
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local tabs = library:create("Frame", {
			Parent = main,
			Name = "",
			Position = UDim2.new(0, 8, 0, 8),
			BorderColor3 = Color3.fromRGB(8, 8, 8),
			Size = UDim2.new(1, -16, 1, -16),
			BorderSizePixel = 2,
			BackgroundColor3 = Color3.fromRGB(22, 22, 22),
		})

		local UIStroke = library:create("UIStroke", {
			Parent = tabs,
			Name = "",
			Color = Color3.fromRGB(57, 57, 57),
			LineJoinMode = Enum.LineJoinMode.Miter,
		})

		local UIPadding = library:create("UIPadding", {
			Parent = tabs,
			Name = "",
			PaddingTop = UDim.new(0, 5),
			PaddingBottom = UDim.new(0, 22),
			PaddingRight = UDim.new(0, 20),
			PaddingLeft = UDim.new(0, 20),
		})

		local aimbot = library:create("TextLabel", {
			Parent = tabs,
			Name = "",
			FontFace = library.font,
			LineHeight = 1.2000000476837158,
			TextStrokeTransparency = 0.5,
			AnchorPoint = Vector2.new(0.5, 0),
			TextSize = 12,
			Size = UDim2.new(0, 0, 0, 11),
			TextColor3 = Color3.fromRGB(170, 170, 170),
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			Text = cfg.name,
			BackgroundTransparency = 1,
			Position = UDim2.new(0.5, 0, 0, 8),
			BorderSizePixel = 0,
			TextYAlignment = Enum.TextYAlignment.Top,
			AutomaticSize = Enum.AutomaticSize.XY,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = aimbot,
			Name = "",
			PaddingTop = UDim.new(0, 6),
		})

		local UIListLayout = library:create("UIListLayout", {
			Parent = tabs,
			Name = "",
			SortOrder = Enum.SortOrder.LayoutOrder,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			Padding = UDim.new(0, 4),
		})

		local Frame = library:create("Frame", {
			Parent = tabs,
			Name = "",
			BorderColor3 = Color3.fromRGB(0, 0, 0),
			BorderSizePixel = 0,
			AutomaticSize = Enum.AutomaticSize.Y,
			BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		})

		local UIListLayout = library:create("UIListLayout", {
			Parent = Frame,
			Name = "",
			SortOrder = Enum.SortOrder.LayoutOrder,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			Padding = UDim.new(0, 3),
		})

		local UIPadding = library:create("UIPadding", {
			Parent = Frame,
			Name = "",
		})

																		
																														
		for _, v in next, cfg.options do
			local button_inline = library:create("Frame", {
				Parent = Frame,
				Name = "",
				Position = UDim2.new(0, 0, 0, 4),
				BorderColor3 = Color3.fromRGB(19, 19, 19),
				Size = UDim2.new(0, 130, 0, 16),
				BorderSizePixel = 0,
				BackgroundColor3 = Color3.fromRGB(8, 8, 8),
			})

			local button = library:create("TextButton", {
				Parent = button_inline,
				Name = "",
				FontFace = library.font,
				TextColor3 = Color3.fromRGB(170, 170, 170),
				BorderColor3 = Color3.fromRGB(56, 56, 56),
				Text = v,
				TextStrokeTransparency = 0.5,
				Position = UDim2.new(0, 2, 0, 2),
				Size = UDim2.new(1, -4, 1, -4),
				TextSize = 12,
				BackgroundColor3 = Color3.fromRGB(38, 38, 38),
			})

			button.MouseButton1Click:Connect(function()
				if cfg.callback then cfg.callback(v) end
				panel_main_frame:Destroy()
				library.__panel = false
			end)
		end
	end
		
		function library:init()
				library.gui = library:create("ScreenGui", {
			Parent = coregui,
			Name = http_service:GenerateGUID(false),
			ZIndexBehavior = Enum.ZIndexBehavior.Sibling,
			IgnoreGuiInset = true,
			ResetOnSpawn = false,
		})

				local window = library:window({
			name = "Skeet.hmm",
			size = dim2(0, 500, 0, 580),
		})

				local visuals_tab = window:tab({
			name = "Visuals",
		})

		local aim_tab = window:tab({
			name = "Aim Hacks",
		})

		local player_tab = window:tab({
			name = "Player",
		})

		local desync_tab = window:tab({
			name = "Desync",
		})

		local gui_tab = window:tab({
			name = "GUI Settings",
		})

				local esp_section = visuals_tab:section({
			name = "ESP",
			side = "left",
		})

		local highlight_esp_section = visuals_tab:section({
			name = "Highlight ESP",
			side = "right",
		})

		local world_section = visuals_tab:section({
			name = "World",
			side = "right",
		})

		local material_section = visuals_tab:section({
			name = "Material Changer",
			side = "left",
		})

		local screen_section = visuals_tab:section({
			name = "Screen",
			side = "right",
		})

		local hitpack_section = visuals_tab:section({
			name = "Hit Pack",
			side = "left",
		})

				local player_section = player_tab:section({
			name = "Character",
			side = "left",
		})

		local movement_section = player_tab:section({
			name = "Movement",
			side = "right",
		})

		local protection_section = player_tab:section({
			name = "Protection",
			side = "left",
		})

		local autobuy_section = player_tab:section({
			name = "Autobuy",
			side = "right",
		})

		local animation_section = player_tab:section({
			name = "Animations",
			side = "left",
		})

		local ragdoll_section = player_tab:section({
			name = "Ragdoll",
			side = "right",
		})

				local desync_section = desync_tab:section({
			name = "Velocity Desync",
			side = "left",
		})

		local network_section = desync_tab:section({
			name = "Network",
			side = "right",
		})

		local fakepos_section = desync_tab:section({
			name = "Fake Position",
			side = "left",
		})

		local spinbot_section = desync_tab:section({
			name = "Spinbot",
			side = "right",
		})

		local visualize_hrp_section = desync_tab:section({
			name = "Visualize Server HRP",
			side = "left",
		})

				local gui_settings_section = gui_tab:section({
			name = "Interface",
			side = "left",
		})

		local config_section = gui_tab:section({
			name = "Configuration",
			side = "right",
		})

				local silent_aim_section = aim_tab:section({
			name = "Silent Aim",
			side = "left",
		})

		local camera_lock_section = aim_tab:section({
			name = "Camera Lock",
			side = "left",
		})

		local fov_section = aim_tab:section({
			name = "Silent Aim FOV",
			side = "right",
		})

		local camera_fov_section = aim_tab:section({
			name = "Camera Lock FOV",
			side = "right",
		})

		local magic_bullet_section = aim_tab:section({
			name = "Magic Bullet",
			side = "left",
		})

		local magic_fov_section = aim_tab:section({
			name = "Magic Bullet FOV",
			side = "right",
		})

		local kill_aura_section = aim_tab:section({
			name = "Kill Aura",
			side = "left",
		})

		local target_aim_section = aim_tab:section({
			name = "Target Aim",
			side = "left",
		})

		local target_aim_settings_section = aim_tab:section({
			name = "Target Aim Settings",
			side = "right",
		})

								do
						local function setup_player_esp(player)
			local function on_character_added(character)
				task.wait(0.5) 				if character and character.Parent then
					library.esp.add_box(character)
					library.esp.add_healthbar(character)
					library.esp.add_armorbar(character)
					library.esp.add_name(character)
					library.esp.add_distance(character)
					library.esp.add_tracer(character)
					library.esp.add_highlight(character)
				end
			end

			if player.Character then
				on_character_added(player.Character)
			end
			player.CharacterAdded:Connect(on_character_added)
		end

				for _, player in pairs(players:GetPlayers()) do
			if player ~= lp then
				setup_player_esp(player)
			end
		end

				players.PlayerAdded:Connect(function(player)
			setup_player_esp(player)
		end)

		esp_section:toggle({
			name = "Box ESP",
			flag = "box_esp",
			callback = function(value)
				library.esp.box.enabled = value
			end,
		})

		esp_section:dropdown({
			name = "Box Type",
			flag = "box_type",
			items = {"normal", "corner"},
			callback = function(value)
				library.esp.box.type = value
			end,
		})

		esp_section:colorpicker({
			name = "Box Color",
			flag = "box_color",
			default = rgb(255, 255, 255),
			callback = function(color)
				library.esp.box.fill = color
			end,
		})

		esp_section:toggle({
			name = "Health Bar",
			flag = "health_bar",
			callback = function(value)
				library.esp.healthbar.enabled = value
			end,
		})

		esp_section:colorpicker({
			name = "Health Color",
			flag = "health_color",
			default = rgb(0, 255, 0),
			callback = function(color)
				library.esp.healthbar.fill = color
			end,
		})

		esp_section:toggle({
			name = "Armor Bar",
			flag = "armor_bar",
			callback = function(value)
				library.esp.armorbar.enabled = value
			end,
		})

		esp_section:colorpicker({
			name = "Armor Color",
			flag = "armor_color",
			default = rgb(0, 128, 255),
			callback = function(color)
				library.esp.armorbar.fill = color
			end,
		})

		esp_section:toggle({
			name = "Name ESP",
			flag = "name_esp",
			callback = function(value)
				library.esp.name.enabled = value
			end,
		})

		esp_section:colorpicker({
			name = "Name Color",
			flag = "name_color",
			default = rgb(255, 255, 255),
			callback = function(color)
				library.esp.name.fill = color
			end,
		})

		esp_section:toggle({
			name = "Distance ESP",
			flag = "distance_esp",
			callback = function(value)
				library.esp.distance.enabled = value
			end,
		})

		esp_section:colorpicker({
			name = "Distance Color",
			flag = "distance_color",
			default = rgb(255, 255, 255),
			callback = function(color)
				library.esp.distance.fill = color
			end,
		})

		esp_section:toggle({
			name = "Tracers",
			flag = "tracers",
			callback = function(value)
				library.esp.tracer.enabled = value
			end,
		})

		esp_section:dropdown({
			name = "Tracer From",
			flag = "tracer_from",
			items = {"mouse", "bottom", "center", "top"},
			callback = function(value)
				library.esp.tracer.from = value
			end,
		})

		esp_section:colorpicker({
			name = "Tracer Color",
			flag = "tracer_color",
			default = rgb(255, 255, 255),
			callback = function(color)
				library.esp.tracer.fill = color
			end,
		})

		highlight_esp_section:toggle({
			name = "Enable Highlight",
			flag = "highlight_esp",
			callback = function(value)
				library.esp.highlight.enabled = value
			end,
		})

		highlight_esp_section:colorpicker({
			name = "Fill Color",
			flag = "highlight_fill_color",
			default = rgb(173, 216, 230),
			callback = function(color)
				library.esp.highlight.fill_color = color
			end,
		})

		highlight_esp_section:colorpicker({
			name = "Outline Color",
			flag = "highlight_outline_color",
			default = rgb(255, 255, 255),
			callback = function(color)
				library.esp.highlight.outline_color = color
			end,
		})

		highlight_esp_section:slider({
			name = "Fill Transparency",
			flag = "highlight_fill_transparency",
			min = 0,
			max = 1,
			decimals = 0.1,
			default = 0.5,
			callback = function(value)
				library.esp.highlight.fill_transparency = value
			end,
		})

		highlight_esp_section:slider({
			name = "Outline Transparency",
			flag = "highlight_outline_transparency",
			min = 0,
			max = 1,
			decimals = 0.1,
			default = 0,
			callback = function(value)
				library.esp.highlight.outline_transparency = value
			end,
		})

		world_section:toggle({
			name = "Enable World Mods",
			flag = "world_mods",
			callback = function(value)
				library.world_mods_enabled = value
				if not value then
										lighting.Ambient = library.default_lighting.ambient
					lighting.OutdoorAmbient = library.default_lighting.outdoor_ambient
					lighting.ExposureCompensation = library.default_lighting.exposure
					lighting.FogStart = library.default_lighting.fog_start
					lighting.FogEnd = library.default_lighting.fog_end
					lighting.FogColor = library.default_lighting.fog_color
					lighting.Brightness = library.default_lighting.brightness
					lighting.ClockTime = library.default_lighting.clock_time
				end
			end,
		})

		world_section:colorpicker({
			name = "Ambient Color",
			flag = "ambient_color",
			default = rgb(0, 0, 0),
			callback = function(color)
				library.world_settings.ambient = color
			end,
		})

		world_section:colorpicker({
			name = "Outdoor Ambient",
			flag = "outdoor_ambient_color",
			default = rgb(80, 120, 200),
			callback = function(color)
				library.world_settings.outdoor_ambient = color
			end,
		})

		world_section:slider({
			name = "Fog Start",
			flag = "fog_start",
			min = 0,
			max = 1000,
			default = 0,
			callback = function(value)
				library.world_settings.fog_start = value
			end,
		})

		world_section:slider({
			name = "Fog End",
			flag = "fog_end",
			min = 0,
			max = 10000,
			default = 1000,
			callback = function(value)
				library.world_settings.fog_end = value
			end,
		})

		world_section:colorpicker({
			name = "Fog Color",
			flag = "fog_color",
			default = rgb(80, 120, 200),
			callback = function(color)
				library.world_settings.fog_color = color
			end,
		})

		world_section:slider({
			name = "Brightness",
			flag = "brightness",
			min = 0,
			max = 10,
			default = 0,
			callback = function(value)
				library.world_settings.brightness = value
			end,
		})

		world_section:slider({
			name = "Clock Time",
			flag = "clock_time",
			min = 0,
			max = 24,
			default = 0,
			callback = function(value)
				library.world_settings.clock_time = value
			end,
		})

		world_section:slider({
			name = "Exposure",
			flag = "exposure",
			min = -5,
			max = 5,
			default = 0,
			callback = function(value)
				library.world_settings.exposure = value
			end,
		})

		world_section:toggle({
			name = "Skybox Changer",
			flag = "skybox_enabled",
			callback = function(value)
				library.world_settings.skybox_enabled = value
				if not value then
										local lighting = game:GetService("Lighting")
					local sky = lighting:FindFirstChildOfClass("Sky")
					if sky then
						sky:Destroy()
					end
				end
			end,
		})

		world_section:dropdown({
			name = "Skybox",
			flag = "selected_skybox",
			default = "Sunset",
			items = {
				"Sunset",
				"Night Sky 1",
				"Evening",
				"Purple Nebula",
				"Night Sky 2",
				"Pink Daylight",
				"Morning Glow",
				"Chill",
				"Setting Sun",
				"Fade Blue",
				"Twilight",
				"Elegant Morning",
				"Neptune",
				"Redshift",
				"Aesthetic Night"
			},
			callback = function(value)
				library.world_settings.selected_skybox = value
			end,
		})

		world_section:toggle({
			name = "Color Correction",
			flag = "color_correction_enabled",
			callback = function(value)
				library.world_settings.color_correction_enabled = value
			end,
		})

		world_section:slider({
			name = "CC Brightness",
			flag = "cc_brightness",
			min = -100,
			max = 100,
			default = 0,
			callback = function(value)
				library.world_settings.color_correction_brightness = value
			end,
		})

		world_section:slider({
			name = "CC Contrast",
			flag = "cc_contrast",
			min = -100,
			max = 100,
			default = 0,
			callback = function(value)
				library.world_settings.color_correction_contrast = value
			end,
		})

		world_section:slider({
			name = "CC Saturation",
			flag = "cc_saturation",
			min = -100,
			max = 100,
			default = 0,
			callback = function(value)
				library.world_settings.color_correction_saturation = value
			end,
		})

		world_section:toggle({
			name = "Global Shadows",
			flag = "global_shadows",
			callback = function(value)
				library.world_settings.global_shadows = value
			end,
		})

		world_section:dropdown({
			name = "Technology",
			flag = "lighting_technology",
			default = "Legacy",
			items = {
				"Legacy",
				"Voxel",
				"ShadowMap",
				"Future"
			},
			callback = function(value)
				library.world_settings.technology = value
			end,
		})

		world_section:toggle({
			name = "Snow Effect",
			flag = "snow_enabled",
			callback = function(value)
				library.world_settings.snow_enabled = value
				if value then
					createSnowEffect()
				else
					removeSnowEffect()
				end
			end,
		})

				material_section:toggle({
			name = "Tool Material",
			flag = "tool_material_enabled",
			callback = function(value)
				library.tool_material.enabled = value
				if value then
										local character = lp.Character
					if character then
						local tool = character:FindFirstChildWhichIsA("Tool")
						if tool then
							apply_tool_material(tool)
						end
					end
				else
										restore_tool_materials()
				end
			end,
		})

		material_section:dropdown({
			name = "Tool Material Type",
			flag = "tool_material_type",
			items = {"ForceField", "Neon", "Glass", "Plastic", "SmoothPlastic", "Metal", "DiamondPlate", "Granite", "Marble", "Concrete"},
			default = "ForceField",
			callback = function(value)
				library.tool_material.material = value
				if library.tool_material.enabled then
					local character = lp.Character
					if character then
						local tool = character:FindFirstChildWhichIsA("Tool")
						if tool then
							apply_tool_material(tool)
						end
					end
				end
			end,
		})

		material_section:colorpicker({
			name = "Tool Color",
			flag = "tool_material_color",
			default = rgb(255, 255, 255),
			callback = function(color)
				library.tool_material.color = color
				if library.tool_material.enabled then
					local character = lp.Character
					if character then
						local tool = character:FindFirstChildWhichIsA("Tool")
						if tool then
							apply_tool_material(tool)
						end
					end
				end
			end,
		})

		material_section:toggle({
			name = "Player Material",
			flag = "player_material_enabled",
			callback = function(value)
				library.player_material.enabled = value
				if value then
					local character = lp.Character
					if character then
						apply_player_material(character)
					end
				else
										restore_player_materials()
				end
			end,
		})

		material_section:dropdown({
			name = "Player Material Type",
			flag = "player_material_type",
			items = {"ForceField", "Neon", "Glass", "Plastic", "SmoothPlastic", "Metal", "DiamondPlate", "Granite", "Marble", "Concrete"},
			default = "ForceField",
			callback = function(value)
				library.player_material.material = value
				if library.player_material.enabled then
					local character = lp.Character
					if character then
						apply_player_material(character)
					end
				end
			end,
		})

		material_section:colorpicker({
			name = "Player Color",
			flag = "player_material_color",
			default = rgb(255, 255, 255),
			callback = function(color)
				library.player_material.color = color
				if library.player_material.enabled then
					local character = lp.Character
					if character then
						apply_player_material(character)
					end
				end
			end,
		})

				screen_section:toggle({
			name = "FOV Changer",
			flag = "fov_changer_enabled",
			callback = function(value)
				library.screen.fov_changer_enabled = value
				if not value then
					camera.FieldOfView = 70
				else
					camera.FieldOfView = library.screen.fov_changer
				end
			end,
		})

		screen_section:slider({
			name = "FOV",
			flag = "fov_changer",
			min = 1,
			max = 120,
			default = 70,
			callback = function(value)
				library.screen.fov_changer = value
				if library.screen.fov_changer_enabled then
					camera.FieldOfView = value
				end
			end,
		})

		screen_section:toggle({
			name = "Resolution Changer",
			flag = "resolution_changer_enabled",
			callback = function(value)
				library.screen.resolution_changer_enabled = value
			end,
		})

		screen_section:slider({
			name = "Resolution X",
			flag = "resolution_x",
			min = 1,
			max = 100,
			default = 100,
			callback = function(value)
				library.screen.resolution_x = value
			end,
		})

		screen_section:slider({
			name = "Resolution Y",
			flag = "resolution_y",
			min = 1,
			max = 100,
			default = 100,
			callback = function(value)
				library.screen.resolution_y = value
			end,
		})

		screen_section:toggle({
			name = "Rotate Tool",
			flag = "rotate_tool_enabled",
			callback = function(value)
				library.rotate_tool.enabled = value
			end,
		})

		screen_section:slider({
			name = "Tool Rotation Speed",
			flag = "rotate_tool_speed",
			min = 1,
			max = 360,
			default = 60,
			callback = function(value)
				library.rotate_tool.speed = value
			end,
		})

				hitpack_section:toggle({
			name = "Hit Detection",
			flag = "hit_detection",
			callback = function(value)
				library.hitpack.hit_detection = value
			end,
		})

		hitpack_section:toggle({
			name = "Hit Indicator",
			flag = "hit_indicator",
			callback = function(value)
				library.hitpack.hit_indicator = value
			end,
		})

		hitpack_section:dropdown({
			name = "Hit Indicator Animation",
			flag = "hit_indicator_animation",
			default = "Bounce",
			items = {
				"None",
				"Gelatine",
				"Spin",
				"Elastic Spin",
				"Pulse",
				"Flash",
				"Hi There",
				"Grow",
				"Fade In",
				"Fade Out",
				"Bounce",
				"Bounce 2",
				"Shake",
				"Flip",
				"Swing",
				"Wobble",
				"Fade In Down",
				"Fade In Left",
				"Fade Out Down",
				"Fade Out Right",
				"Bounce In",
				"Bounce In Right",
				"Bounce Out",
				"Bounce Out Down",
				"Rotate In Down Left",
				"Rotate In Up Left",
				"Hinge",
				"Roll In",
				"Roll Out"
			},
			callback = function(value)
				library.hitpack.hit_indicator_animation = value
			end,
		})

		hitpack_section:toggle({
			name = "Hit Sounds",
			flag = "hit_sounds",
			callback = function(value)
				library.hitpack.hit_sounds = value
			end,
		})

		hitpack_section:dropdown({
			name = "Hit Sound",
			flag = "selected_hit_sound",
			default = "Skeet",
			items = {
				"Bameware",
				"Bell",
				"Bubble",
				"Pick",
				"Pop",
				"Rust",
				"Sans",
				"Fart",
				"Big",
				"Vine",
				"Bruh",
				"Skeet",
				"Neverlose",
				"Fatality",
				"Bonk",
				"Minecraft"
			},
			callback = function(value)
				library.hitpack.selected_hit_sound = value
			end,
		})

		hitpack_section:toggle({
			name = "Hit Effects",
			flag = "hit_effects",
			callback = function(value)
				library.hitpack.hit_effect = value
			end,
		})

		hitpack_section:dropdown({
			name = "Hit Effect",
			flag = "selected_hit_effect",
			default = "Nova",
			items = {
				"Nova",
				"Blood",
				"Glitch",
				"Slash",
				"Cosmic",
				"CrescentSlash"
			},
			callback = function(value)
				library.hitpack.selected_hit_effect = value
			end,
		})

				local hit_notifications_section = visuals_tab:section({
			name = "Hit Notifications",
			side = "right",
		})

		hit_notifications_section:toggle({
			name = "Enable Hit Notifications",
			flag = "hit_notifications_enabled",
			callback = function(value)
				library.hitpack.hit_notifications_enabled = value
			end,
		})

		hit_notifications_section:dropdown({
			name = "Notification Type",
			flag = "hit_notification_type",
			items = {"Console Output", "GUI Notification", "Screen Text"},
			default = "Console Output",
			callback = function(value)
				library.hitpack.hit_notification_type = value
			end,
		})

		hit_notifications_section:dropdown({
			name = "Screen Text Animation",
			flag = "hit_notification_animation",
			default = "Bounce",
			items = {
				"None",
				"Bounce",
				"Fade In",
				"Slide In",
				"Grow",
				"Pulse",
				"Shake"
			},
			callback = function(value)
				library.hitpack.hit_notification_animation = value
			end,
		})
		end 
								do
				movement_section:toggle({
			name = "Enable Flight",
			flag = "flight_enabled",
			callback = function(value)
				library.flight.enabled = value
				if value then
					setup_flight_connections()
				else
										for _, connection in pairs(flight_connections) do
						if typeof(connection) == "RBXScriptConnection" and connection.Connected then
							connection:Disconnect()
						end
					end
					flight_connections = {}
				end
								if flags.flight_key and flags.flight_key.update_visibility then
					flags.flight_key.update_visibility()
				end
			end,
		})

		movement_section:slider({
			name = "Flight Speed",
			flag = "flight_speed",
			min = 1,
			max = 10,
			default = 3,
			callback = function(value)
				library.flight.speed = value
			end,
		})

		movement_section:keybind({
			name = "Flight Key",
			flag = "flight_key",
			default = Enum.KeyCode.X,
			mode = "toggle",
			keybind_name = "flight",
			parent_enabled = function() return library.flight.enabled end,
			callback = function(active)
				if library.flight.enabled then
					library.flight.active = active
				end
			end,
		})

		movement_section:toggle({
			name = "Enable CFrame Speed",
			flag = "cframe_speed_enabled",
			callback = function(value)
				library.cframe_speed.enabled = value
				if not value then
					library.cframe_speed.active = false
				end
								if flags.cframe_speed_key and flags.cframe_speed_key.update_visibility then
					flags.cframe_speed_key.update_visibility()
				end
			end,
		})

		movement_section:slider({
			name = "CFrame Speed",
			flag = "cframe_speed_value",
			min = 1,
			max = 100,
			default = 10,
			callback = function(value)
				library.cframe_speed.speed = value
			end,
		})

		movement_section:keybind({
			name = "CFrame Speed Key",
			flag = "cframe_speed_key",
			default = Enum.KeyCode.G,
			mode = "toggle",
			keybind_name = "cframe speed",
			parent_enabled = function() return library.cframe_speed.enabled end,
			callback = function(active)
				if library.cframe_speed.enabled then
					library.cframe_speed.active = active
				end
			end,
		})

		movement_section:toggle({
			name = "Enable Walkspeed",
			flag = "walkspeed_enabled",
			callback = function(value)
				library.walkspeed.enabled = value
				if not value then
					if library.walkspeed.active then
						disable_walkspeed()
						library.walkspeed.active = false
					end
				end
								if flags.walkspeed_key and flags.walkspeed_key.update_visibility then
					flags.walkspeed_key.update_visibility()
				end
			end,
		})

		movement_section:slider({
			name = "Walkspeed",
			flag = "walkspeed_value",
			min = 16,
			max = 200,
			default = 50,
			callback = function(value)
				library.walkspeed.speed = value
				if library.walkspeed.active then
					update_walkspeed()
				end
			end,
		})

		movement_section:keybind({
			name = "Walkspeed Key",
			flag = "walkspeed_key",
			default = Enum.KeyCode.V,
			mode = "toggle",
			keybind_name = "walkspeed",
			parent_enabled = function() return library.walkspeed.enabled end,
			callback = function(active)
				if active then
					if library.walkspeed.enabled then
						enable_walkspeed()
					end
				else
					disable_walkspeed()
				end
			end,
		})

				protection_section:toggle({
			name = "Admin Detection",
			flag = "admin_detection",
			callback = function(value)
				library.protection.admin_detection = value
				if value then
										for _, player in ipairs(players:GetPlayers()) do
						if player ~= lp then
							check_if_admin(player)
						end
					end
				end
			end,
		})

		protection_section:toggle({
			name = "Anti RPG",
			flag = "anti_rpg",
			callback = function(value)
				library.protection.anti_rpg = value
			end,
		})

		protection_section:toggle({
			name = "Anti Fling",
			flag = "anti_fling",
			callback = function(value)
				library.protection.anti_fling = value
			end,
		})

		protection_section:toggle({
			name = "No Jump Cooldown",
			flag = "no_jump_cooldown",
			callback = function(value)
				library.protection.no_jump_cooldown = value
			end,
		})

				autobuy_section:dropdown({
			name = "Select Gun",
			flag = "autobuy_gun",
			items = {
				'[Rifle]',
				'[LMG]',
				'[AK47]',
				'[AUG]',
				'[AR]',
				'[Double-Barrel SG]',
				'[Drum-Shotgun]',
				'[DrumGun]',
				'[Glock]',
				'[P90]',
				'[Revolver]',
				'[RPG]',
				'[Shotgun]',
				'[Silencer]',
				'[SilencerAR]',
				'[TacticalShotgun]',
			},
			default = "[Rifle]",
			scrolling = true,
			callback = function(value)
				library.autobuy.selected_gun = value
			end,
		})

		autobuy_section:button({
			name = "Buy Selected Gun",
			callback = function()
				library.autobuy.buying_single = true
			end,
		})

		autobuy_section:toggle({
			name = "Buy Ammo",
			flag = "buy_ammo",
			callback = function(value)
				library.autobuy.buy_ammo = value
			end,
		})

		autobuy_section:toggle({
			name = "Auto Loadout",
			flag = "auto_loadout",
			callback = function(value)
				library.autobuy.auto_loadout = value
			end,
		})

		autobuy_section:toggle({
			name = "Auto Armor",
			flag = "auto_armor",
			callback = function(value)
				library.autobuy.auto_armor = value
			end,
		})

				player_section:toggle({
			name = "Enable Avatar Changer",
			flag = "avatar_changer_enabled",
			callback = function(value)
				library.avatar_changer.enabled = value
				if value then
					apply_avatar()
				else
										local character = lp.Character
					if character then
						local humanoid = character:FindFirstChild("Humanoid")
						if humanoid then
							local success, description = pcall(players.GetHumanoidDescriptionFromUserId, players, lp.UserId)
							if success then
								humanoid:ApplyDescriptionClientServer(description)
							end
						end
					end
				end
			end,
		})

		player_section:dropdown({
			name = "Select Avatar",
			flag = "avatar_selection",
			items = {"Nex5us", "dtbbullet", "asdfxdheh", "u5eful", "leaf10p", "luaClass", "HellaBitcoin", "kenami"},
			default = "Nex5us",
			callback = function(value)
				library.avatar_changer.user_id = avatar_ids[value] or 244844600
				if library.avatar_changer.enabled then
					apply_avatar()
				end
			end,
		})

		player_section:toggle({
			name = "Animation Player",
			flag = "animation_player_enabled",
			callback = function(value)
				library.animation_player.enabled = value
				if value and animationTrack then
					animationTrack:Play()
					animationTrack:AdjustSpeed(library.animation_player.speed)
					isPlaying = true
				elseif not value and animationTrack then
					animationTrack:Stop()
					isPlaying = false
				end
			end,
		})

		player_section:dropdown({
			name = "Animation",
			flag = "animation_selection",
			items = {
				"Baby Queen - Bouncy Twirl",
				"Floss", 
				"Yungblud Happier Jump",  
				"Godlike", 
				"Mae Stephens - Piano Hands", 
				"Victory Dance", 
				"Elton John - Heart Skip", 
				"Sturdy Dance - Ice Spice", 
				"Old Town Road Dance - Lil Nas X (LNX)"
			},
			default = "Baby Queen - Bouncy Twirl",
			callback = function(value)
				library.animation_player.animation_id = animation_ids[value] or "rbxassetid://14352343065"
				if lp.Character then
					loadAnimationTrack(lp.Character)
				end
			end,
		})

		player_section:slider({
			name = "Animation Speed",
			flag = "animation_speed",
			min = 0,
			max = 10,
			default = 1,
			callback = function(value)
				library.animation_player.speed = value
				if animationTrack and isPlaying then
					animationTrack:AdjustSpeed(value)
				end
			end,
		})

				ragdoll_section:toggle({
			name = "Enable Ragdoll",
			flag = "ragdoll_enabled",
			callback = function(value)
				library.ragdoll.enabled = value
				if value then
					enable_ragdoll()
				else
					disable_ragdoll()
				end
			end,
		})

		ragdoll_section:dropdown({
			name = "Shape",
			flag = "ragdoll_shape",
			items = {"Ball", "Block", "Cylinder", "Wedge", "CornerWedge"},
			default = "Ball",
			callback = function(value)
				library.ragdoll.shape = value
				if library.ragdoll.enabled then
					disable_ragdoll()
					task.wait(0.1)
					enable_ragdoll()
				end
			end,
		})

		ragdoll_section:slider({
			name = "Speed Multiplier",
			flag = "ragdoll_speed",
			min = 1,
			max = 100,
			default = 30,
			callback = function(value)
				library.ragdoll.speed_multiplier = value
			end,
		})

		ragdoll_section:slider({
			name = "Jump Power",
			flag = "ragdoll_jump_power",
			min = 10,
			max = 150,
			default = 60,
			callback = function(value)
				library.ragdoll.jump_power = value
			end,
		})
		end 
								do
				desync_section:toggle({
			name = "Enable Desync",
			flag = "desync_enabled",
			callback = function(value)
				library.desync.enabled = value
				if not value then
					library.desync.active = false
				end
								if flags.desync_key and flags.desync_key.update_visibility then
					flags.desync_key.update_visibility()
				end
			end,
		})

		desync_section:keybind({
			name = "Desync Key",
			flag = "desync_key",
			default = Enum.KeyCode.F,
			mode = "toggle",
			keybind_name = "desync",
			parent_enabled = function() return library.desync.enabled end,
			callback = function(active)
				if library.desync.enabled then
					library.desync.active = active
				end
			end,
		})

		desync_section:toggle({
			name = "Break Move Direction",
			flag = "break_move_direction",
			callback = function(value)
				library.desync.break_move_direction = value
			end,
		})

		desync_section:slider({
			name = "Min X Offset",
			flag = "desync_min_x",
			min = -50000,
			max = 50000,
			default = -10,
			callback = function(value)
				library.desync.min_x = value
			end,
		})

		desync_section:slider({
			name = "Max X Offset",
			flag = "desync_max_x",
			min = -50000,
			max = 50000,
			default = 10,
			callback = function(value)
				library.desync.max_x = value
			end,
		})

		desync_section:slider({
			name = "Min Y Offset",
			flag = "desync_min_y",
			min = -50000,
			max = 50000,
			default = -10,
			callback = function(value)
				library.desync.min_y = value
			end,
		})

		desync_section:slider({
			name = "Max Y Offset",
			flag = "desync_max_y",
			min = -50000,
			max = 50000,
			default = 10,
			callback = function(value)
				library.desync.max_y = value
			end,
		})

		desync_section:slider({
			name = "Min Z Offset",
			flag = "desync_min_z",
			min = -50000,
			max = 50000,
			default = -10,
			callback = function(value)
				library.desync.min_z = value
			end,
		})

		desync_section:slider({
			name = "Max Z Offset",
			flag = "desync_max_z",
			min = -50000,
			max = 50000,
			default = 10,
			callback = function(value)
				library.desync.max_z = value
			end,
		})

		network_section:slider({
			name = "Min Rotation",
			flag = "desync_min_rotation",
			min = 0,
			max = 360,
			default = 0,
			callback = function(value)
				library.desync.min_rotation = value
			end,
		})

		network_section:slider({
			name = "Max Rotation",
			flag = "desync_max_rotation",
			min = 0,
			max = 360,
			default = 360,
			callback = function(value)
				library.desync.max_rotation = value
			end,
		})

		network_section:slider({
			name = "Velocity",
			flag = "desync_velocity",
			min = 0,
			max = 999999,
			default = 999999,
			callback = function(value)
				library.desync.max_velocity = value == 999999 and math.huge or value
			end,
		})

				fakepos_section:toggle({
			name = "Enable Fake Position",
			flag = "fakepos_enabled",
			callback = function(value)
				library.fakepos.enabled = value
				if not value then
					library.fakepos.active = false
				end
								if flags.fakepos_key and flags.fakepos_key.update_visibility then
					flags.fakepos_key.update_visibility()
				end
			end,
		})

		fakepos_section:keybind({
			name = "FakePos Key",
			flag = "fakepos_key",
			default = Enum.KeyCode.H,
			mode = "toggle",
			keybind_name = "fake position",
			parent_enabled = function() return library.fakepos.enabled end,
			callback = function(active)
				if library.fakepos.enabled then
					library.fakepos.active = active
				end
			end,
		})

		fakepos_section:toggle({
			name = "Extreme Mode",
			flag = "fakepos_extreme",
			callback = function(value)
				library.fakepos.extreme_mode = value
			end,
		})

		fakepos_section:toggle({
			name = "Anti-Clip",
			flag = "fakepos_anticlip",
			callback = function(value)
				library.fakepos.anticlip = value
			end,
		})

		fakepos_section:slider({
			name = "X Offset",
			flag = "fakepos_offset_x",
			min = -50,
			max = 50,
			default = 0,
			callback = function(value)
				library.fakepos.offset_x = value
			end,
		})

		fakepos_section:slider({
			name = "Y Offset",
			flag = "fakepos_offset_y",
			min = -50,
			max = 50,
			default = -6,
			callback = function(value)
				library.fakepos.offset_y = value
			end,
		})

		fakepos_section:slider({
			name = "Z Offset",
			flag = "fakepos_offset_z",
			min = -50,
			max = 50,
			default = 0,
			callback = function(value)
				library.fakepos.offset_z = value
			end,
		})

		fakepos_section:slider({
			name = "Rotation",
			flag = "fakepos_rotation",
			min = 0,
			max = 360,
			default = 90,
			callback = function(value)
				library.fakepos.rotation = value
			end,
		})

				spinbot_section:toggle({
			name = "Enable Spinbot",
			flag = "spinbot_enabled",
			callback = function(value)
				library.spinbot.enabled = value
								if not value and lp.Character and lp.Character:FindFirstChild("Humanoid") then
					lp.Character.Humanoid.AutoRotate = true
				end
			end,
		})

		spinbot_section:dropdown({
			name = "Mode",
			flag = "spinbot_mode",
			items = {"Normal", "Rotational"},
			default = "Normal",
			callback = function(value)
				library.spinbot.mode = value
			end,
		})

		spinbot_section:toggle({
			name = "Server Only",
			flag = "spinbot_server_only",
			callback = function(value)
				library.spinbot.server_only = value
			end,
		})

		spinbot_section:toggle({
			name = "X Axis",
			flag = "spinbot_x_axis",
			default = true,
			callback = function(value)
				library.spinbot.x_enabled = value
			end,
		})

		spinbot_section:toggle({
			name = "Y Axis",
			flag = "spinbot_y_axis",
			default = true,
			callback = function(value)
				library.spinbot.y_enabled = value
			end,
		})

		spinbot_section:toggle({
			name = "Z Axis",
			flag = "spinbot_z_axis",
			default = true,
			callback = function(value)
				library.spinbot.z_enabled = value
			end,
		})

		spinbot_section:slider({
			name = "Speed",
			flag = "spinbot_speed",
			min = 1,
			max = 150,
			default = 50,
			callback = function(value)
				library.spinbot.speed = value
			end,
		})

		visualize_hrp_section:toggle({
			name = "Enable Visualizer",
			flag = "visualize_server_hrp",
			callback = function(value)
				library.server_hrp_visualizer.enabled = value
				if value then
					_G.EnableServerHRPVisualizer()
				else
					_G.DisableServerHRPVisualizer()
				end
			end,
		})

		visualize_hrp_section:slider({
			name = "Transparency",
			flag = "visualizer_transparency",
			min = 0,
			max = 100,
			default = 50,
			callback = function(value)
				library.server_hrp_visualizer.transparency = value / 100
			end,
		})

		visualize_hrp_section:slider({
			name = "Network Delay (ms)",
			flag = "visualizer_delay",
			min = 0,
			max = 500,
			default = 100,
			callback = function(value)
				library.server_hrp_visualizer.delay_simulation = value / 1000
			end,
		})

		visualize_hrp_section:colorpicker({
			name = "Color",
			flag = "visualizer_color",
			default = Color3.fromRGB(255, 0, 0),
			callback = function(value)
				library.server_hrp_visualizer.color = value
			end,
		})
		end 
								do
				silent_aim_section:toggle({
			name = "Enable Silent Aim",
			flag = "silent_aim_enabled",
			callback = function(value)
				library.silent_aim.enabled = value
				if not value then
					library.silent_aim.active = false
				end
								if flags.silent_aim_key and flags.silent_aim_key.update_visibility then
					flags.silent_aim_key.update_visibility()
				end
			end,
		})

	local silent_aim_keybind = silent_aim_section:keybind({
		name = "Silent Aim Key",
		flag = "silent_aim_key",
		default = Enum.KeyCode.C,
		mode = "hold",
		keybind_name = "silent aim",
		parent_enabled = function() return library.silent_aim.enabled end,
		callback = function(active)
			if library.silent_aim.enabled then
				library.silent_aim.active = active
								if not active and library.silent_aim.sticky_mode then
			library.silent_aim.sticky_target = nil
			end
		end
	end,
})

	silent_aim_section:dropdown({
		name = "Hit Part",
		flag = "silent_aim_hitpart",
		items = {"Head", "UpperTorso", "LowerTorso", "HumanoidRootPart"},
		callback = function(value)
			library.silent_aim.hit_part = value
		end,
	})

	silent_aim_section:toggle({
		name = "Sticky Mode",
		flag = "silent_aim_sticky_mode",
		callback = function(value)
			library.silent_aim.sticky_mode = value
			if not value then
				library.silent_aim.sticky_target = nil
			end
		end,
	})

	silent_aim_section:toggle({
		name = "Visible Check",
		flag = "silent_aim_visible_check",
		callback = function(value)
			library.silent_aim.visible_check = value
		end,
	})

	silent_aim_section:toggle({
		name = "Knocked Check",
		flag = "silent_aim_knocked_check",
		callback = function(value)
			library.silent_aim.knocked_check = value
		end,
	})

	silent_aim_section:toggle({
		name = "Crew Check",
		flag = "silent_aim_crew_check",
		callback = function(value)
			library.silent_aim.crew_check = value
		end,
	})

	silent_aim_section:toggle({
		name = "Wall Check",
		flag = "silent_aim_wall_check",
		callback = function(value)
			library.silent_aim.wall_check = value
		end,
	})

	silent_aim_section:toggle({
		name = "Target Tracer",
		flag = "silent_aim_target_tracer",
		callback = function(value)
			library.silent_aim.target_tracer = value
		end,
	})		silent_aim_section:dropdown({
			name = "Tracer From",
			flag = "silent_aim_tracer_from",
			items = {"center", "tool"},
			default = "center",
			callback = function(value)
				library.silent_aim.tracer_from = value
			end,
		})

		silent_aim_section:colorpicker({
			name = "Tracer Color",
			flag = "silent_aim_tracer_color",
			default = rgb(255, 0, 0),
			callback = function(color)
				library.silent_aim.tracer_color = color
			end,
		})

		camera_lock_section:toggle({
			name = "Enable Camera Lock",
			flag = "camera_lock_enabled",
			callback = function(value)
				library.camera_lock.enabled = value
				if not value then
					library.camera_lock.target = nil
					library.camera_lock.active = false
				end
								if flags.camera_lock_key and flags.camera_lock_key.update_visibility then
					flags.camera_lock_key.update_visibility()
				end
			end,
		})

		camera_lock_section:keybind({
			name = "Camera Lock Key",
			flag = "camera_lock_key",
			default = Enum.KeyCode.Q,
			mode = "toggle",
			keybind_name = "camera lock",
			parent_enabled = function() return library.camera_lock.enabled end,
			callback = function(active)
				if library.camera_lock.enabled then
					library.camera_lock.active = active
					if active then
						library.camera_lock.target = GetClosestPlayerForCamera()
					else
						library.camera_lock.target = nil
					end
				end
			end,
		})

		camera_lock_section:slider({
			name = "Smoothness",
			flag = "camera_smoothness",
			min = 0,
			max = 10,
			default = 1,
			callback = function(value)
				library.camera_lock.smoothness = value
			end,
		})

		camera_lock_section:toggle({
			name = "Predict Movement",
			flag = "camera_predict",
			callback = function(value)
				library.camera_lock.predict_movement = value
			end,
		})

		camera_lock_section:slider({
			name = "Prediction Amount",
			flag = "prediction_amount",
			min = 0,
			max = 0.5,
			decimals = 0.01,
			default = 0.1,
			callback = function(value)
				library.camera_lock.prediction_amount = value
			end,
		})

		fov_section:toggle({
			name = "Show FOV Circle",
			flag = "fov_visible",
			default = true,
			callback = function(value)
				library.silent_aim.fov_visible = value
			end,
		})

		fov_section:slider({
			name = "FOV Radius",
			flag = "fov_radius",
			min = 50,
			max = 500,
			default = 150,
			callback = function(value)
				library.silent_aim.fov_radius = value
			end,
		})

		fov_section:colorpicker({
			name = "FOV Color",
			flag = "fov_color",
			default = rgb(255, 0, 0),
			callback = function(color)
				library.silent_aim.fov_color = color
			end,
		})

		fov_section:slider({
			name = "FOV Thickness",
			flag = "fov_thickness",
			min = 1,
			max = 5,
			default = 1,
			callback = function(value)
				library.silent_aim.fov_thickness = value
			end,
		})

		fov_section:slider({
			name = "FOV Transparency",
			flag = "fov_transparency",
			min = 0,
			max = 1,
			decimals = 0.1,
			default = 1,
			callback = function(value)
				library.silent_aim.fov_transparency = value
			end,
		})

		camera_fov_section:toggle({
			name = "Show FOV Circle",
			flag = "camera_fov_visible",
			default = true,
			callback = function(value)
				library.camera_lock.fov_visible = value
			end,
		})

		camera_fov_section:slider({
			name = "FOV Radius",
			flag = "camera_fov_radius",
			min = 50,
			max = 500,
			default = 200,
			callback = function(value)
				library.camera_lock.fov_radius = value
			end,
		})

		camera_fov_section:colorpicker({
			name = "FOV Color",
			flag = "camera_fov_color",
			default = rgb(0, 255, 0),
			callback = function(color)
				library.camera_lock.fov_color = color
			end,
		})

		camera_fov_section:slider({
			name = "FOV Thickness",
			flag = "camera_fov_thickness",
			min = 1,
			max = 5,
			default = 1,
			callback = function(value)
				library.camera_lock.fov_thickness = value
			end,
		})

		camera_fov_section:slider({
			name = "FOV Transparency",
			flag = "camera_fov_transparency",
			min = 0,
			max = 1,
			decimals = 0.1,
			default = 1,
			callback = function(value)
				library.camera_lock.fov_transparency = value
			end,
		})

				kill_aura_section:toggle({
			name = "Enable Kill Aura",
			flag = "kill_aura_enabled",
			callback = function(value)
				library.kill_aura.enabled = value
			end,
		})

		kill_aura_section:slider({
			name = "Range",
			flag = "kill_aura_range",
			min = 50,
			max = 1000,
			default = 500,
			callback = function(value)
				library.kill_aura.range = value
			end,
		})

	kill_aura_section:toggle({
		name = "Rapid Fire",
		flag = "rapid_fire_enabled",
		callback = function(value)
			library.rapid_fire.enabled = value
			if not value then
				restore_rapid_fire()
			end
		end,
	})		kill_aura_section:toggle({
			name = "Bullet Spread",
			flag = "bullet_spread_enabled",
			callback = function(value)
				library.bullet_spread.enabled = value
			end,
		})

		kill_aura_section:slider({
			name = "Spread Amount",
			flag = "bullet_spread_amount",
			min = 0,
			max = 200,
			default = 100,
			callback = function(value)
				library.bullet_spread.amount = value
			end,
		})

				target_aim_section:toggle({
			name = "Enable Target Aim",
			flag = "target_aim_enabled",
			callback = function(value)
				library.target_aim.enabled = value
				if not value then
					library.target_aim.active = false
				end
								if flags.target_aim_key and flags.target_aim_key.update_visibility then
					flags.target_aim_key.update_visibility()
				end
			end,
		})

		target_aim_section:keybind({
			name = "Target Aim Key",
			flag = "target_aim_key",
			default = Enum.KeyCode.T,
			mode = "hold",
			keybind_name = "target aim",
			parent_enabled = function() return library.target_aim.enabled end,
			callback = function(active)
				if library.target_aim.enabled then
					library.target_aim.active = active
				end
			end,
		})

				local function get_all_players()
			local player_names = {"None"}
			for _, player in ipairs(players:GetPlayers()) do
				if player ~= lp then
				table.insert(player_names, player.Name)
			end
		end
		return player_names
	end

	
	target_aim_section:toggle({
		name = "Auto Fire",
		flag = "target_aim_autofire",
		callback = function(value)
			library.target_aim.auto_fire = value
		end,
	})		target_aim_section:toggle({
			name = "Strafe",
			flag = "target_aim_strafe",
			callback = function(value)
				library.target_aim.strafe = value
			end,
		})

		target_aim_section:dropdown({
			name = "Strafe Method",
			flag = "target_aim_strafe_method",
			items = {"Orbit", "Randomize"},
			default = "Randomize",
			callback = function(value)
				library.target_aim.strafe_method = value
			end,
		})

		target_aim_section:toggle({
			name = "CSync",
			flag = "target_aim_csync",
			callback = function(value)
				library.target_aim.csync = value
			end,
		})

		target_aim_section:toggle({
			name = "Visualize Strafe",
			flag = "target_aim_visualize_strafe",
			callback = function(value)
				library.target_aim.visualize_strafe = value
			end,
		})

		target_aim_section:colorpicker({
			name = "Visualize Color",
			flag = "target_aim_visualize_color",
			default = Color3.fromRGB(0, 0, 0),
			callback = function(color)
				library.target_aim.visualize_strafe_color = color
			end,
		})

		target_aim_section:toggle({
			name = "LookAt",
			flag = "target_aim_lookat",
			callback = function(value)
				library.target_aim.look_at = value
			end,
		})

		target_aim_section:toggle({
			name = "Void Resolver",
			flag = "target_aim_void_resolver",
			callback = function(value)
				library.target_aim.void_resolver = value
			end,
		})

		target_aim_section:toggle({
			name = "Auto Stomp",
			flag = "target_aim_auto_stomp",
			callback = function(value)
				library.target_aim.auto_stomp = value
			end,
		})

				target_aim_settings_section:toggle({
			name = "Highlight",
			flag = "target_aim_highlight",
			callback = function(value)
				library.target_aim.highlight = value
			end,
		})

		target_aim_settings_section:colorpicker({
			name = "Highlight Fill",
			flag = "target_aim_highlight_fill",
			default = Color3.fromRGB(0, 0, 0),
			callback = function(color)
				library.target_aim.highlight_fill_color = color
			end,
		})

		target_aim_settings_section:colorpicker({
			name = "Highlight Outline",
			flag = "target_aim_highlight_outline",
			default = Color3.fromRGB(129, 105, 145),
			callback = function(color)
				library.target_aim.highlight_outline_color = color
			end,
		})

		target_aim_settings_section:toggle({
			name = "Tracer",
			flag = "target_aim_tracer",
			callback = function(value)
				library.target_aim.tracer = value
			end,
		})

		target_aim_settings_section:dropdown({
			name = "Tracer Position",
			flag = "target_aim_tracer_position",
			items = {"Mouse", "Tool"},
			default = "Mouse",
			callback = function(value)
				library.target_aim.tracer_position = value
			end,
		})

		target_aim_settings_section:colorpicker({
			name = "Tracer Fill",
			flag = "target_aim_tracer_fill",
			default = Color3.fromRGB(0, 0, 0),
			callback = function(color)
				library.target_aim.tracer_fill_color = color
			end,
		})

		target_aim_settings_section:colorpicker({
			name = "Tracer Outline",
			flag = "target_aim_tracer_outline",
			default = Color3.fromRGB(0, 0, 0),
			callback = function(color)
				library.target_aim.tracer_outline_color = color
			end,
		})

				magic_bullet_section:toggle({
			name = "Enable Magic Bullet",
			flag = "magic_bullet_enabled",
			callback = function(value)
				library.magic_bullet.enabled = value
				if value then
										local function GetClosestTarget()
						local ClosestDistance, ClosestPlayer = nil, nil
						local MousePosition = uis:GetMouseLocation()

						for _, Player in pairs(players:GetPlayers()) do
							if Player ~= lp and Player.Character and Player.Character:FindFirstChild('Head') then
								local Character = Player.Character
								local Head = Character:FindFirstChild('Head')
								local Humanoid = Character:FindFirstChild("Humanoid")

								if Head and Humanoid and Humanoid.Health > 0 then
									local ScreenPosition, Visible = camera:WorldToScreenPoint(Head.Position)
									if Visible then
										local Distance = (MousePosition - vec2(ScreenPosition.X, ScreenPosition.Y)).Magnitude
										if Distance <= library.magic_bullet.fov_radius and (not ClosestDistance or Distance < ClosestDistance) then
											ClosestDistance, ClosestPlayer = Distance, Player
										end
									end
								end
							end
						end

						return ClosestPlayer
					end

										task.spawn(function()
						while library.magic_bullet.enabled and wait() do
							local targetPlayer = GetClosestTarget()
							if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild('Head') then
								library.magic_bullet.target = targetPlayer
								library.magic_bullet.target_head = targetPlayer.Character:FindFirstChild('Head')
								library.magic_bullet.target_position = library.magic_bullet.target_head.CFrame.Position
							else
								library.magic_bullet.target = nil
								library.magic_bullet.target_head = nil
							end
						end
					end)

										local original_namecall
					original_namecall = hookmetamethod(game, '__namecall', newcclosure(function(self, ...)
						local method = getnamecallmethod():lower()
						local args = { ... }

						if self.Name == 'MainEvent' and method == 'fireserver' and library.magic_bullet.enabled then
							if args[1] == 'ShootGun' and library.magic_bullet.target_head then
								args[4] = library.magic_bullet.target_head.CFrame.Position
								args[5] = library.magic_bullet.target_head
								return original_namecall(self, unpack(args))
							end
						end

						return original_namecall(self, ...)
					end))
					library.magic_bullet.hook = original_namecall
				else
					library.magic_bullet.enabled = false
					library.magic_bullet.target = nil
				end
			end,
		})

		magic_fov_section:toggle({
			name = "Show FOV Circle",
			flag = "magic_fov_visible",
			default = true,
			callback = function(value)
				library.magic_bullet.fov_visible = value
			end,
		})

		magic_fov_section:slider({
			name = "FOV Radius",
			flag = "magic_fov_radius",
			min = 50,
			max = 500,
			default = 200,
			callback = function(value)
				library.magic_bullet.fov_radius = value
			end,
		})

		magic_fov_section:colorpicker({
			name = "FOV Color",
			flag = "magic_fov_color",
			default = rgb(0, 255, 0),
			callback = function(color)
				library.magic_bullet.fov_color = color
			end,
		})

		magic_fov_section:slider({
			name = "FOV Thickness",
			flag = "magic_fov_thickness",
			min = 1,
			max = 5,
			default = 2,
			callback = function(value)
				library.magic_bullet.fov_thickness = value
			end,
		})
		end 
								do
				gui_settings_section:toggle({
			name = "Keybind List",
			flag = "keybind_list",
			default = true,
			callback = function(value)
				window.toggle_list(value)
			end,
		})

		gui_settings_section:toggle({
			name = "Player List",
			flag = "player_list",
			default = true,
			callback = function(value)
				window.toggle_playerlist(value)
			end,
		})

		gui_settings_section:keybind({
			name = "UI Toggle",
			flag = "ui_toggle",
			default = Enum.KeyCode.Insert,
			callback = function(key)
				library.ui_toggle_key = key
			end,
		})

				config_section:textbox({
			name = "Config Name",
			flag = "config_name",
			placeholder = "Enter config name",
			callback = function(value)
			end,
		})

		config_section:button({
			name = "Save Config",
			callback = function()
				local config_name = flags["config_name"] or "default"
				library:save_config(config_name)
				library:notification({
					text = "Config saved: " .. config_name,
				})
			end,
		})

		config_section:button({
			name = "Load Config",
			callback = function()
				local config_name = flags["config_name"] or "default"
				library:load_config(config_name)
				library:notification({
					text = "Config loaded: " .. config_name,
				})
			end,
		})
		end 
				library:notification({
			text = "Skeet.hmm loaded successfully!",
		})

				library:connection(uis.InputBegan, function(input, game_event)
			if game_event then return end
			
			local ui_toggle = flags["ui_toggle"]
			if ui_toggle and ui_toggle.key and input.KeyCode == ui_toggle.key then
				for _, frame in pairs(library.main_frame) do
					frame.Visible = not frame.Visible
				end
			end
		end)
	end

		library:init()

	return library
